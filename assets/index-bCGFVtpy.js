const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-B0ovMVOD.js","assets/base-BNMV4bYI.js","assets/native-0yERHjGs.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function I0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var od={exports:{}},ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function fC(){if(My)return ia;My=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,l){var f=null;if(l!==void 0&&(f=""+l),a.key!==void 0&&(f=""+a.key),"key"in a){l={};for(var p in a)p!=="key"&&(l[p]=a[p])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:f,ref:a!==void 0?a:null,props:l}}return ia.Fragment=e,ia.jsx=i,ia.jsxs=i,ia}var Dy;function dC(){return Dy||(Dy=1,od.exports=fC()),od.exports}var A=dC(),rd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function hC(){if(ky)return Te;ky=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),_=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=_&&I[_]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function k(I,J,X){this.props=I,this.context=J,this.refs=R,this.updater=X||b}k.prototype.isReactComponent={},k.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function z(){}z.prototype=k.prototype;function q(I,J,X){this.props=I,this.context=J,this.refs=R,this.updater=X||b}var G=q.prototype=new z;G.constructor=q,M(G,k.prototype),G.isPureReactComponent=!0;var W=Array.isArray;function V(){}var F={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function Q(I,J,X){var re=X.ref;return{$$typeof:t,type:I,key:J,ref:re!==void 0?re:null,props:X}}function he(I,J){return Q(I.type,J,I.props)}function ce(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function _e(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(X){return J[X]})}var ye=/\/+/g;function Ie(I,J){return typeof I=="object"&&I!==null&&I.key!=null?_e(""+I.key):J.toString(36)}function Fe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(V,V):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,J,X,re,se){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case t:case e:Re=!0;break;case v:return Re=I._init,H(Re(I._payload),J,X,re,se)}}if(Re)return se=se(I),Re=re===""?"."+Ie(I,0):re,W(se)?(X="",Re!=null&&(X=Re.replace(ye,"$&/")+"/"),H(se,J,X,"",function(Gt){return Gt})):se!=null&&(ce(se)&&(se=he(se,X+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(ye,"$&/")+"/")+Re)),J.push(se)),1;Re=0;var Be=re===""?".":re+":";if(W(I))for(var ze=0;ze<I.length;ze++)re=I[ze],pe=Be+Ie(re,ze),Re+=H(re,J,X,pe,se);else if(ze=C(I),typeof ze=="function")for(I=ze.call(I),ze=0;!(re=I.next()).done;)re=re.value,pe=Be+Ie(re,ze++),Re+=H(re,J,X,pe,se);else if(pe==="object"){if(typeof I.then=="function")return H(Fe(I),J,X,re,se);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(I,J,X){if(I==null)return I;var re=[],se=0;return H(I,re,"","",function(pe){return J.call(X,pe,se++)}),re}function oe(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(X){(I._status===0||I._status===-1)&&(I._status=1,I._result=X)},function(X){(I._status===0||I._status===-1)&&(I._status=2,I._result=X)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var we=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Le={map:Z,forEach:function(I,J,X){Z(I,function(){J.apply(this,arguments)},X)},count:function(I){var J=0;return Z(I,function(){J++}),J},toArray:function(I){return Z(I,function(J){return J})||[]},only:function(I){if(!ce(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Te.Activity=T,Te.Children=Le,Te.Component=k,Te.Fragment=i,Te.Profiler=a,Te.PureComponent=q,Te.StrictMode=r,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Te.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},Te.cache=function(I){return function(){return I.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(I,J,X){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var re=M({},I.props),se=I.key;if(J!=null)for(pe in J.key!==void 0&&(se=""+J.key),J)!ne.call(J,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&J.ref===void 0||(re[pe]=J[pe]);var pe=arguments.length-2;if(pe===1)re.children=X;else if(1<pe){for(var Re=Array(pe),Be=0;Be<pe;Be++)Re[Be]=arguments[Be+2];re.children=Re}return Q(I.type,se,re)},Te.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Te.createElement=function(I,J,X){var re,se={},pe=null;if(J!=null)for(re in J.key!==void 0&&(pe=""+J.key),J)ne.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=J[re]);var Re=arguments.length-2;if(Re===1)se.children=X;else if(1<Re){for(var Be=Array(Re),ze=0;ze<Re;ze++)Be[ze]=arguments[ze+2];se.children=Be}if(I&&I.defaultProps)for(re in Re=I.defaultProps,Re)se[re]===void 0&&(se[re]=Re[re]);return Q(I,pe,se)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(I){return{$$typeof:p,render:I}},Te.isValidElement=ce,Te.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:oe}},Te.memo=function(I,J){return{$$typeof:m,type:I,compare:J===void 0?null:J}},Te.startTransition=function(I){var J=F.T,X={};F.T=X;try{var re=I(),se=F.S;se!==null&&se(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(V,we)}catch(pe){we(pe)}finally{J!==null&&X.types!==null&&(J.types=X.types),F.T=J}},Te.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Te.use=function(I){return F.H.use(I)},Te.useActionState=function(I,J,X){return F.H.useActionState(I,J,X)},Te.useCallback=function(I,J){return F.H.useCallback(I,J)},Te.useContext=function(I){return F.H.useContext(I)},Te.useDebugValue=function(){},Te.useDeferredValue=function(I,J){return F.H.useDeferredValue(I,J)},Te.useEffect=function(I,J){return F.H.useEffect(I,J)},Te.useEffectEvent=function(I){return F.H.useEffectEvent(I)},Te.useId=function(){return F.H.useId()},Te.useImperativeHandle=function(I,J,X){return F.H.useImperativeHandle(I,J,X)},Te.useInsertionEffect=function(I,J){return F.H.useInsertionEffect(I,J)},Te.useLayoutEffect=function(I,J){return F.H.useLayoutEffect(I,J)},Te.useMemo=function(I,J){return F.H.useMemo(I,J)},Te.useOptimistic=function(I,J){return F.H.useOptimistic(I,J)},Te.useReducer=function(I,J,X){return F.H.useReducer(I,J,X)},Te.useRef=function(I){return F.H.useRef(I)},Te.useState=function(I){return F.H.useState(I)},Te.useSyncExternalStore=function(I,J,X){return F.H.useSyncExternalStore(I,J,X)},Te.useTransition=function(){return F.H.useTransition()},Te.version="19.2.4",Te}var Uy;function rh(){return Uy||(Uy=1,rd.exports=hC()),rd.exports}var j=rh();const pC=I0(j);var sd={exports:{}},oa={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function mC(){return Ly||(Ly=1,(function(t){function e(H,Z){var oe=H.length;H.push(Z);e:for(;0<oe;){var we=oe-1>>>1,Le=H[we];if(0<a(Le,Z))H[we]=Z,H[oe]=Le,oe=we;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],oe=H.pop();if(oe!==Z){H[0]=oe;e:for(var we=0,Le=H.length,I=Le>>>1;we<I;){var J=2*(we+1)-1,X=H[J],re=J+1,se=H[re];if(0>a(X,oe))re<Le&&0>a(se,X)?(H[we]=se,H[re]=oe,we=re):(H[we]=X,H[J]=oe,we=J);else if(re<Le&&0>a(se,oe))H[we]=se,H[re]=oe,we=re;else break e}}return Z}function a(H,Z){var oe=H.sortIndex-Z.sortIndex;return oe!==0?oe:H.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,T=null,_=3,C=!1,b=!1,M=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G(H){for(var Z=i(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=H)r(m),Z.sortIndex=Z.expirationTime,e(g,Z);else break;Z=i(m)}}function W(H){if(M=!1,G(H),!b)if(i(g)!==null)b=!0,V||(V=!0,_e());else{var Z=i(m);Z!==null&&Fe(W,Z.startTime-H)}}var V=!1,F=-1,ne=5,Q=-1;function he(){return R?!0:!(t.unstable_now()-Q<ne)}function ce(){if(R=!1,V){var H=t.unstable_now();Q=H;var Z=!0;try{e:{b=!1,M&&(M=!1,z(F),F=-1),C=!0;var oe=_;try{t:{for(G(H),T=i(g);T!==null&&!(T.expirationTime>H&&he());){var we=T.callback;if(typeof we=="function"){T.callback=null,_=T.priorityLevel;var Le=we(T.expirationTime<=H);if(H=t.unstable_now(),typeof Le=="function"){T.callback=Le,G(H),Z=!0;break t}T===i(g)&&r(g),G(H)}else r(g);T=i(g)}if(T!==null)Z=!0;else{var I=i(m);I!==null&&Fe(W,I.startTime-H),Z=!1}}break e}finally{T=null,_=oe,C=!1}Z=void 0}}finally{Z?_e():V=!1}}}var _e;if(typeof q=="function")_e=function(){q(ce)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ie=ye.port2;ye.port1.onmessage=ce,_e=function(){Ie.postMessage(null)}}else _e=function(){k(ce,0)};function Fe(H,Z){F=k(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var oe=_;_=Z;try{return H()}finally{_=oe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=_;_=H;try{return Z()}finally{_=oe}},t.unstable_scheduleCallback=function(H,Z,oe){var we=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?we+oe:we):oe=we,H){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=oe+Le,H={id:v++,callback:Z,priorityLevel:H,startTime:oe,expirationTime:Le,sortIndex:-1},oe>we?(H.sortIndex=oe,e(m,H),i(g)===null&&H===i(m)&&(M?(z(F),F=-1):M=!0,Fe(W,oe-we))):(H.sortIndex=Le,e(g,H),b||C||(b=!0,V||(V=!0,_e()))),H},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(H){var Z=_;return function(){var oe=_;_=Z;try{return H.apply(this,arguments)}finally{_=oe}}}})(ld)),ld}var Py;function gC(){return Py||(Py=1,ad.exports=mC()),ad.exports}var ud={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function yC(){if(Oy)return Pt;Oy=1;var t=rh();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:m,implementation:v}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(g,m,null,v)},Pt.flushSync=function(g){var m=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=m,r.p=v,r.d.f()}},Pt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Pt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Pt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:C}):v==="script"&&r.d.X(g,{crossOrigin:T,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Pt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=p(v,m.crossOrigin);r.d.L(g,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Pt.requestFormReset=function(g){r.d.r(g)},Pt.unstable_batchedUpdates=function(g,m){return g(m)},Pt.useFormState=function(g,m,v){return f.H.useFormState(g,m,v)},Pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Pt.version="19.2.4",Pt}var Gy;function vC(){if(Gy)return ud.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ud.exports=yC(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function TC(){if(Hy)return oa;Hy=1;var t=gC(),e=rh(),i=vC();function r(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,s=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(s=o.return),n=o.return;while(n)}return o.tag===3?s:null}function f(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(r(188))}function m(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(r(188));return o!==n?null:n}for(var s=n,u=o;;){var h=s.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===s)return g(h),n;if(y===u)return g(h),o;y=y.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=y;else{for(var E=!1,S=h.child;S;){if(S===s){E=!0,s=h,u=y;break}if(S===u){E=!0,u=h,s=y;break}S=S.sibling}if(!E){for(S=y.child;S;){if(S===s){E=!0,s=y,u=h;break}if(S===u){E=!0,u=y,s=h;break}S=S.sibling}if(!E)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function Ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case q:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case G:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return o=n.displayName||null,o!==null?o:Ie(n.type)||"Memo";case ne:o=n._payload,n=n._init;try{return Ie(n(o))}catch{}}return null}var Fe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},we=[],Le=-1;function I(n){return{current:n}}function J(n){0>Le||(n.current=we[Le],we[Le]=null,Le--)}function X(n,o){Le++,we[Le]=n.current,n.current=o}var re=I(null),se=I(null),pe=I(null),Re=I(null);function Be(n,o){switch(X(pe,o),X(se,n),X(re,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?ey(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=ey(o),n=ty(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(re),X(re,n)}function ze(){J(re),J(se),J(pe)}function Gt(n){n.memoizedState!==null&&X(Re,n);var o=re.current,s=ty(o,n.type);o!==s&&(X(se,n),X(re,s))}function rn(n){se.current===n&&(J(re),J(se)),Re.current===n&&(J(Re),js._currentValue=oe)}var sn,an;function dt(n){if(sn===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);sn=o&&o[1]||"",an=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+n+an}var wt=!1;function bt(n,o){if(!n||wt)return"";wt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(O){var P=O}Reflect.construct(n,[],K)}else{try{K.call()}catch(O){P=O}n.call(K.prototype)}}else{try{throw Error()}catch(O){P=O}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(O){if(O&&P&&typeof O.stack=="string")return[O.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],S=y[1];if(E&&S){var w=E.split(`
`),L=S.split(`
`);for(h=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(u===w.length||h===L.length)for(u=w.length-1,h=L.length-1;1<=u&&0<=h&&w[u]!==L[h];)h--;for(;1<=u&&0<=h;u--,h--)if(w[u]!==L[h]){if(u!==1||h!==1)do if(u--,h--,0>h||w[u]!==L[h]){var B=`
`+w[u].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=u&&0<=h);break}}}finally{wt=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?dt(s):""}function ui(n,o){switch(n.tag){case 26:case 27:case 5:return dt(n.type);case 16:return dt("Lazy");case 13:return n.child!==o&&o!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return bt(n.type,!1);case 11:return bt(n.type.render,!1);case 1:return bt(n.type,!0);case 31:return dt("Activity");default:return""}}function Kt(n){try{var o="",s=null;do o+=ui(n,s),s=n,n=n.return;while(n);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pn=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,gn=t.unstable_cancelCallback,bo=t.unstable_shouldYield,ln=t.unstable_requestPaint,Et=t.unstable_now,Zn=t.unstable_getCurrentPriorityLevel,On=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,jn=t.unstable_NormalPriority,ci=t.unstable_LowPriority,Io=t.unstable_IdlePriority,Ro=t.log,No=t.unstable_setDisableYieldValue,yn=null,ht=null;function pt(n){if(typeof Ro=="function"&&No(n),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(yn,n)}catch{}}var it=Math.clz32?Math.clz32:cs,xo=Math.log,zi=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(xo(n)/zi|0)|0}var Gn=256,Hn=262144,te=4194304;function Ae(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fe(n,o,s){var u=n.pendingLanes;if(u===0)return 0;var h=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?h=Ae(u):(E&=S,E!==0?h=Ae(E):s||(s=S&~n,s!==0&&(h=Ae(s))))):(S=u&~y,S!==0?h=Ae(S):E!==0?h=Ae(E):s||(s=u&~n,s!==0&&(h=Ae(s)))),h===0?0:o!==0&&o!==h&&(o&y)===0&&(y=h&-h,s=o&-o,y>=s||y===32&&(s&4194048)!==0)?o:h}function He(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function Me(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function It(){var n=te;return te<<=1,(te&62914560)===0&&(te=4194304),n}function ut(n){for(var o=[],s=0;31>s;s++)o.push(n);return o}function mt(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vn(n,o,s,u,h,y){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,w=n.expirationTimes,L=n.hiddenUpdates;for(s=E&~s;0<s;){var B=31-it(s),K=1<<B;S[B]=0,w[B]=-1;var P=L[B];if(P!==null)for(L[B]=null,B=0;B<P.length;B++){var O=P[B];O!==null&&(O.lane&=-536870913)}s&=~K}u!==0&&vn(n,u,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~o))}function vn(n,o,s){n.pendingLanes|=o,n.suspendedLanes&=~o;var u=31-it(o);n.entangledLanes|=o,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function fs(n,o){var s=n.entangledLanes|=o;for(n=n.entanglements;s;){var u=31-it(s),h=1<<u;h&o|n[u]&o&&(n[u]|=o),s&=~h}}function ka(n,o){var s=o&-o;return s=(s&42)!==0?1:$t(s),(s&(n.suspendedLanes|o))!==0?0:s}function $t(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Bn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ds(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:Cy(n.type))}function hs(n,o){var s=Z.p;try{return Z.p=n,o()}finally{Z.p=s}}var Tn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Tn,tt="__reactProps$"+Tn,fi="__reactContainer$"+Tn,ar="__reactEvents$"+Tn,Ua="__reactListeners$"+Tn,La="__reactHandles$"+Tn,Pa="__reactResources$"+Tn,le="__reactMarker$"+Tn;function N(n){delete n[gt],delete n[tt],delete n[ar],delete n[Ua],delete n[La]}function $(n){var o=n[gt];if(o)return o;for(var s=n.parentNode;s;){if(o=s[fi]||s[gt]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(n=ly(n);n!==null;){if(s=n[gt])return s;n=ly(n)}return o}n=s,s=n.parentNode}return null}function ie(n){if(n=n[gt]||n[fi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function qe(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(r(33))}function ot(n){var o=n[Pa];return o||(o=n[Pa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ce(n){n[le]=!0}var xt=new Set,_n={};function Xt(n,o){ei(n,o),ei(n+"Capture",o)}function ei(n,o){for(_n[n]=o,n=0;n<o.length;n++)xt.add(o[n])}var St=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ps={},ms={};function iS(n){return Pn.call(ms,n)?!0:Pn.call(ps,n)?!1:St.test(n)?ms[n]=!0:(ps[n]=!0,!1)}function Oa(n,o,s){if(iS(o))if(s===null)n.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+s)}}function Ga(n,o,s){if(s===null)n.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+s)}}function di(n,o,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(o,s,""+u)}}function En(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jh(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function oS(n,o,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,y=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return h.call(this)},set:function(E){s=""+E,y.call(this,E)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Wu(n){if(!n._valueTracker){var o=Jh(n)?"checked":"value";n._valueTracker=oS(n,o,""+n[o])}}function Kh(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var s=o.getValue(),u="";return n&&(u=Jh(n)?n.checked?"true":"false":n.value),n=u,n!==s?(o.setValue(n),!0):!1}function Ha(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var rS=/[\n"\\]/g;function Sn(n){return n.replace(rS,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qu(n,o,s,u,h,y,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),o!=null?E==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+En(o)):n.value!==""+En(o)&&(n.value=""+En(o)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),o!=null?Zu(n,E,En(o)):s!=null?Zu(n,E,En(s)):u!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+En(S):n.removeAttribute("name")}function $h(n,o,s,u,h,y,E,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Wu(n);return}s=s!=null?""+En(s):"",o=o!=null?""+En(o):s,S||o===n.value||(n.value=o),n.defaultValue=o}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Wu(n)}function Zu(n,o,s){o==="number"&&Ha(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function lr(n,o,s,u){if(n=n.options,o){o={};for(var h=0;h<s.length;h++)o["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=o.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&u&&(n[s].defaultSelected=!0)}else{for(s=""+En(s),o=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}o!==null||n[h].disabled||(o=n[h])}o!==null&&(o.selected=!0)}}function Xh(n,o,s){if(o!=null&&(o=""+En(o),o!==n.value&&(n.value=o),s==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=s!=null?""+En(s):""}function Wh(n,o,s,u){if(o==null){if(u!=null){if(s!=null)throw Error(r(92));if(Fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),o=s}s=En(o),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),Wu(n)}function ur(n,o){if(o){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=o;return}}n.textContent=o}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qh(n,o,s){var u=o.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":u?n.setProperty(o,s):typeof s!="number"||s===0||sS.has(o)?o==="float"?n.cssFloat=s:n[o]=(""+s).trim():n[o]=s+"px"}function Zh(n,o,s){if(o!=null&&typeof o!="object")throw Error(r(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in o)u=o[h],o.hasOwnProperty(h)&&s[h]!==u&&Qh(n,h,u)}else for(var y in o)o.hasOwnProperty(y)&&Qh(n,y,o[y])}function ju(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return lS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function hi(){}var ec=null;function tc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cr=null,fr=null;function jh(n){var o=ie(n);if(o&&(n=o.stateNode)){var s=n[tt]||null;e:switch(n=o.stateNode,o.type){case"input":if(Qu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),o=s.name,s.type==="radio"&&o!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+o)+'"][type="radio"]'),o=0;o<s.length;o++){var u=s[o];if(u!==n&&u.form===n.form){var h=u[tt]||null;if(!h)throw Error(r(90));Qu(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<s.length;o++)u=s[o],u.form===n.form&&Kh(u)}break e;case"textarea":Xh(n,s.value,s.defaultValue);break e;case"select":o=s.value,o!=null&&lr(n,!!s.multiple,o,!1)}}}var nc=!1;function ep(n,o,s){if(nc)return n(o,s);nc=!0;try{var u=n(o);return u}finally{if(nc=!1,(cr!==null||fr!==null)&&(Il(),cr&&(o=cr,n=fr,fr=cr=null,jh(o),n)))for(o=0;o<n.length;o++)jh(n[o])}}function gs(n,o){var s=n.stateNode;if(s===null)return null;var u=s[tt]||null;if(u===null)return null;s=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,o,typeof s));return s}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(pi)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){ic=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{ic=!1}var qi=null,oc=null,Ba=null;function tp(){if(Ba)return Ba;var n,o=oc,s=o.length,u,h="value"in qi?qi.value:qi.textContent,y=h.length;for(n=0;n<s&&o[n]===h[n];n++);var E=s-n;for(u=1;u<=E&&o[s-u]===h[y-u];u++);return Ba=h.slice(n,1<u?1-u:void 0)}function za(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function qa(){return!0}function np(){return!1}function Wt(n){function o(s,u,h,y,E){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qa:np,this.isPropagationStopped=np,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),o}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Wt(Mo),vs=T({},Mo,{view:0,detail:0}),uS=Wt(vs),rc,sc,Ts,Ya=T({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ts&&(Ts&&n.type==="mousemove"?(rc=n.screenX-Ts.screenX,sc=n.screenY-Ts.screenY):sc=rc=0,Ts=n),rc)},movementY:function(n){return"movementY"in n?n.movementY:sc}}),ip=Wt(Ya),cS=T({},Ya,{dataTransfer:0}),fS=Wt(cS),dS=T({},vs,{relatedTarget:0}),ac=Wt(dS),hS=T({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=Wt(hS),mS=T({},Mo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gS=Wt(mS),yS=T({},Mo,{data:0}),op=Wt(yS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ES(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=_S[n])?!!o[n]:!1}function lc(){return ES}var SS=T({},vs,{key:function(n){if(n.key){var o=vS[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=za(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?TS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(n){return n.type==="keypress"?za(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?za(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AS=Wt(SS),CS=T({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=Wt(CS),wS=T({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),bS=Wt(wS),IS=T({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=Wt(IS),NS=T({},Ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xS=Wt(NS),MS=T({},Mo,{newState:0,oldState:0}),DS=Wt(MS),kS=[9,13,27,32],uc=pi&&"CompositionEvent"in window,_s=null;pi&&"documentMode"in document&&(_s=document.documentMode);var US=pi&&"TextEvent"in window&&!_s,sp=pi&&(!uc||_s&&8<_s&&11>=_s),ap=" ",lp=!1;function up(n,o){switch(n){case"keyup":return kS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var dr=!1;function LS(n,o){switch(n){case"compositionend":return cp(o);case"keypress":return o.which!==32?null:(lp=!0,ap);case"textInput":return n=o.data,n===ap&&lp?null:n;default:return null}}function PS(n,o){if(dr)return n==="compositionend"||!uc&&up(n,o)?(n=tp(),Ba=oc=qi=null,dr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sp&&o.locale!=="ko"?null:o.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!OS[n.type]:o==="textarea"}function dp(n,o,s,u){cr?fr?fr.push(u):fr=[u]:cr=u,o=Ul(o,"onChange"),0<o.length&&(s=new Fa("onChange","change",null,s,u),n.push({event:s,listeners:o}))}var Es=null,Ss=null;function GS(n){$g(n,0)}function Ja(n){var o=qe(n);if(Kh(o))return n}function hp(n,o){if(n==="change")return o}var pp=!1;if(pi){var cc;if(pi){var fc="oninput"in document;if(!fc){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),fc=typeof mp.oninput=="function"}cc=fc}else cc=!1;pp=cc&&(!document.documentMode||9<document.documentMode)}function gp(){Es&&(Es.detachEvent("onpropertychange",yp),Ss=Es=null)}function yp(n){if(n.propertyName==="value"&&Ja(Ss)){var o=[];dp(o,Ss,n,tc(n)),ep(GS,o)}}function HS(n,o,s){n==="focusin"?(gp(),Es=o,Ss=s,Es.attachEvent("onpropertychange",yp)):n==="focusout"&&gp()}function VS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ja(Ss)}function BS(n,o){if(n==="click")return Ja(o)}function zS(n,o){if(n==="input"||n==="change")return Ja(o)}function qS(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var un=typeof Object.is=="function"?Object.is:qS;function As(n,o){if(un(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var s=Object.keys(n),u=Object.keys(o);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Pn.call(o,h)||!un(n[h],o[h]))return!1}return!0}function vp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tp(n,o){var s=vp(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=o&&u>=o)return{node:s,offset:o-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vp(s)}}function _p(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?_p(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Ep(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Ha(n.document);o instanceof n.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)n=o.contentWindow;else break;o=Ha(n.document)}return o}function dc(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var FS=pi&&"documentMode"in document&&11>=document.documentMode,hr=null,hc=null,Cs=null,pc=!1;function Sp(n,o,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pc||hr==null||hr!==Ha(u)||(u=hr,"selectionStart"in u&&dc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cs&&As(Cs,u)||(Cs=u,u=Ul(hc,"onSelect"),0<u.length&&(o=new Fa("onSelect","select",null,o,s),n.push({event:o,listeners:u}),o.target=hr)))}function Do(n,o){var s={};return s[n.toLowerCase()]=o.toLowerCase(),s["Webkit"+n]="webkit"+o,s["Moz"+n]="moz"+o,s}var pr={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},mc={},Ap={};pi&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function ko(n){if(mc[n])return mc[n];if(!pr[n])return n;var o=pr[n],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ap)return mc[n]=o[s];return n}var Cp=ko("animationend"),wp=ko("animationiteration"),bp=ko("animationstart"),YS=ko("transitionrun"),JS=ko("transitionstart"),KS=ko("transitioncancel"),Ip=ko("transitionend"),Rp=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function zn(n,o){Rp.set(n,o),Xt(o,[n])}var Ka=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},An=[],mr=0,yc=0;function $a(){for(var n=mr,o=yc=mr=0;o<n;){var s=An[o];An[o++]=null;var u=An[o];An[o++]=null;var h=An[o];An[o++]=null;var y=An[o];if(An[o++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}y!==0&&Np(s,h,y)}}function Xa(n,o,s,u){An[mr++]=n,An[mr++]=o,An[mr++]=s,An[mr++]=u,yc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function vc(n,o,s,u){return Xa(n,o,s,u),Wa(n)}function Uo(n,o){return Xa(n,null,null,o),Wa(n)}function Np(n,o,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var h=!1,y=n.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&o!==null&&(h=31-it(s),n=y.hiddenUpdates,u=n[h],u===null?n[h]=[o]:u.push(o),o.lane=s|536870912),y):null}function Wa(n){if(50<Js)throw Js=0,Rf=null,Error(r(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var gr={};function $S(n,o,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,o,s,u){return new $S(n,o,s,u)}function Tc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mi(n,o){var s=n.alternate;return s===null?(s=cn(n.tag,o,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=o,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,o=n.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function xp(n,o){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,o=s.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Qa(n,o,s,u,h,y){var E=0;if(u=n,typeof n=="function")Tc(n)&&(E=1);else if(typeof n=="string")E=jA(n,s,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Q:return n=cn(31,s,o,h),n.elementType=Q,n.lanes=y,n;case M:return Lo(s.children,h,y,o);case R:E=8,h|=24;break;case k:return n=cn(12,s,o,h|2),n.elementType=k,n.lanes=y,n;case W:return n=cn(13,s,o,h),n.elementType=W,n.lanes=y,n;case V:return n=cn(19,s,o,h),n.elementType=V,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:E=10;break e;case z:E=9;break e;case G:E=11;break e;case F:E=14;break e;case ne:E=16,u=null;break e}E=29,s=Error(r(130,n===null?"null":typeof n,"")),u=null}return o=cn(E,s,o,h),o.elementType=n,o.type=u,o.lanes=y,o}function Lo(n,o,s,u){return n=cn(7,n,u,o),n.lanes=s,n}function _c(n,o,s){return n=cn(6,n,null,o),n.lanes=s,n}function Mp(n){var o=cn(18,null,null,0);return o.stateNode=n,o}function Ec(n,o,s){return o=cn(4,n.children!==null?n.children:[],n.key,o),o.lanes=s,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Dp=new WeakMap;function Cn(n,o){if(typeof n=="object"&&n!==null){var s=Dp.get(n);return s!==void 0?s:(o={value:n,source:o,stack:Kt(o)},Dp.set(n,o),o)}return{value:n,source:o,stack:Kt(o)}}var yr=[],vr=0,Za=null,ws=0,wn=[],bn=0,Fi=null,ti=1,ni="";function gi(n,o){yr[vr++]=ws,yr[vr++]=Za,Za=n,ws=o}function kp(n,o,s){wn[bn++]=ti,wn[bn++]=ni,wn[bn++]=Fi,Fi=n;var u=ti;n=ni;var h=32-it(u)-1;u&=~(1<<h),s+=1;var y=32-it(o)+h;if(30<y){var E=h-h%5;y=(u&(1<<E)-1).toString(32),u>>=E,h-=E,ti=1<<32-it(o)+h|s<<h|u,ni=y+n}else ti=1<<y|s<<h|u,ni=n}function Sc(n){n.return!==null&&(gi(n,1),kp(n,1,0))}function Ac(n){for(;n===Za;)Za=yr[--vr],yr[vr]=null,ws=yr[--vr],yr[vr]=null;for(;n===Fi;)Fi=wn[--bn],wn[bn]=null,ni=wn[--bn],wn[bn]=null,ti=wn[--bn],wn[bn]=null}function Up(n,o){wn[bn++]=ti,wn[bn++]=ni,wn[bn++]=Fi,ti=o.id,ni=o.overflow,Fi=n}var Mt=null,je=null,Ue=!1,Yi=null,In=!1,Cc=Error(r(519));function Ji(n){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bs(Cn(o,n)),Cc}function Lp(n){var o=n.stateNode,s=n.type,u=n.memoizedProps;switch(o[gt]=n,o[tt]=u,s){case"dialog":xe("cancel",o),xe("close",o);break;case"iframe":case"object":case"embed":xe("load",o);break;case"video":case"audio":for(s=0;s<$s.length;s++)xe($s[s],o);break;case"source":xe("error",o);break;case"img":case"image":case"link":xe("error",o),xe("load",o);break;case"details":xe("toggle",o);break;case"input":xe("invalid",o),$h(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":xe("invalid",o);break;case"textarea":xe("invalid",o),Wh(o,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||o.textContent===""+s||u.suppressHydrationWarning===!0||Zg(o.textContent,s)?(u.popover!=null&&(xe("beforetoggle",o),xe("toggle",o)),u.onScroll!=null&&xe("scroll",o),u.onScrollEnd!=null&&xe("scrollend",o),u.onClick!=null&&(o.onclick=hi),o=!0):o=!1,o||Ji(n,!0)}function Pp(n){for(Mt=n.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Mt=Mt.return}}function Tr(n){if(n!==Mt)return!1;if(!Ue)return Pp(n),Ue=!0,!1;var o=n.tag,s;if((s=o!==3&&o!==27)&&((s=o===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||qf(n.type,n.memoizedProps)),s=!s),s&&je&&Ji(n),Pp(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));je=ay(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));je=ay(n)}else o===27?(o=je,so(n.type)?(n=$f,$f=null,je=n):je=o):je=Mt?Nn(n.stateNode.nextSibling):null;return!0}function Po(){je=Mt=null,Ue=!1}function wc(){var n=Yi;return n!==null&&(en===null?en=n:en.push.apply(en,n),Yi=null),n}function bs(n){Yi===null?Yi=[n]:Yi.push(n)}var bc=I(null),Oo=null,yi=null;function Ki(n,o,s){X(bc,o._currentValue),o._currentValue=s}function vi(n){n._currentValue=bc.current,J(bc)}function Ic(n,o,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),n===s)break;n=n.return}}function Rc(n,o,s,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var E=h.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=h;for(var w=0;w<o.length;w++)if(S.context===o[w]){y.lanes|=s,S=y.alternate,S!==null&&(S.lanes|=s),Ic(y.return,s,n),u||(E=null);break e}y=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=s,y=E.alternate,y!==null&&(y.lanes|=s),Ic(E,s,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function _r(n,o,s,u){n=null;for(var h=o,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=h.type;un(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===Re.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(js):n=[js])}h=h.return}n!==null&&Rc(o,n,s,u),o.flags|=262144}function ja(n){for(n=n.firstContext;n!==null;){if(!un(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Go(n){Oo=n,yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dt(n){return Op(Oo,n)}function el(n,o){return Oo===null&&Go(n),Op(n,o)}function Op(n,o){var s=o._currentValue;if(o={context:o,memoizedValue:s,next:null},yi===null){if(n===null)throw Error(r(308));yi=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else yi=yi.next=o;return s}var XS=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){o.aborted=!0,n.forEach(function(s){return s()})}},WS=t.unstable_scheduleCallback,QS=t.unstable_NormalPriority,yt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new XS,data:new Map,refCount:0}}function Is(n){n.refCount--,n.refCount===0&&WS(QS,function(){n.controller.abort()})}var Rs=null,xc=0,Er=0,Sr=null;function ZS(n,o){if(Rs===null){var s=Rs=[];xc=0,Er=Uf(),Sr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return xc++,o.then(Gp,Gp),o}function Gp(){if(--xc===0&&Rs!==null){Sr!==null&&(Sr.status="fulfilled");var n=Rs;Rs=null,Er=0,Sr=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function jS(n,o){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){u.status="fulfilled",u.value=o;for(var h=0;h<s.length;h++)(0,s[h])(o)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var Hp=H.S;H.S=function(n,o){Sg=Et(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&ZS(n,o),Hp!==null&&Hp(n,o)};var Ho=I(null);function Mc(){var n=Ho.current;return n!==null?n:Qe.pooledCache}function tl(n,o){o===null?X(Ho,Ho.current):X(Ho,o.pool)}function Vp(){var n=Mc();return n===null?null:{parent:yt._currentValue,pool:n}}var Ar=Error(r(460)),Dc=Error(r(474)),nl=Error(r(542)),il={then:function(){}};function Bp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zp(n,o,s){switch(s=n[s],s===void 0?n.push(o):s!==o&&(o.then(hi,hi),o=s),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Fp(n),n;default:if(typeof o.status=="string")o.then(hi,hi);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=o,n.status="pending",n.then(function(u){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=u}},function(u){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Fp(n),n}throw Bo=o,Ar}}function Vo(n){try{var o=n._init;return o(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Bo=s,Ar):s}}var Bo=null;function qp(){if(Bo===null)throw Error(r(459));var n=Bo;return Bo=null,n}function Fp(n){if(n===Ar||n===nl)throw Error(r(483))}var Cr=null,Ns=0;function ol(n){var o=Ns;return Ns+=1,Cr===null&&(Cr=[]),zp(Cr,n,o)}function xs(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function rl(n,o){throw o.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Yp(n){function o(D,x){if(n){var U=D.deletions;U===null?(D.deletions=[x],D.flags|=16):U.push(x)}}function s(D,x){if(!n)return null;for(;x!==null;)o(D,x),x=x.sibling;return null}function u(D){for(var x=new Map;D!==null;)D.key!==null?x.set(D.key,D):x.set(D.index,D),D=D.sibling;return x}function h(D,x){return D=mi(D,x),D.index=0,D.sibling=null,D}function y(D,x,U){return D.index=U,n?(U=D.alternate,U!==null?(U=U.index,U<x?(D.flags|=67108866,x):U):(D.flags|=67108866,x)):(D.flags|=1048576,x)}function E(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function S(D,x,U,Y){return x===null||x.tag!==6?(x=_c(U,D.mode,Y),x.return=D,x):(x=h(x,U),x.return=D,x)}function w(D,x,U,Y){var de=U.type;return de===M?B(D,x,U.props.children,Y,U.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Vo(de)===x.type)?(x=h(x,U.props),xs(x,U),x.return=D,x):(x=Qa(U.type,U.key,U.props,null,D.mode,Y),xs(x,U),x.return=D,x)}function L(D,x,U,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Ec(U,D.mode,Y),x.return=D,x):(x=h(x,U.children||[]),x.return=D,x)}function B(D,x,U,Y,de){return x===null||x.tag!==7?(x=Lo(U,D.mode,Y,de),x.return=D,x):(x=h(x,U),x.return=D,x)}function K(D,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=_c(""+x,D.mode,U),x.return=D,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return U=Qa(x.type,x.key,x.props,null,D.mode,U),xs(U,x),U.return=D,U;case b:return x=Ec(x,D.mode,U),x.return=D,x;case ne:return x=Vo(x),K(D,x,U)}if(Fe(x)||_e(x))return x=Lo(x,D.mode,U,null),x.return=D,x;if(typeof x.then=="function")return K(D,ol(x),U);if(x.$$typeof===q)return K(D,el(D,x),U);rl(D,x)}return null}function P(D,x,U,Y){var de=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:S(D,x,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===de?w(D,x,U,Y):null;case b:return U.key===de?L(D,x,U,Y):null;case ne:return U=Vo(U),P(D,x,U,Y)}if(Fe(U)||_e(U))return de!==null?null:B(D,x,U,Y,null);if(typeof U.then=="function")return P(D,x,ol(U),Y);if(U.$$typeof===q)return P(D,x,el(D,U),Y);rl(D,U)}return null}function O(D,x,U,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return D=D.get(U)||null,S(x,D,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return D=D.get(Y.key===null?U:Y.key)||null,w(x,D,Y,de);case b:return D=D.get(Y.key===null?U:Y.key)||null,L(x,D,Y,de);case ne:return Y=Vo(Y),O(D,x,U,Y,de)}if(Fe(Y)||_e(Y))return D=D.get(U)||null,B(x,D,Y,de,null);if(typeof Y.then=="function")return O(D,x,U,ol(Y),de);if(Y.$$typeof===q)return O(D,x,U,el(x,Y),de);rl(x,Y)}return null}function ae(D,x,U,Y){for(var de=null,Pe=null,ue=x,Se=x=0,ke=null;ue!==null&&Se<U.length;Se++){ue.index>Se?(ke=ue,ue=null):ke=ue.sibling;var Oe=P(D,ue,U[Se],Y);if(Oe===null){ue===null&&(ue=ke);break}n&&ue&&Oe.alternate===null&&o(D,ue),x=y(Oe,x,Se),Pe===null?de=Oe:Pe.sibling=Oe,Pe=Oe,ue=ke}if(Se===U.length)return s(D,ue),Ue&&gi(D,Se),de;if(ue===null){for(;Se<U.length;Se++)ue=K(D,U[Se],Y),ue!==null&&(x=y(ue,x,Se),Pe===null?de=ue:Pe.sibling=ue,Pe=ue);return Ue&&gi(D,Se),de}for(ue=u(ue);Se<U.length;Se++)ke=O(ue,D,Se,U[Se],Y),ke!==null&&(n&&ke.alternate!==null&&ue.delete(ke.key===null?Se:ke.key),x=y(ke,x,Se),Pe===null?de=ke:Pe.sibling=ke,Pe=ke);return n&&ue.forEach(function(fo){return o(D,fo)}),Ue&&gi(D,Se),de}function me(D,x,U,Y){if(U==null)throw Error(r(151));for(var de=null,Pe=null,ue=x,Se=x=0,ke=null,Oe=U.next();ue!==null&&!Oe.done;Se++,Oe=U.next()){ue.index>Se?(ke=ue,ue=null):ke=ue.sibling;var fo=P(D,ue,Oe.value,Y);if(fo===null){ue===null&&(ue=ke);break}n&&ue&&fo.alternate===null&&o(D,ue),x=y(fo,x,Se),Pe===null?de=fo:Pe.sibling=fo,Pe=fo,ue=ke}if(Oe.done)return s(D,ue),Ue&&gi(D,Se),de;if(ue===null){for(;!Oe.done;Se++,Oe=U.next())Oe=K(D,Oe.value,Y),Oe!==null&&(x=y(Oe,x,Se),Pe===null?de=Oe:Pe.sibling=Oe,Pe=Oe);return Ue&&gi(D,Se),de}for(ue=u(ue);!Oe.done;Se++,Oe=U.next())Oe=O(ue,D,Se,Oe.value,Y),Oe!==null&&(n&&Oe.alternate!==null&&ue.delete(Oe.key===null?Se:Oe.key),x=y(Oe,x,Se),Pe===null?de=Oe:Pe.sibling=Oe,Pe=Oe);return n&&ue.forEach(function(cC){return o(D,cC)}),Ue&&gi(D,Se),de}function We(D,x,U,Y){if(typeof U=="object"&&U!==null&&U.type===M&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var de=U.key;x!==null;){if(x.key===de){if(de=U.type,de===M){if(x.tag===7){s(D,x.sibling),Y=h(x,U.props.children),Y.return=D,D=Y;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Vo(de)===x.type){s(D,x.sibling),Y=h(x,U.props),xs(Y,U),Y.return=D,D=Y;break e}s(D,x);break}else o(D,x);x=x.sibling}U.type===M?(Y=Lo(U.props.children,D.mode,Y,U.key),Y.return=D,D=Y):(Y=Qa(U.type,U.key,U.props,null,D.mode,Y),xs(Y,U),Y.return=D,D=Y)}return E(D);case b:e:{for(de=U.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){s(D,x.sibling),Y=h(x,U.children||[]),Y.return=D,D=Y;break e}else{s(D,x);break}else o(D,x);x=x.sibling}Y=Ec(U,D.mode,Y),Y.return=D,D=Y}return E(D);case ne:return U=Vo(U),We(D,x,U,Y)}if(Fe(U))return ae(D,x,U,Y);if(_e(U)){if(de=_e(U),typeof de!="function")throw Error(r(150));return U=de.call(U),me(D,x,U,Y)}if(typeof U.then=="function")return We(D,x,ol(U),Y);if(U.$$typeof===q)return We(D,x,el(D,U),Y);rl(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(s(D,x.sibling),Y=h(x,U),Y.return=D,D=Y):(s(D,x),Y=_c(U,D.mode,Y),Y.return=D,D=Y),E(D)):s(D,x)}return function(D,x,U,Y){try{Ns=0;var de=We(D,x,U,Y);return Cr=null,de}catch(ue){if(ue===Ar||ue===nl)throw ue;var Pe=cn(29,ue,null,D.mode);return Pe.lanes=Y,Pe.return=D,Pe}finally{}}}var zo=Yp(!0),Jp=Yp(!1),$i=!1;function kc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wi(n,o,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var h=u.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),u.pending=o,o=Wa(n),Np(n,null,s),o}return Xa(n,u,o,s),Wa(n)}function Ms(n,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194048)!==0)){var u=o.lanes;u&=n.pendingLanes,s|=u,o.lanes=s,fs(n,s)}}function Lc(n,o){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?h=y=E:y=y.next=E,s=s.next}while(s!==null);y===null?h=y=o:y=y.next=o}else h=y=o;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=o:n.next=o,s.lastBaseUpdate=o}var Pc=!1;function Ds(){if(Pc){var n=Sr;if(n!==null)throw n}}function ks(n,o,s,u){Pc=!1;var h=n.updateQueue;$i=!1;var y=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var w=S,L=w.next;w.next=null,E===null?y=L:E.next=L,E=w;var B=n.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==E&&(S===null?B.firstBaseUpdate=L:S.next=L,B.lastBaseUpdate=w))}if(y!==null){var K=h.baseState;E=0,B=L=w=null,S=y;do{var P=S.lane&-536870913,O=P!==S.lane;if(O?(De&P)===P:(u&P)===P){P!==0&&P===Er&&(Pc=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ae=n,me=S;P=o;var We=s;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){K=ae.call(We,K,P);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,P=typeof ae=="function"?ae.call(We,K,P):ae,P==null)break e;K=T({},K,P);break e;case 2:$i=!0}}P=S.callback,P!==null&&(n.flags|=64,O&&(n.flags|=8192),O=h.callbacks,O===null?h.callbacks=[P]:O.push(P))}else O={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(L=B=O,w=K):B=B.next=O,E|=P;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;O=S,S=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);B===null&&(w=K),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=B,y===null&&(h.shared.lanes=0),to|=E,n.lanes=E,n.memoizedState=K}}function Kp(n,o){if(typeof n!="function")throw Error(r(191,n));n.call(o)}function $p(n,o){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Kp(s[n],o)}var wr=I(null),sl=I(0);function Xp(n,o){n=Ii,X(sl,n),X(wr,o),Ii=n|o.baseLanes}function Oc(){X(sl,Ii),X(wr,wr.current)}function Gc(){Ii=sl.current,J(wr),J(sl)}var fn=I(null),Rn=null;function Qi(n){var o=n.alternate;X(ct,ct.current&1),X(fn,n),Rn===null&&(o===null||wr.current!==null||o.memoizedState!==null)&&(Rn=n)}function Hc(n){X(ct,ct.current),X(fn,n),Rn===null&&(Rn=n)}function Wp(n){n.tag===22?(X(ct,ct.current),X(fn,n),Rn===null&&(Rn=n)):Zi()}function Zi(){X(ct,ct.current),X(fn,fn.current)}function dn(n){J(fn),Rn===n&&(Rn=null),J(ct)}var ct=I(0);function al(n){for(var o=n;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Jf(s)||Kf(s)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ti=0,Ee=null,$e=null,vt=null,ll=!1,br=!1,qo=!1,ul=0,Us=0,Ir=null,eA=0;function st(){throw Error(r(321))}function Vc(n,o){if(o===null)return!1;for(var s=0;s<o.length&&s<n.length;s++)if(!un(n[s],o[s]))return!1;return!0}function Bc(n,o,s,u,h,y){return Ti=y,Ee=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=n===null||n.memoizedState===null?km:nf,qo=!1,y=s(u,h),qo=!1,br&&(y=Zp(o,s,u,h)),Qp(n),y}function Qp(n){H.H=Os;var o=$e!==null&&$e.next!==null;if(Ti=0,vt=$e=Ee=null,ll=!1,Us=0,Ir=null,o)throw Error(r(300));n===null||Tt||(n=n.dependencies,n!==null&&ja(n)&&(Tt=!0))}function Zp(n,o,s,u){Ee=n;var h=0;do{if(br&&(Ir=null),Us=0,br=!1,25<=h)throw Error(r(301));if(h+=1,vt=$e=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Um,y=o(s,u)}while(br);return y}function tA(){var n=H.H,o=n.useState()[0];return o=typeof o.then=="function"?Ls(o):o,n=n.useState()[0],($e!==null?$e.memoizedState:null)!==n&&(Ee.flags|=1024),o}function zc(){var n=ul!==0;return ul=0,n}function qc(n,o,s){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~s}function Fc(n){if(ll){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}ll=!1}Ti=0,vt=$e=Ee=null,br=!1,Us=ul=0,Ir=null}function Vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ee.memoizedState=vt=n:vt=vt.next=n,vt}function ft(){if($e===null){var n=Ee.alternate;n=n!==null?n.memoizedState:null}else n=$e.next;var o=vt===null?Ee.memoizedState:vt.next;if(o!==null)vt=o,$e=n;else{if(n===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));$e=n,n={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ee.memoizedState=vt=n:vt=vt.next=n}return vt}function cl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(n){var o=Us;return Us+=1,Ir===null&&(Ir=[]),n=zp(Ir,n,o),o=Ee,(vt===null?o.memoizedState:vt.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?km:nf),n}function fl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ls(n);if(n.$$typeof===q)return Dt(n)}throw Error(r(438,String(n)))}function Yc(n){var o=null,s=Ee.updateQueue;if(s!==null&&(o=s.memoCache),o==null){var u=Ee.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),s===null&&(s=cl(),Ee.updateQueue=s),s.memoCache=o,s=o.data[o.index],s===void 0)for(s=o.data[o.index]=Array(n),u=0;u<n;u++)s[u]=he;return o.index++,s}function _i(n,o){return typeof o=="function"?o(n):o}function dl(n){var o=ft();return Jc(o,$e,n)}function Jc(n,o,s){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=n.baseQueue,y=u.pending;if(y!==null){if(h!==null){var E=h.next;h.next=y.next,y.next=E}o.baseQueue=h=y,u.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{o=h.next;var S=E=null,w=null,L=o,B=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(De&K)===K:(Ti&K)===K){var P=L.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===Er&&(B=!0);else if((Ti&P)===P){L=L.next,P===Er&&(B=!0);continue}else K={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(S=w=K,E=y):w=w.next=K,Ee.lanes|=P,to|=P;K=L.action,qo&&s(y,K),y=L.hasEagerState?L.eagerState:s(y,K)}else P={lane:K,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(S=w=P,E=y):w=w.next=P,Ee.lanes|=K,to|=K;L=L.next}while(L!==null&&L!==o);if(w===null?E=y:w.next=S,!un(y,n.memoizedState)&&(Tt=!0,B&&(s=Sr,s!==null)))throw s;n.memoizedState=y,n.baseState=E,n.baseQueue=w,u.lastRenderedState=y}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Kc(n){var o=ft(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var u=s.dispatch,h=s.pending,y=o.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do y=n(y,E.action),E=E.next;while(E!==h);un(y,o.memoizedState)||(Tt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),s.lastRenderedState=y}return[y,u]}function jp(n,o,s){var u=Ee,h=ft(),y=Ue;if(y){if(s===void 0)throw Error(r(407));s=s()}else s=o();var E=!un(($e||h).memoizedState,s);if(E&&(h.memoizedState=s,Tt=!0),h=h.queue,Wc(nm.bind(null,u,h,n),[n]),h.getSnapshot!==o||E||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,Rr(9,{destroy:void 0},tm.bind(null,u,h,s,o),null),Qe===null)throw Error(r(349));y||(Ti&127)!==0||em(u,o,s)}return s}function em(n,o,s){n.flags|=16384,n={getSnapshot:o,value:s},o=Ee.updateQueue,o===null?(o=cl(),Ee.updateQueue=o,o.stores=[n]):(s=o.stores,s===null?o.stores=[n]:s.push(n))}function tm(n,o,s,u){o.value=s,o.getSnapshot=u,im(o)&&om(n)}function nm(n,o,s){return s(function(){im(o)&&om(n)})}function im(n){var o=n.getSnapshot;n=n.value;try{var s=o();return!un(n,s)}catch{return!0}}function om(n){var o=Uo(n,2);o!==null&&tn(o,n,2)}function $c(n){var o=Vt();if(typeof n=="function"){var s=n;if(n=s(),qo){pt(!0);try{s()}finally{pt(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},o}function rm(n,o,s,u){return n.baseState=s,Jc(n,$e,typeof u=="function"?u:_i)}function nA(n,o,s,u,h){if(ml(n))throw Error(r(485));if(n=o.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};H.T!==null?s(!0):y.isTransition=!1,u(y),s=o.pending,s===null?(y.next=o.pending=y,sm(o,y)):(y.next=s.next,o.pending=s.next=y)}}function sm(n,o){var s=o.action,u=o.payload,h=n.state;if(o.isTransition){var y=H.T,E={};H.T=E;try{var S=s(h,u),w=H.S;w!==null&&w(E,S),am(n,o,S)}catch(L){Xc(n,o,L)}finally{y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}else try{y=s(h,u),am(n,o,y)}catch(L){Xc(n,o,L)}}function am(n,o,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){lm(n,o,u)},function(u){return Xc(n,o,u)}):lm(n,o,s)}function lm(n,o,s){o.status="fulfilled",o.value=s,um(o),n.state=s,o=n.pending,o!==null&&(s=o.next,s===o?n.pending=null:(s=s.next,o.next=s,sm(n,s)))}function Xc(n,o,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=s,um(o),o=o.next;while(o!==u)}n.action=null}function um(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function cm(n,o){return o}function fm(n,o){if(Ue){var s=Qe.formState;if(s!==null){e:{var u=Ee;if(Ue){if(je){t:{for(var h=je,y=In;h.nodeType!==8;){if(!y){h=null;break t}if(h=Nn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){je=Nn(h.nextSibling),u=h.data==="F!";break e}}Ji(u)}u=!1}u&&(o=s[0])}}return s=Vt(),s.memoizedState=s.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:o},s.queue=u,s=xm.bind(null,Ee,u),u.dispatch=s,u=$c(!1),y=tf.bind(null,Ee,!1,u.queue),u=Vt(),h={state:o,dispatch:null,action:n,pending:null},u.queue=h,s=nA.bind(null,Ee,h,y,s),h.dispatch=s,u.memoizedState=n,[o,s,!1]}function dm(n){var o=ft();return hm(o,$e,n)}function hm(n,o,s){if(o=Jc(n,o,cm)[0],n=dl(_i)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Ls(o)}catch(E){throw E===Ar?nl:E}else u=o;o=ft();var h=o.queue,y=h.dispatch;return s!==o.memoizedState&&(Ee.flags|=2048,Rr(9,{destroy:void 0},iA.bind(null,h,s),null)),[u,y,n]}function iA(n,o){n.action=o}function pm(n){var o=ft(),s=$e;if(s!==null)return hm(o,s,n);ft(),o=o.memoizedState,s=ft();var u=s.queue.dispatch;return s.memoizedState=n,[o,u,!1]}function Rr(n,o,s,u){return n={tag:n,create:s,deps:u,inst:o,next:null},o=Ee.updateQueue,o===null&&(o=cl(),Ee.updateQueue=o),s=o.lastEffect,s===null?o.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,o.lastEffect=n),n}function mm(){return ft().memoizedState}function hl(n,o,s,u){var h=Vt();Ee.flags|=n,h.memoizedState=Rr(1|o,{destroy:void 0},s,u===void 0?null:u)}function pl(n,o,s,u){var h=ft();u=u===void 0?null:u;var y=h.memoizedState.inst;$e!==null&&u!==null&&Vc(u,$e.memoizedState.deps)?h.memoizedState=Rr(o,y,s,u):(Ee.flags|=n,h.memoizedState=Rr(1|o,y,s,u))}function gm(n,o){hl(8390656,8,n,o)}function Wc(n,o){pl(2048,8,n,o)}function oA(n){Ee.flags|=4;var o=Ee.updateQueue;if(o===null)o=cl(),Ee.updateQueue=o,o.events=[n];else{var s=o.events;s===null?o.events=[n]:s.push(n)}}function ym(n){var o=ft().memoizedState;return oA({ref:o,nextImpl:n}),function(){if((Ve&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function vm(n,o){return pl(4,2,n,o)}function Tm(n,o){return pl(4,4,n,o)}function _m(n,o){if(typeof o=="function"){n=n();var s=o(n);return function(){typeof s=="function"?s():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Em(n,o,s){s=s!=null?s.concat([n]):null,pl(4,4,_m.bind(null,o,n),s)}function Qc(){}function Sm(n,o){var s=ft();o=o===void 0?null:o;var u=s.memoizedState;return o!==null&&Vc(o,u[1])?u[0]:(s.memoizedState=[n,o],n)}function Am(n,o){var s=ft();o=o===void 0?null:o;var u=s.memoizedState;if(o!==null&&Vc(o,u[1]))return u[0];if(u=n(),qo){pt(!0);try{n()}finally{pt(!1)}}return s.memoizedState=[u,o],u}function Zc(n,o,s){return s===void 0||(Ti&1073741824)!==0&&(De&261930)===0?n.memoizedState=o:(n.memoizedState=s,n=Cg(),Ee.lanes|=n,to|=n,s)}function Cm(n,o,s,u){return un(s,o)?s:wr.current!==null?(n=Zc(n,s,u),un(n,o)||(Tt=!0),n):(Ti&42)===0||(Ti&1073741824)!==0&&(De&261930)===0?(Tt=!0,n.memoizedState=s):(n=Cg(),Ee.lanes|=n,to|=n,o)}function wm(n,o,s,u,h){var y=Z.p;Z.p=y!==0&&8>y?y:8;var E=H.T,S={};H.T=S,tf(n,!1,o,s);try{var w=h(),L=H.S;if(L!==null&&L(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var B=jS(w,u);Ps(n,o,B,mn(n))}else Ps(n,o,u,mn(n))}catch(K){Ps(n,o,{then:function(){},status:"rejected",reason:K},mn())}finally{Z.p=y,E!==null&&S.types!==null&&(E.types=S.types),H.T=E}}function rA(){}function jc(n,o,s,u){if(n.tag!==5)throw Error(r(476));var h=bm(n).queue;wm(n,h,o,oe,s===null?rA:function(){return Im(n),s(u)})}function bm(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:oe},next:null};var s={};return o.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:s},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Im(n){var o=bm(n);o.next===null&&(o=n.alternate.memoizedState),Ps(n,o.next.queue,{},mn())}function ef(){return Dt(js)}function Rm(){return ft().memoizedState}function Nm(){return ft().memoizedState}function sA(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var s=mn();n=Xi(s);var u=Wi(o,n,s);u!==null&&(tn(u,o,s),Ms(u,o,s)),o={cache:Nc()},n.payload=o;return}o=o.return}}function aA(n,o,s){var u=mn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ml(n)?Mm(o,s):(s=vc(n,o,s,u),s!==null&&(tn(s,n,u),Dm(s,o,u)))}function xm(n,o,s){var u=mn();Ps(n,o,s,u)}function Ps(n,o,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ml(n))Mm(o,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,S=y(E,s);if(h.hasEagerState=!0,h.eagerState=S,un(S,E))return Xa(n,o,h,0),Qe===null&&$a(),!1}catch{}finally{}if(s=vc(n,o,h,u),s!==null)return tn(s,n,u),Dm(s,o,u),!0}return!1}function tf(n,o,s,u){if(u={lane:2,revertLane:Uf(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ml(n)){if(o)throw Error(r(479))}else o=vc(n,s,u,2),o!==null&&tn(o,n,2)}function ml(n){var o=n.alternate;return n===Ee||o!==null&&o===Ee}function Mm(n,o){br=ll=!0;var s=n.pending;s===null?o.next=o:(o.next=s.next,s.next=o),n.pending=o}function Dm(n,o,s){if((s&4194048)!==0){var u=o.lanes;u&=n.pendingLanes,s|=u,o.lanes=s,fs(n,s)}}var Os={readContext:Dt,use:fl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Os.useEffectEvent=st;var km={readContext:Dt,use:fl,useCallback:function(n,o){return Vt().memoizedState=[n,o===void 0?null:o],n},useContext:Dt,useEffect:gm,useImperativeHandle:function(n,o,s){s=s!=null?s.concat([n]):null,hl(4194308,4,_m.bind(null,o,n),s)},useLayoutEffect:function(n,o){return hl(4194308,4,n,o)},useInsertionEffect:function(n,o){hl(4,2,n,o)},useMemo:function(n,o){var s=Vt();o=o===void 0?null:o;var u=n();if(qo){pt(!0);try{n()}finally{pt(!1)}}return s.memoizedState=[u,o],u},useReducer:function(n,o,s){var u=Vt();if(s!==void 0){var h=s(o);if(qo){pt(!0);try{s(o)}finally{pt(!1)}}}else h=o;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=aA.bind(null,Ee,n),[u.memoizedState,n]},useRef:function(n){var o=Vt();return n={current:n},o.memoizedState=n},useState:function(n){n=$c(n);var o=n.queue,s=xm.bind(null,Ee,o);return o.dispatch=s,[n.memoizedState,s]},useDebugValue:Qc,useDeferredValue:function(n,o){var s=Vt();return Zc(s,n,o)},useTransition:function(){var n=$c(!1);return n=wm.bind(null,Ee,n.queue,!0,!1),Vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,s){var u=Ee,h=Vt();if(Ue){if(s===void 0)throw Error(r(407));s=s()}else{if(s=o(),Qe===null)throw Error(r(349));(De&127)!==0||em(u,o,s)}h.memoizedState=s;var y={value:s,getSnapshot:o};return h.queue=y,gm(nm.bind(null,u,y,n),[n]),u.flags|=2048,Rr(9,{destroy:void 0},tm.bind(null,u,y,s,o),null),s},useId:function(){var n=Vt(),o=Qe.identifierPrefix;if(Ue){var s=ni,u=ti;s=(u&~(1<<32-it(u)-1)).toString(32)+s,o="_"+o+"R_"+s,s=ul++,0<s&&(o+="H"+s.toString(32)),o+="_"}else s=eA++,o="_"+o+"r_"+s.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:ef,useFormState:fm,useActionState:fm,useOptimistic:function(n){var o=Vt();o.memoizedState=o.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=s,o=tf.bind(null,Ee,!0,s),s.dispatch=o,[n,o]},useMemoCache:Yc,useCacheRefresh:function(){return Vt().memoizedState=sA.bind(null,Ee)},useEffectEvent:function(n){var o=Vt(),s={impl:n};return o.memoizedState=s,function(){if((Ve&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},nf={readContext:Dt,use:fl,useCallback:Sm,useContext:Dt,useEffect:Wc,useImperativeHandle:Em,useInsertionEffect:vm,useLayoutEffect:Tm,useMemo:Am,useReducer:dl,useRef:mm,useState:function(){return dl(_i)},useDebugValue:Qc,useDeferredValue:function(n,o){var s=ft();return Cm(s,$e.memoizedState,n,o)},useTransition:function(){var n=dl(_i)[0],o=ft().memoizedState;return[typeof n=="boolean"?n:Ls(n),o]},useSyncExternalStore:jp,useId:Rm,useHostTransitionStatus:ef,useFormState:dm,useActionState:dm,useOptimistic:function(n,o){var s=ft();return rm(s,$e,n,o)},useMemoCache:Yc,useCacheRefresh:Nm};nf.useEffectEvent=ym;var Um={readContext:Dt,use:fl,useCallback:Sm,useContext:Dt,useEffect:Wc,useImperativeHandle:Em,useInsertionEffect:vm,useLayoutEffect:Tm,useMemo:Am,useReducer:Kc,useRef:mm,useState:function(){return Kc(_i)},useDebugValue:Qc,useDeferredValue:function(n,o){var s=ft();return $e===null?Zc(s,n,o):Cm(s,$e.memoizedState,n,o)},useTransition:function(){var n=Kc(_i)[0],o=ft().memoizedState;return[typeof n=="boolean"?n:Ls(n),o]},useSyncExternalStore:jp,useId:Rm,useHostTransitionStatus:ef,useFormState:pm,useActionState:pm,useOptimistic:function(n,o){var s=ft();return $e!==null?rm(s,$e,n,o):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Nm};Um.useEffectEvent=ym;function of(n,o,s,u){o=n.memoizedState,s=s(u,o),s=s==null?o:T({},o,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var rf={enqueueSetState:function(n,o,s){n=n._reactInternals;var u=mn(),h=Xi(u);h.payload=o,s!=null&&(h.callback=s),o=Wi(n,h,u),o!==null&&(tn(o,n,u),Ms(o,n,u))},enqueueReplaceState:function(n,o,s){n=n._reactInternals;var u=mn(),h=Xi(u);h.tag=1,h.payload=o,s!=null&&(h.callback=s),o=Wi(n,h,u),o!==null&&(tn(o,n,u),Ms(o,n,u))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var s=mn(),u=Xi(s);u.tag=2,o!=null&&(u.callback=o),o=Wi(n,u,s),o!==null&&(tn(o,n,s),Ms(o,n,s))}};function Lm(n,o,s,u,h,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,E):o.prototype&&o.prototype.isPureReactComponent?!As(s,u)||!As(h,y):!0}function Pm(n,o,s,u){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,u),o.state!==n&&rf.enqueueReplaceState(o,o.state,null)}function Fo(n,o){var s=o;if("ref"in o){s={};for(var u in o)u!=="ref"&&(s[u]=o[u])}if(n=n.defaultProps){s===o&&(s=T({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}function Om(n){Ka(n)}function Gm(n){console.error(n)}function Hm(n){Ka(n)}function gl(n,o){try{var s=n.onUncaughtError;s(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function Vm(n,o,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(n,o,s){return s=Xi(s),s.tag=3,s.payload={element:null},s.callback=function(){gl(n,o)},s}function Bm(n){return n=Xi(n),n.tag=3,n}function zm(n,o,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;n.payload=function(){return h(y)},n.callback=function(){Vm(o,s,u)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Vm(o,s,u),typeof h!="function"&&(no===null?no=new Set([this]):no.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function lA(n,o,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=s.alternate,o!==null&&_r(o,s,h,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return Rn===null?Rl():s.alternate===null&&at===0&&(at=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===il?s.flags|=16384:(o=s.updateQueue,o===null?s.updateQueue=new Set([u]):o.add(u),Mf(n,u,h)),!1;case 22:return s.flags|=65536,u===il?s.flags|=16384:(o=s.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=o):(s=o.retryQueue,s===null?o.retryQueue=new Set([u]):s.add(u)),Mf(n,u,h)),!1}throw Error(r(435,s.tag))}return Mf(n,u,h),Rl(),!1}if(Ue)return o=fn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,u!==Cc&&(n=Error(r(422),{cause:u}),bs(Cn(n,s)))):(u!==Cc&&(o=Error(r(423),{cause:u}),bs(Cn(o,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Cn(u,s),h=sf(n.stateNode,u,h),Lc(n,h),at!==4&&(at=2)),!1;var y=Error(r(520),{cause:u});if(y=Cn(y,s),Ys===null?Ys=[y]:Ys.push(y),at!==4&&(at=2),o===null)return!0;u=Cn(u,s),s=o;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=sf(s.stateNode,u,n),Lc(s,n),!1;case 1:if(o=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(no===null||!no.has(y))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bm(h),zm(h,n,s,u),Lc(s,h),!1}s=s.return}while(s!==null);return!1}var af=Error(r(461)),Tt=!1;function kt(n,o,s,u){o.child=n===null?Jp(o,null,s,u):zo(o,n.child,s,u)}function qm(n,o,s,u,h){s=s.render;var y=o.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Go(o),u=Bc(n,o,s,E,y,h),S=zc(),n!==null&&!Tt?(qc(n,o,h),Ei(n,o,h)):(Ue&&S&&Sc(o),o.flags|=1,kt(n,o,u,h),o.child)}function Fm(n,o,s,u,h){if(n===null){var y=s.type;return typeof y=="function"&&!Tc(y)&&y.defaultProps===void 0&&s.compare===null?(o.tag=15,o.type=y,Ym(n,o,y,u,h)):(n=Qa(s.type,null,u,o,o.mode,h),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!mf(n,h)){var E=y.memoizedProps;if(s=s.compare,s=s!==null?s:As,s(E,u)&&n.ref===o.ref)return Ei(n,o,h)}return o.flags|=1,n=mi(y,u),n.ref=o.ref,n.return=o,o.child=n}function Ym(n,o,s,u,h){if(n!==null){var y=n.memoizedProps;if(As(y,u)&&n.ref===o.ref)if(Tt=!1,o.pendingProps=u=y,mf(n,h))(n.flags&131072)!==0&&(Tt=!0);else return o.lanes=n.lanes,Ei(n,o,h)}return lf(n,o,s,u,h)}function Jm(n,o,s,u){var h=u.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,n!==null){for(u=o.child=n.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~y}else u=0,o.child=null;return Km(n,o,y,s,u)}if((s&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&tl(o,y!==null?y.cachePool:null),y!==null?Xp(o,y):Oc(),Wp(o);else return u=o.lanes=536870912,Km(n,o,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(tl(o,y.cachePool),Xp(o,y),Zi(),o.memoizedState=null):(n!==null&&tl(o,null),Oc(),Zi());return kt(n,o,h,s),o.child}function Gs(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Km(n,o,s,u,h){var y=Mc();return y=y===null?null:{parent:yt._currentValue,pool:y},o.memoizedState={baseLanes:s,cachePool:y},n!==null&&tl(o,null),Oc(),Wp(o),n!==null&&_r(n,o,u,!0),o.childLanes=h,null}function yl(n,o){return o=Tl({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function $m(n,o,s){return zo(o,n.child,null,s),n=yl(o,o.pendingProps),n.flags|=2,dn(o),o.memoizedState=null,n}function uA(n,o,s){var u=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=yl(o,u),o.lanes=536870912,Gs(null,n);if(Hc(o),(n=je)?(n=sy(n,In),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Fi!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},s=Mp(n),s.return=o,o.child=s,Mt=o,je=null)):n=null,n===null)throw Ji(o);return o.lanes=536870912,null}return yl(o,u)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(Hc(o),h)if(o.flags&256)o.flags&=-257,o=$m(n,o,s);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(r(558));else if(Tt||_r(n,o,s,!1),h=(s&n.childLanes)!==0,Tt||h){if(u=Qe,u!==null&&(E=ka(u,s),E!==0&&E!==y.retryLane))throw y.retryLane=E,Uo(n,E),tn(u,n,E),af;Rl(),o=$m(n,o,s)}else n=y.treeContext,je=Nn(E.nextSibling),Mt=o,Ue=!0,Yi=null,In=!1,n!==null&&Up(o,n),o=yl(o,u),o.flags|=4096;return o}return n=mi(n.child,{mode:u.mode,children:u.children}),n.ref=o.ref,o.child=n,n.return=o,n}function vl(n,o){var s=o.ref;if(s===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(o.flags|=4194816)}}function lf(n,o,s,u,h){return Go(o),s=Bc(n,o,s,u,void 0,h),u=zc(),n!==null&&!Tt?(qc(n,o,h),Ei(n,o,h)):(Ue&&u&&Sc(o),o.flags|=1,kt(n,o,s,h),o.child)}function Xm(n,o,s,u,h,y){return Go(o),o.updateQueue=null,s=Zp(o,u,s,h),Qp(n),u=zc(),n!==null&&!Tt?(qc(n,o,y),Ei(n,o,y)):(Ue&&u&&Sc(o),o.flags|=1,kt(n,o,s,y),o.child)}function Wm(n,o,s,u,h){if(Go(o),o.stateNode===null){var y=gr,E=s.contextType;typeof E=="object"&&E!==null&&(y=Dt(E)),y=new s(u,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rf,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=u,y.state=o.memoizedState,y.refs={},kc(o),E=s.contextType,y.context=typeof E=="object"&&E!==null?Dt(E):gr,y.state=o.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(of(o,s,E,u),y.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&rf.enqueueReplaceState(y,y.state,null),ks(o,u,y,h),Ds(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(n===null){y=o.stateNode;var S=o.memoizedProps,w=Fo(s,S);y.props=w;var L=y.context,B=s.contextType;E=gr,typeof B=="object"&&B!==null&&(E=Dt(B));var K=s.getDerivedStateFromProps;B=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||L!==E)&&Pm(o,y,u,E),$i=!1;var P=o.memoizedState;y.state=P,ks(o,u,y,h),Ds(),L=o.memoizedState,S||P!==L||$i?(typeof K=="function"&&(of(o,s,K,u),L=o.memoizedState),(w=$i||Lm(o,s,w,u,P,L,E))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=L),y.props=u,y.state=L,y.context=E,u=w):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{y=o.stateNode,Uc(n,o),E=o.memoizedProps,B=Fo(s,E),y.props=B,K=o.pendingProps,P=y.context,L=s.contextType,w=gr,typeof L=="object"&&L!==null&&(w=Dt(L)),S=s.getDerivedStateFromProps,(L=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==K||P!==w)&&Pm(o,y,u,w),$i=!1,P=o.memoizedState,y.state=P,ks(o,u,y,h),Ds();var O=o.memoizedState;E!==K||P!==O||$i||n!==null&&n.dependencies!==null&&ja(n.dependencies)?(typeof S=="function"&&(of(o,s,S,u),O=o.memoizedState),(B=$i||Lm(o,s,B,u,P,O,w)||n!==null&&n.dependencies!==null&&ja(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,O,w),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,O,w)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&P===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&P===n.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=O),y.props=u,y.state=O,y.context=w,u=B):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&P===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&P===n.memoizedState||(o.flags|=1024),u=!1)}return y=u,vl(n,o),u=(o.flags&128)!==0,y||u?(y=o.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&u?(o.child=zo(o,n.child,null,h),o.child=zo(o,null,s,h)):kt(n,o,s,h),o.memoizedState=y.state,n=o.child):n=Ei(n,o,h),n}function Qm(n,o,s,u){return Po(),o.flags|=256,kt(n,o,s,u),o.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(n){return{baseLanes:n,cachePool:Vp()}}function ff(n,o,s){return n=n!==null?n.childLanes&~s:0,o&&(n|=pn),n}function Zm(n,o,s){var u=o.pendingProps,h=!1,y=(o.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),E&&(h=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,n===null){if(Ue){if(h?Qi(o):Zi(),(n=je)?(n=sy(n,In),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Fi!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},s=Mp(n),s.return=o,o.child=s,Mt=o,je=null)):n=null,n===null)throw Ji(o);return Kf(n)?o.lanes=32:o.lanes=536870912,null}var S=u.children;return u=u.fallback,h?(Zi(),h=o.mode,S=Tl({mode:"hidden",children:S},h),u=Lo(u,h,s,null),S.return=o,u.return=o,S.sibling=u,o.child=S,u=o.child,u.memoizedState=cf(s),u.childLanes=ff(n,E,s),o.memoizedState=uf,Gs(null,u)):(Qi(o),df(o,S))}var w=n.memoizedState;if(w!==null&&(S=w.dehydrated,S!==null)){if(y)o.flags&256?(Qi(o),o.flags&=-257,o=hf(n,o,s)):o.memoizedState!==null?(Zi(),o.child=n.child,o.flags|=128,o=null):(Zi(),S=u.fallback,h=o.mode,u=Tl({mode:"visible",children:u.children},h),S=Lo(S,h,s,null),S.flags|=2,u.return=o,S.return=o,u.sibling=S,o.child=u,zo(o,n.child,null,s),u=o.child,u.memoizedState=cf(s),u.childLanes=ff(n,E,s),o.memoizedState=uf,o=Gs(null,u));else if(Qi(o),Kf(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var L=E.dgst;E=L,u=Error(r(419)),u.stack="",u.digest=E,bs({value:u,source:null,stack:null}),o=hf(n,o,s)}else if(Tt||_r(n,o,s,!1),E=(s&n.childLanes)!==0,Tt||E){if(E=Qe,E!==null&&(u=ka(E,s),u!==0&&u!==w.retryLane))throw w.retryLane=u,Uo(n,u),tn(E,n,u),af;Jf(S)||Rl(),o=hf(n,o,s)}else Jf(S)?(o.flags|=192,o.child=n.child,o=null):(n=w.treeContext,je=Nn(S.nextSibling),Mt=o,Ue=!0,Yi=null,In=!1,n!==null&&Up(o,n),o=df(o,u.children),o.flags|=4096);return o}return h?(Zi(),S=u.fallback,h=o.mode,w=n.child,L=w.sibling,u=mi(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,L!==null?S=mi(L,S):(S=Lo(S,h,s,null),S.flags|=2),S.return=o,u.return=o,u.sibling=S,o.child=u,Gs(null,u),u=o.child,S=n.child.memoizedState,S===null?S=cf(s):(h=S.cachePool,h!==null?(w=yt._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Vp(),S={baseLanes:S.baseLanes|s,cachePool:h}),u.memoizedState=S,u.childLanes=ff(n,E,s),o.memoizedState=uf,Gs(n.child,u)):(Qi(o),s=n.child,n=s.sibling,s=mi(s,{mode:"visible",children:u.children}),s.return=o,s.sibling=null,n!==null&&(E=o.deletions,E===null?(o.deletions=[n],o.flags|=16):E.push(n)),o.child=s,o.memoizedState=null,s)}function df(n,o){return o=Tl({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Tl(n,o){return n=cn(22,n,null,o),n.lanes=0,n}function hf(n,o,s){return zo(o,n.child,null,s),n=df(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function jm(n,o,s){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o),Ic(n.return,o,s)}function pf(n,o,s,u,h,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=s,E.tailMode=h,E.treeForkCount=y)}function eg(n,o,s){var u=o.pendingProps,h=u.revealOrder,y=u.tail;u=u.children;var E=ct.current,S=(E&2)!==0;if(S?(E=E&1|2,o.flags|=128):E&=1,X(ct,E),kt(n,o,u,s),u=Ue?ws:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jm(n,s,o);else if(n.tag===19)jm(n,s,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(s=o.child,h=null;s!==null;)n=s.alternate,n!==null&&al(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=o.child,o.child=null):(h=s.sibling,s.sibling=null),pf(o,!1,h,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=o.child,o.child=null;h!==null;){if(n=h.alternate,n!==null&&al(n)===null){o.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}pf(o,!0,s,null,y,u);break;case"together":pf(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function Ei(n,o,s){if(n!==null&&(o.dependencies=n.dependencies),to|=o.lanes,(s&o.childLanes)===0)if(n!==null){if(_r(n,o,s,!1),(s&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,s=mi(n,n.pendingProps),o.child=s,s.return=o;n.sibling!==null;)n=n.sibling,s=s.sibling=mi(n,n.pendingProps),s.return=o;s.sibling=null}return o.child}function mf(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&ja(n)))}function cA(n,o,s){switch(o.tag){case 3:Be(o,o.stateNode.containerInfo),Ki(o,yt,n.memoizedState.cache),Po();break;case 27:case 5:Gt(o);break;case 4:Be(o,o.stateNode.containerInfo);break;case 10:Ki(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hc(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(o),o.flags|=128,null):(s&o.child.childLanes)!==0?Zm(n,o,s):(Qi(o),n=Ei(n,o,s),n!==null?n.sibling:null);Qi(o);break;case 19:var h=(n.flags&128)!==0;if(u=(s&o.childLanes)!==0,u||(_r(n,o,s,!1),u=(s&o.childLanes)!==0),h){if(u)return eg(n,o,s);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(ct,ct.current),u)break;return null;case 22:return o.lanes=0,Jm(n,o,s,o.pendingProps);case 24:Ki(o,yt,n.memoizedState.cache)}return Ei(n,o,s)}function tg(n,o,s){if(n!==null)if(n.memoizedProps!==o.pendingProps)Tt=!0;else{if(!mf(n,s)&&(o.flags&128)===0)return Tt=!1,cA(n,o,s);Tt=(n.flags&131072)!==0}else Tt=!1,Ue&&(o.flags&1048576)!==0&&kp(o,ws,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(n=Vo(o.elementType),o.type=n,typeof n=="function")Tc(n)?(u=Fo(n,u),o.tag=1,o=Wm(null,o,n,u,s)):(o.tag=0,o=lf(null,o,n,u,s));else{if(n!=null){var h=n.$$typeof;if(h===G){o.tag=11,o=qm(null,o,n,u,s);break e}else if(h===F){o.tag=14,o=Fm(null,o,n,u,s);break e}}throw o=Ie(n)||n,Error(r(306,o,""))}}return o;case 0:return lf(n,o,o.type,o.pendingProps,s);case 1:return u=o.type,h=Fo(u,o.pendingProps),Wm(n,o,u,h,s);case 3:e:{if(Be(o,o.stateNode.containerInfo),n===null)throw Error(r(387));u=o.pendingProps;var y=o.memoizedState;h=y.element,Uc(n,o),ks(o,u,null,s);var E=o.memoizedState;if(u=E.cache,Ki(o,yt,u),u!==y.cache&&Rc(o,[yt],s,!0),Ds(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Qm(n,o,u,s);break e}else if(u!==h){h=Cn(Error(r(424)),o),bs(h),o=Qm(n,o,u,s);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(je=Nn(n.firstChild),Mt=o,Ue=!0,Yi=null,In=!0,s=Jp(o,null,u,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Po(),u===h){o=Ei(n,o,s);break e}kt(n,o,u,s)}o=o.child}return o;case 26:return vl(n,o),n===null?(s=dy(o.type,null,o.pendingProps,null))?o.memoizedState=s:Ue||(s=o.type,n=o.pendingProps,u=Ll(pe.current).createElement(s),u[gt]=o,u[tt]=n,Ut(u,s,n),Ce(u),o.stateNode=u):o.memoizedState=dy(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Gt(o),n===null&&Ue&&(u=o.stateNode=uy(o.type,o.pendingProps,pe.current),Mt=o,In=!0,h=je,so(o.type)?($f=h,je=Nn(u.firstChild)):je=h),kt(n,o,o.pendingProps.children,s),vl(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Ue&&((h=u=je)&&(u=VA(u,o.type,o.pendingProps,In),u!==null?(o.stateNode=u,Mt=o,je=Nn(u.firstChild),In=!1,h=!0):h=!1),h||Ji(o)),Gt(o),h=o.type,y=o.pendingProps,E=n!==null?n.memoizedProps:null,u=y.children,qf(h,y)?u=null:E!==null&&qf(h,E)&&(o.flags|=32),o.memoizedState!==null&&(h=Bc(n,o,tA,null,null,s),js._currentValue=h),vl(n,o),kt(n,o,u,s),o.child;case 6:return n===null&&Ue&&((n=s=je)&&(s=BA(s,o.pendingProps,In),s!==null?(o.stateNode=s,Mt=o,je=null,n=!0):n=!1),n||Ji(o)),null;case 13:return Zm(n,o,s);case 4:return Be(o,o.stateNode.containerInfo),u=o.pendingProps,n===null?o.child=zo(o,null,u,s):kt(n,o,u,s),o.child;case 11:return qm(n,o,o.type,o.pendingProps,s);case 7:return kt(n,o,o.pendingProps,s),o.child;case 8:return kt(n,o,o.pendingProps.children,s),o.child;case 12:return kt(n,o,o.pendingProps.children,s),o.child;case 10:return u=o.pendingProps,Ki(o,o.type,u.value),kt(n,o,u.children,s),o.child;case 9:return h=o.type._context,u=o.pendingProps.children,Go(o),h=Dt(h),u=u(h),o.flags|=1,kt(n,o,u,s),o.child;case 14:return Fm(n,o,o.type,o.pendingProps,s);case 15:return Ym(n,o,o.type,o.pendingProps,s);case 19:return eg(n,o,s);case 31:return uA(n,o,s);case 22:return Jm(n,o,s,o.pendingProps);case 24:return Go(o),u=Dt(yt),n===null?(h=Mc(),h===null&&(h=Qe,y=Nc(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=s),h=y),o.memoizedState={parent:u,cache:h},kc(o),Ki(o,yt,h)):((n.lanes&s)!==0&&(Uc(n,o),ks(o,null,null,s),Ds()),h=n.memoizedState,y=o.memoizedState,h.parent!==u?(h={parent:u,cache:u},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),Ki(o,yt,u)):(u=y.cache,Ki(o,yt,u),u!==h.cache&&Rc(o,[yt],s,!0))),kt(n,o,o.pendingProps.children,s),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Si(n){n.flags|=4}function gf(n,o,s,u,h){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(Rg())n.flags|=8192;else throw Bo=il,Dc}else n.flags&=-16777217}function ng(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!yy(o))if(Rg())n.flags|=8192;else throw Bo=il,Dc}function _l(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?It():536870912,n.lanes|=o,Dr|=o)}function Hs(n,o){if(!Ue)switch(n.tailMode){case"hidden":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function et(n){var o=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(o)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=s,o}function fA(n,o,s){var u=o.pendingProps;switch(Ac(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(o),null;case 1:return et(o),null;case 3:return s=o.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),vi(yt),ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Tr(o)?Si(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wc())),et(o),null;case 26:var h=o.type,y=o.memoizedState;return n===null?(Si(o),y!==null?(et(o),ng(o,y)):(et(o),gf(o,h,null,u,s))):y?y!==n.memoizedState?(Si(o),et(o),ng(o,y)):(et(o),o.flags&=-16777217):(n=n.memoizedProps,n!==u&&Si(o),et(o),gf(o,h,n,u,s)),null;case 27:if(rn(o),s=pe.current,h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Si(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return et(o),null}n=re.current,Tr(o)?Lp(o):(n=uy(h,u,s),o.stateNode=n,Si(o))}return et(o),null;case 5:if(rn(o),h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Si(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return et(o),null}if(y=re.current,Tr(o))Lp(o);else{var E=Ll(pe.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(h,{is:u.is}):E.createElement(h)}}y[gt]=o,y[tt]=u;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=y;e:switch(Ut(y,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Si(o)}}return et(o),gf(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,s),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==u&&Si(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(n=pe.current,Tr(o)){if(n=o.stateNode,s=o.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[gt]=o,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Zg(n.nodeValue,s)),n||Ji(o,!0)}else n=Ll(n).createTextNode(u),n[gt]=o,o.stateNode=n}return et(o),null;case 31:if(s=o.memoizedState,n===null||n.memoizedState!==null){if(u=Tr(o),s!==null){if(n===null){if(!u)throw Error(r(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[gt]=o}else Po(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;et(o),n=!1}else s=wc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return o.flags&256?(dn(o),o):(dn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return et(o),null;case 13:if(u=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Tr(o),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[gt]=o}else Po(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;et(o),h=!1}else h=wc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(dn(o),o):(dn(o),null)}return dn(o),(o.flags&128)!==0?(o.lanes=s,o):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=o.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)),s!==n&&s&&(o.child.flags|=8192),_l(o,o.updateQueue),et(o),null);case 4:return ze(),n===null&&Gf(o.stateNode.containerInfo),et(o),null;case 10:return vi(o.type),et(o),null;case 19:if(J(ct),u=o.memoizedState,u===null)return et(o),null;if(h=(o.flags&128)!==0,y=u.rendering,y===null)if(h)Hs(u,!1);else{if(at!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=al(n),y!==null){for(o.flags|=128,Hs(u,!1),n=y.updateQueue,o.updateQueue=n,_l(o,n),o.subtreeFlags=0,n=s,s=o.child;s!==null;)xp(s,n),s=s.sibling;return X(ct,ct.current&1|2),Ue&&gi(o,u.treeForkCount),o.child}n=n.sibling}u.tail!==null&&Et()>wl&&(o.flags|=128,h=!0,Hs(u,!1),o.lanes=4194304)}else{if(!h)if(n=al(y),n!==null){if(o.flags|=128,h=!0,n=n.updateQueue,o.updateQueue=n,_l(o,n),Hs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ue)return et(o),null}else 2*Et()-u.renderingStartTime>wl&&s!==536870912&&(o.flags|=128,h=!0,Hs(u,!1),o.lanes=4194304);u.isBackwards?(y.sibling=o.child,o.child=y):(n=u.last,n!==null?n.sibling=y:o.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Et(),n.sibling=null,s=ct.current,X(ct,h?s&1|2:s&1),Ue&&gi(o,u.treeForkCount),n):(et(o),null);case 22:case 23:return dn(o),Gc(),u=o.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(s&536870912)!==0&&(o.flags&128)===0&&(et(o),o.subtreeFlags&6&&(o.flags|=8192)):et(o),s=o.updateQueue,s!==null&&_l(o,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==s&&(o.flags|=2048),n!==null&&J(Ho),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),o.memoizedState.cache!==s&&(o.flags|=2048),vi(yt),et(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function dA(n,o){switch(Ac(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return vi(yt),ze(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return rn(o),null;case 31:if(o.memoizedState!==null){if(dn(o),o.alternate===null)throw Error(r(340));Po()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(dn(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Po()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return J(ct),null;case 4:return ze(),null;case 10:return vi(o.type),null;case 22:case 23:return dn(o),Gc(),n!==null&&J(Ho),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return vi(yt),null;case 25:return null;default:return null}}function ig(n,o){switch(Ac(o),o.tag){case 3:vi(yt),ze();break;case 26:case 27:case 5:rn(o);break;case 4:ze();break;case 31:o.memoizedState!==null&&dn(o);break;case 13:dn(o);break;case 19:J(ct);break;case 10:vi(o.type);break;case 22:case 23:dn(o),Gc(),n!==null&&J(Ho);break;case 24:vi(yt)}}function Vs(n,o){try{var s=o.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&n)===n){u=void 0;var y=s.create,E=s.inst;u=y(),E.destroy=u}s=s.next}while(s!==h)}}catch(S){Je(o,o.return,S)}}function ji(n,o,s){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=o;var w=s,L=S;try{L()}catch(B){Je(h,w,B)}}}u=u.next}while(u!==y)}}catch(B){Je(o,o.return,B)}}function og(n){var o=n.updateQueue;if(o!==null){var s=n.stateNode;try{$p(o,s)}catch(u){Je(n,n.return,u)}}}function rg(n,o,s){s.props=Fo(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){Je(n,o,u)}}function Bs(n,o){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(h){Je(n,o,h)}}function ii(n,o){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Je(n,o,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Je(n,o,h)}else s.current=null}function sg(n){var o=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Je(n,n.return,h)}}function yf(n,o,s){try{var u=n.stateNode;UA(u,n.type,s,o),u[tt]=o}catch(h){Je(n,n.return,h)}}function ag(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&so(n.type)||n.tag===4}function vf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ag(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&so(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tf(n,o,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,o):(o=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.appendChild(n),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=hi));else if(u!==4&&(u===27&&so(n.type)&&(s=n.stateNode,o=null),n=n.child,n!==null))for(Tf(n,o,s),n=n.sibling;n!==null;)Tf(n,o,s),n=n.sibling}function El(n,o,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?s.insertBefore(n,o):s.appendChild(n);else if(u!==4&&(u===27&&so(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(El(n,o,s),n=n.sibling;n!==null;)El(n,o,s),n=n.sibling}function lg(n){var o=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Ut(o,u,s),o[gt]=n,o[tt]=s}catch(y){Je(n,n.return,y)}}var Ai=!1,_t=!1,_f=!1,ug=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function hA(n,o){if(n=n.containerInfo,Bf=zl,n=Ep(n),dc(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var E=0,S=-1,w=-1,L=0,B=0,K=n,P=null;t:for(;;){for(var O;K!==s||h!==0&&K.nodeType!==3||(S=E+h),K!==y||u!==0&&K.nodeType!==3||(w=E+u),K.nodeType===3&&(E+=K.nodeValue.length),(O=K.firstChild)!==null;)P=K,K=O;for(;;){if(K===n)break t;if(P===s&&++L===h&&(S=E),P===y&&++B===u&&(w=E),(O=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=O}s=S===-1||w===-1?null:{start:S,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(zf={focusedElem:n,selectionRange:s},zl=!1,Rt=o;Rt!==null;)if(o=Rt,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Rt=n;else for(;Rt!==null;){switch(o=Rt,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)h=n[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,s=o,h=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var ae=Fo(s.type,h);n=u.getSnapshotBeforeUpdate(ae,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(me){Je(s,s.return,me)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,s=n.nodeType,s===9)Yf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=o.sibling,n!==null){n.return=o.return,Rt=n;break}Rt=o.return}}function cg(n,o,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:wi(n,s),u&4&&Vs(5,s);break;case 1:if(wi(n,s),u&4)if(n=s.stateNode,o===null)try{n.componentDidMount()}catch(E){Je(s,s.return,E)}else{var h=Fo(s.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(h,o,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(s,s.return,E)}}u&64&&og(s),u&512&&Bs(s,s.return);break;case 3:if(wi(n,s),u&64&&(n=s.updateQueue,n!==null)){if(o=null,s.child!==null)switch(s.child.tag){case 27:case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}try{$p(n,o)}catch(E){Je(s,s.return,E)}}break;case 27:o===null&&u&4&&lg(s);case 26:case 5:wi(n,s),o===null&&u&4&&sg(s),u&512&&Bs(s,s.return);break;case 12:wi(n,s);break;case 31:wi(n,s),u&4&&hg(n,s);break;case 13:wi(n,s),u&4&&pg(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=SA.bind(null,s),zA(n,s))));break;case 22:if(u=s.memoizedState!==null||Ai,!u){o=o!==null&&o.memoizedState!==null||_t,h=Ai;var y=_t;Ai=u,(_t=o)&&!y?bi(n,s,(s.subtreeFlags&8772)!==0):wi(n,s),Ai=h,_t=y}break;case 30:break;default:wi(n,s)}}function fg(n){var o=n.alternate;o!==null&&(n.alternate=null,fg(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&N(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,Qt=!1;function Ci(n,o,s){for(s=s.child;s!==null;)dg(n,o,s),s=s.sibling}function dg(n,o,s){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(yn,s)}catch{}switch(s.tag){case 26:_t||ii(s,o),Ci(n,o,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_t||ii(s,o);var u=nt,h=Qt;so(s.type)&&(nt=s.stateNode,Qt=!1),Ci(n,o,s),Ws(s.stateNode),nt=u,Qt=h;break;case 5:_t||ii(s,o);case 6:if(u=nt,h=Qt,nt=null,Ci(n,o,s),nt=u,Qt=h,nt!==null)if(Qt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(s.stateNode)}catch(y){Je(s,o,y)}else try{nt.removeChild(s.stateNode)}catch(y){Je(s,o,y)}break;case 18:nt!==null&&(Qt?(n=nt,oy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Vr(n)):oy(nt,s.stateNode));break;case 4:u=nt,h=Qt,nt=s.stateNode.containerInfo,Qt=!0,Ci(n,o,s),nt=u,Qt=h;break;case 0:case 11:case 14:case 15:ji(2,s,o),_t||ji(4,s,o),Ci(n,o,s);break;case 1:_t||(ii(s,o),u=s.stateNode,typeof u.componentWillUnmount=="function"&&rg(s,o,u)),Ci(n,o,s);break;case 21:Ci(n,o,s);break;case 22:_t=(u=_t)||s.memoizedState!==null,Ci(n,o,s),_t=u;break;default:Ci(n,o,s)}}function hg(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Vr(n)}catch(s){Je(o,o.return,s)}}}function pg(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vr(n)}catch(s){Je(o,o.return,s)}}function pA(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new ug),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new ug),o;default:throw Error(r(435,n.tag))}}function Sl(n,o){var s=pA(n);o.forEach(function(u){if(!s.has(u)){s.add(u);var h=AA.bind(null,n,u);u.then(h,h)}})}function Zt(n,o){var s=o.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],y=n,E=o,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(so(S.type)){nt=S.stateNode,Qt=!1;break e}break;case 5:nt=S.stateNode,Qt=!1;break e;case 3:case 4:nt=S.stateNode.containerInfo,Qt=!0;break e}S=S.return}if(nt===null)throw Error(r(160));dg(y,E,h),nt=null,Qt=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)mg(o,n),o=o.sibling}var qn=null;function mg(n,o){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zt(o,n),jt(n),u&4&&(ji(3,n,n.return),Vs(3,n),ji(5,n,n.return));break;case 1:Zt(o,n),jt(n),u&512&&(_t||s===null||ii(s,s.return)),u&64&&Ai&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=qn;if(Zt(o,n),jt(n),u&512&&(_t||s===null||ii(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[le]||y[gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),Ut(y,u,s),y[gt]=n,Ce(y),u=y;break e;case"link":var E=my("link","href",h).get(u+(s.href||""));if(E){for(var S=0;S<E.length;S++)if(y=E[S],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(S,1);break t}}y=h.createElement(u),Ut(y,u,s),h.head.appendChild(y);break;case"meta":if(E=my("meta","content",h).get(u+(s.content||""))){for(S=0;S<E.length;S++)if(y=E[S],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(S,1);break t}}y=h.createElement(u),Ut(y,u,s),h.head.appendChild(y);break;default:throw Error(r(468,u))}y[gt]=n,Ce(y),u=y}n.stateNode=u}else gy(h,n.type,n.stateNode);else n.stateNode=py(h,u,n.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?gy(h,n.type,n.stateNode):py(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&yf(n,n.memoizedProps,s.memoizedProps)}break;case 27:Zt(o,n),jt(n),u&512&&(_t||s===null||ii(s,s.return)),s!==null&&u&4&&yf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Zt(o,n),jt(n),u&512&&(_t||s===null||ii(s,s.return)),n.flags&32){h=n.stateNode;try{ur(h,"")}catch(ae){Je(n,n.return,ae)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,yf(n,h,s!==null?s.memoizedProps:h)),u&1024&&(_f=!0);break;case 6:if(Zt(o,n),jt(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(ae){Je(n,n.return,ae)}}break;case 3:if(Gl=null,h=qn,qn=Pl(o.containerInfo),Zt(o,n),qn=h,jt(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Vr(o.containerInfo)}catch(ae){Je(n,n.return,ae)}_f&&(_f=!1,gg(n));break;case 4:u=qn,qn=Pl(n.stateNode.containerInfo),Zt(o,n),jt(n),qn=u;break;case 12:Zt(o,n),jt(n);break;case 31:Zt(o,n),jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Sl(n,u)));break;case 13:Zt(o,n),jt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cl=Et()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Sl(n,u)));break;case 22:h=n.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,L=Ai,B=_t;if(Ai=L||h,_t=B||w,Zt(o,n),_t=B,Ai=L,jt(n),u&8192)e:for(o=n.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(s===null||w||Ai||_t||Yo(n)),s=null,o=n;;){if(o.tag===5||o.tag===26){if(s===null){w=s=o;try{if(y=w.stateNode,h)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=w.stateNode;var K=w.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ae){Je(w,w.return,ae)}}}else if(o.tag===6){if(s===null){w=o;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ae){Je(w,w.return,ae)}}}else if(o.tag===18){if(s===null){w=o;try{var O=w.stateNode;h?ry(O,!0):ry(w.stateNode,!1)}catch(ae){Je(w,w.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;s===o&&(s=null),o=o.return}s===o&&(s=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Sl(n,s))));break;case 19:Zt(o,n),jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Sl(n,u)));break;case 30:break;case 21:break;default:Zt(o,n),jt(n)}}function jt(n){var o=n.flags;if(o&2){try{for(var s,u=n.return;u!==null;){if(ag(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,y=vf(n);El(n,y,h);break;case 5:var E=s.stateNode;s.flags&32&&(ur(E,""),s.flags&=-33);var S=vf(n);El(n,S,E);break;case 3:case 4:var w=s.stateNode.containerInfo,L=vf(n);Tf(n,L,w);break;default:throw Error(r(161))}}catch(B){Je(n,n.return,B)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function gg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;gg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function wi(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cg(n,o.alternate,o),o=o.sibling}function Yo(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:ji(4,o,o.return),Yo(o);break;case 1:ii(o,o.return);var s=o.stateNode;typeof s.componentWillUnmount=="function"&&rg(o,o.return,s),Yo(o);break;case 27:Ws(o.stateNode);case 26:case 5:ii(o,o.return),Yo(o);break;case 22:o.memoizedState===null&&Yo(o);break;case 30:Yo(o);break;default:Yo(o)}n=n.sibling}}function bi(n,o,s){for(s=s&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,h=n,y=o,E=y.flags;switch(y.tag){case 0:case 11:case 15:bi(h,y,s),Vs(4,y);break;case 1:if(bi(h,y,s),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Je(u,u.return,L)}if(u=y,h=u.updateQueue,h!==null){var S=u.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Kp(w[h],S)}catch(L){Je(u,u.return,L)}}s&&E&64&&og(y),Bs(y,y.return);break;case 27:lg(y);case 26:case 5:bi(h,y,s),s&&u===null&&E&4&&sg(y),Bs(y,y.return);break;case 12:bi(h,y,s);break;case 31:bi(h,y,s),s&&E&4&&hg(h,y);break;case 13:bi(h,y,s),s&&E&4&&pg(h,y);break;case 22:y.memoizedState===null&&bi(h,y,s),Bs(y,y.return);break;case 30:break;default:bi(h,y,s)}o=o.sibling}}function Ef(n,o){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Is(s))}function Sf(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Is(n))}function Fn(n,o,s,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yg(n,o,s,u),o=o.sibling}function yg(n,o,s,u){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(n,o,s,u),h&2048&&Vs(9,o);break;case 1:Fn(n,o,s,u);break;case 3:Fn(n,o,s,u),h&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Is(n)));break;case 12:if(h&2048){Fn(n,o,s,u),n=o.stateNode;try{var y=o.memoizedProps,E=y.id,S=y.onPostCommit;typeof S=="function"&&S(E,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(w){Je(o,o.return,w)}}else Fn(n,o,s,u);break;case 31:Fn(n,o,s,u);break;case 13:Fn(n,o,s,u);break;case 23:break;case 22:y=o.stateNode,E=o.alternate,o.memoizedState!==null?y._visibility&2?Fn(n,o,s,u):zs(n,o):y._visibility&2?Fn(n,o,s,u):(y._visibility|=2,Nr(n,o,s,u,(o.subtreeFlags&10256)!==0||!1)),h&2048&&Ef(E,o);break;case 24:Fn(n,o,s,u),h&2048&&Sf(o.alternate,o);break;default:Fn(n,o,s,u)}}function Nr(n,o,s,u,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,E=o,S=s,w=u,L=E.flags;switch(E.tag){case 0:case 11:case 15:Nr(y,E,S,w,h),Vs(8,E);break;case 23:break;case 22:var B=E.stateNode;E.memoizedState!==null?B._visibility&2?Nr(y,E,S,w,h):zs(y,E):(B._visibility|=2,Nr(y,E,S,w,h)),h&&L&2048&&Ef(E.alternate,E);break;case 24:Nr(y,E,S,w,h),h&&L&2048&&Sf(E.alternate,E);break;default:Nr(y,E,S,w,h)}o=o.sibling}}function zs(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var s=n,u=o,h=u.flags;switch(u.tag){case 22:zs(s,u),h&2048&&Ef(u.alternate,u);break;case 24:zs(s,u),h&2048&&Sf(u.alternate,u);break;default:zs(s,u)}o=o.sibling}}var qs=8192;function xr(n,o,s){if(n.subtreeFlags&qs)for(n=n.child;n!==null;)vg(n,o,s),n=n.sibling}function vg(n,o,s){switch(n.tag){case 26:xr(n,o,s),n.flags&qs&&n.memoizedState!==null&&eC(s,qn,n.memoizedState,n.memoizedProps);break;case 5:xr(n,o,s);break;case 3:case 4:var u=qn;qn=Pl(n.stateNode.containerInfo),xr(n,o,s),qn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=qs,qs=16777216,xr(n,o,s),qs=u):xr(n,o,s));break;default:xr(n,o,s)}}function Tg(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Fs(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var u=o[s];Rt=u,Eg(u,n)}Tg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_g(n),n=n.sibling}function _g(n){switch(n.tag){case 0:case 11:case 15:Fs(n),n.flags&2048&&ji(9,n,n.return);break;case 3:Fs(n);break;case 12:Fs(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,Al(n)):Fs(n);break;default:Fs(n)}}function Al(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var u=o[s];Rt=u,Eg(u,n)}Tg(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:ji(8,o,o.return),Al(o);break;case 22:s=o.stateNode,s._visibility&2&&(s._visibility&=-3,Al(o));break;default:Al(o)}n=n.sibling}}function Eg(n,o){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:ji(8,s,o);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Is(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Rt=u;else e:for(s=n;Rt!==null;){u=Rt;var h=u.sibling,y=u.return;if(fg(u),u===s){Rt=null;break e}if(h!==null){h.return=y,Rt=h;break e}Rt=y}}}var mA={getCacheForType:function(n){var o=Dt(yt),s=o.data.get(n);return s===void 0&&(s=n(),o.data.set(n,s)),s},cacheSignal:function(){return Dt(yt).controller.signal}},gA=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Qe=null,Ne=null,De=0,Ye=0,hn=null,eo=!1,Mr=!1,Af=!1,Ii=0,at=0,to=0,Jo=0,Cf=0,pn=0,Dr=0,Ys=null,en=null,wf=!1,Cl=0,Sg=0,wl=1/0,bl=null,no=null,At=0,io=null,kr=null,Ri=0,bf=0,If=null,Ag=null,Js=0,Rf=null;function mn(){return(Ve&2)!==0&&De!==0?De&-De:H.T!==null?Uf():ds()}function Cg(){if(pn===0)if((De&536870912)===0||Ue){var n=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),pn=n}else pn=536870912;return n=fn.current,n!==null&&(n.flags|=32),pn}function tn(n,o,s){(n===Qe&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(Ur(n,0),oo(n,De,pn,!1)),mt(n,s),((Ve&2)===0||n!==Qe)&&(n===Qe&&((Ve&2)===0&&(Jo|=s),at===4&&oo(n,De,pn,!1)),oi(n))}function wg(n,o,s){if((Ve&6)!==0)throw Error(r(327));var u=!s&&(o&127)===0&&(o&n.expiredLanes)===0||He(n,o),h=u?TA(n,o):xf(n,o,!0),y=u;do{if(h===0){Mr&&!u&&oo(n,o,0,!1);break}else{if(s=n.current.alternate,y&&!yA(s)){h=xf(n,o,!1),y=!1;continue}if(h===2){if(y=o,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var S=n;h=Ys;var w=S.current.memoizedState.isDehydrated;if(w&&(Ur(S,E).flags|=256),E=xf(S,E,!1),E!==2){if(Af&&!w){S.errorRecoveryDisabledLanes|=y,Jo|=y,h=4;break e}y=en,en=h,y!==null&&(en===null?en=y:en.push.apply(en,y))}h=E}if(y=!1,h!==2)continue}}if(h===1){Ur(n,0),oo(n,o,0,!0);break}e:{switch(u=n,y=h,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:oo(u,o,pn,!eo);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(h=Cl+300-Et(),10<h)){if(oo(u,o,pn,!eo),fe(u,0,!0)!==0)break e;Ri=o,u.timeoutHandle=ny(bg.bind(null,u,s,en,bl,wf,o,pn,Jo,Dr,eo,y,"Throttled",-0,0),h);break e}bg(u,s,en,bl,wf,o,pn,Jo,Dr,eo,y,null,-0,0)}}break}while(!0);oi(n)}function bg(n,o,s,u,h,y,E,S,w,L,B,K,P,O){if(n.timeoutHandle=-1,K=o.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},vg(o,y,K);var ae=(y&62914560)===y?Cl-Et():(y&4194048)===y?Sg-Et():0;if(ae=tC(K,ae),ae!==null){Ri=y,n.cancelPendingCommit=ae(Ug.bind(null,n,o,y,s,u,h,E,S,w,B,K,null,P,O)),oo(n,y,E,!L);return}}Ug(n,o,y,s,u,h,E,S,w)}function yA(n){for(var o=n;;){var s=o.tag;if((s===0||s===11||s===15)&&o.flags&16384&&(s=o.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],y=h.getSnapshot;h=h.value;try{if(!un(y(),h))return!1}catch{return!1}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function oo(n,o,s,u){o&=~Cf,o&=~Jo,n.suspendedLanes|=o,n.pingedLanes&=~o,u&&(n.warmLanes|=o),u=n.expirationTimes;for(var h=o;0<h;){var y=31-it(h),E=1<<y;u[y]=-1,h&=~E}s!==0&&vn(n,s,o)}function Il(){return(Ve&6)===0?(Ks(0),!1):!0}function Nf(){if(Ne!==null){if(Ye===0)var n=Ne.return;else n=Ne,yi=Oo=null,Fc(n),Cr=null,Ns=0,n=Ne;for(;n!==null;)ig(n.alternate,n),n=n.return;Ne=null}}function Ur(n,o){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,OA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Ri=0,Nf(),Qe=n,Ne=s=mi(n.current,null),De=o,Ye=0,hn=null,eo=!1,Mr=He(n,o),Af=!1,Dr=pn=Cf=Jo=to=at=0,en=Ys=null,wf=!1,(o&8)!==0&&(o|=o&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=o;0<u;){var h=31-it(u),y=1<<h;o|=n[h],u&=~y}return Ii=o,$a(),s}function Ig(n,o){Ee=null,H.H=Os,o===Ar||o===nl?(o=qp(),Ye=3):o===Dc?(o=qp(),Ye=4):Ye=o===af?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,hn=o,Ne===null&&(at=1,gl(n,Cn(o,n.current)))}function Rg(){var n=fn.current;return n===null?!0:(De&4194048)===De?Rn===null:(De&62914560)===De||(De&536870912)!==0?n===Rn:!1}function Ng(){var n=H.H;return H.H=Os,n===null?Os:n}function xg(){var n=H.A;return H.A=mA,n}function Rl(){at=4,eo||(De&4194048)!==De&&fn.current!==null||(Mr=!0),(to&134217727)===0&&(Jo&134217727)===0||Qe===null||oo(Qe,De,pn,!1)}function xf(n,o,s){var u=Ve;Ve|=2;var h=Ng(),y=xg();(Qe!==n||De!==o)&&(bl=null,Ur(n,o)),o=!1;var E=at;e:do try{if(Ye!==0&&Ne!==null){var S=Ne,w=hn;switch(Ye){case 8:Nf(),E=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(o=!0);var L=Ye;if(Ye=0,hn=null,Lr(n,S,w,L),s&&Mr){E=0;break e}break;default:L=Ye,Ye=0,hn=null,Lr(n,S,w,L)}}vA(),E=at;break}catch(B){Ig(n,B)}while(!0);return o&&n.shellSuspendCounter++,yi=Oo=null,Ve=u,H.H=h,H.A=y,Ne===null&&(Qe=null,De=0,$a()),E}function vA(){for(;Ne!==null;)Mg(Ne)}function TA(n,o){var s=Ve;Ve|=2;var u=Ng(),h=xg();Qe!==n||De!==o?(bl=null,wl=Et()+500,Ur(n,o)):Mr=He(n,o);e:do try{if(Ye!==0&&Ne!==null){o=Ne;var y=hn;t:switch(Ye){case 1:Ye=0,hn=null,Lr(n,o,y,1);break;case 2:case 9:if(Bp(y)){Ye=0,hn=null,Dg(o);break}o=function(){Ye!==2&&Ye!==9||Qe!==n||(Ye=7),oi(n)},y.then(o,o);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Bp(y)?(Ye=0,hn=null,Dg(o)):(Ye=0,hn=null,Lr(n,o,y,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(E?yy(E):S.stateNode.complete){Ye=0,hn=null;var w=S.sibling;if(w!==null)Ne=w;else{var L=S.return;L!==null?(Ne=L,Nl(L)):Ne=null}break t}}Ye=0,hn=null,Lr(n,o,y,5);break;case 6:Ye=0,hn=null,Lr(n,o,y,6);break;case 8:Nf(),at=6;break e;default:throw Error(r(462))}}_A();break}catch(B){Ig(n,B)}while(!0);return yi=Oo=null,H.H=u,H.A=h,Ve=s,Ne!==null?0:(Qe=null,De=0,$a(),at)}function _A(){for(;Ne!==null&&!bo();)Mg(Ne)}function Mg(n){var o=tg(n.alternate,n,Ii);n.memoizedProps=n.pendingProps,o===null?Nl(n):Ne=o}function Dg(n){var o=n,s=o.alternate;switch(o.tag){case 15:case 0:o=Xm(s,o,o.pendingProps,o.type,void 0,De);break;case 11:o=Xm(s,o,o.pendingProps,o.type.render,o.ref,De);break;case 5:Fc(o);default:ig(s,o),o=Ne=xp(o,Ii),o=tg(s,o,Ii)}n.memoizedProps=n.pendingProps,o===null?Nl(n):Ne=o}function Lr(n,o,s,u){yi=Oo=null,Fc(o),Cr=null,Ns=0;var h=o.return;try{if(lA(n,h,o,s,De)){at=1,gl(n,Cn(s,n.current)),Ne=null;return}}catch(y){if(h!==null)throw Ne=h,y;at=1,gl(n,Cn(s,n.current)),Ne=null;return}o.flags&32768?(Ue||u===1?n=!0:Mr||(De&536870912)!==0?n=!1:(eo=n=!0,(u===2||u===9||u===3||u===6)&&(u=fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),kg(o,n)):Nl(o)}function Nl(n){var o=n;do{if((o.flags&32768)!==0){kg(o,eo);return}n=o.return;var s=fA(o.alternate,o,Ii);if(s!==null){Ne=s;return}if(o=o.sibling,o!==null){Ne=o;return}Ne=o=n}while(o!==null);at===0&&(at=5)}function kg(n,o){do{var s=dA(n.alternate,n);if(s!==null){s.flags&=32767,Ne=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!o&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=s}while(n!==null);at=6,Ne=null}function Ug(n,o,s,u,h,y,E,S,w){n.cancelPendingCommit=null;do xl();while(At!==0);if((Ve&6)!==0)throw Error(r(327));if(o!==null){if(o===n.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=yc,Vn(n,s,y,E,S,w),n===Qe&&(Ne=Qe=null,De=0),kr=o,io=n,Ri=s,bf=y,If=h,Ag=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,CA(jn,function(){return Hg(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,h=Z.p,Z.p=2,E=Ve,Ve|=4;try{hA(n,o,s)}finally{Ve=E,Z.p=h,H.T=u}}At=1,Lg(),Pg(),Og()}}function Lg(){if(At===1){At=0;var n=io,o=kr,s=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var u=Z.p;Z.p=2;var h=Ve;Ve|=4;try{mg(o,n);var y=zf,E=Ep(n.containerInfo),S=y.focusedElem,w=y.selectionRange;if(E!==S&&S&&S.ownerDocument&&_p(S.ownerDocument.documentElement,S)){if(w!==null&&dc(S)){var L=w.start,B=w.end;if(B===void 0&&(B=L),"selectionStart"in S)S.selectionStart=L,S.selectionEnd=Math.min(B,S.value.length);else{var K=S.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var O=P.getSelection(),ae=S.textContent.length,me=Math.min(w.start,ae),We=w.end===void 0?me:Math.min(w.end,ae);!O.extend&&me>We&&(E=We,We=me,me=E);var D=Tp(S,me),x=Tp(S,We);if(D&&x&&(O.rangeCount!==1||O.anchorNode!==D.node||O.anchorOffset!==D.offset||O.focusNode!==x.node||O.focusOffset!==x.offset)){var U=K.createRange();U.setStart(D.node,D.offset),O.removeAllRanges(),me>We?(O.addRange(U),O.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),O.addRange(U))}}}}for(K=[],O=S;O=O.parentNode;)O.nodeType===1&&K.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<K.length;S++){var Y=K[S];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zl=!!Bf,zf=Bf=null}finally{Ve=h,Z.p=u,H.T=s}}n.current=o,At=2}}function Pg(){if(At===2){At=0;var n=io,o=kr,s=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var u=Z.p;Z.p=2;var h=Ve;Ve|=4;try{cg(n,o.alternate,o)}finally{Ve=h,Z.p=u,H.T=s}}At=3}}function Og(){if(At===4||At===3){At=0,ln();var n=io,o=kr,s=Ri,u=Ag;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?At=5:(At=0,kr=io=null,Gg(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(no=null),Bn(s),o=o.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(yn,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=H.T,h=Z.p,Z.p=2,H.T=null;try{for(var y=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];y(S.value,{componentStack:S.stack})}}finally{H.T=o,Z.p=h}}(Ri&3)!==0&&xl(),oi(n),h=n.pendingLanes,(s&261930)!==0&&(h&42)!==0?n===Rf?Js++:(Js=0,Rf=n):Js=0,Ks(0)}}function Gg(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Is(o)))}function xl(){return Lg(),Pg(),Og(),Hg()}function Hg(){if(At!==5)return!1;var n=io,o=bf;bf=0;var s=Bn(Ri),u=H.T,h=Z.p;try{Z.p=32>s?32:s,H.T=null,s=If,If=null;var y=io,E=Ri;if(At=0,kr=io=null,Ri=0,(Ve&6)!==0)throw Error(r(331));var S=Ve;if(Ve|=4,_g(y.current),yg(y,y.current,E,s),Ve=S,Ks(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(yn,y)}catch{}return!0}finally{Z.p=h,H.T=u,Gg(n,o)}}function Vg(n,o,s){o=Cn(s,o),o=sf(n.stateNode,o,2),n=Wi(n,o,2),n!==null&&(mt(n,2),oi(n))}function Je(n,o,s){if(n.tag===3)Vg(n,n,s);else for(;o!==null;){if(o.tag===3){Vg(o,n,s);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(no===null||!no.has(u))){n=Cn(s,n),s=Bm(2),u=Wi(o,s,2),u!==null&&(zm(s,u,o,n),mt(u,2),oi(u));break}}o=o.return}}function Mf(n,o,s){var u=n.pingCache;if(u===null){u=n.pingCache=new gA;var h=new Set;u.set(o,h)}else h=u.get(o),h===void 0&&(h=new Set,u.set(o,h));h.has(s)||(Af=!0,h.add(s),n=EA.bind(null,n,o,s),o.then(n,n))}function EA(n,o,s){var u=n.pingCache;u!==null&&u.delete(o),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Qe===n&&(De&s)===s&&(at===4||at===3&&(De&62914560)===De&&300>Et()-Cl?(Ve&2)===0&&Ur(n,0):Cf|=s,Dr===De&&(Dr=0)),oi(n)}function Bg(n,o){o===0&&(o=It()),n=Uo(n,o),n!==null&&(mt(n,o),oi(n))}function SA(n){var o=n.memoizedState,s=0;o!==null&&(s=o.retryLane),Bg(n,s)}function AA(n,o){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(o),Bg(n,s)}function CA(n,o){return lt(n,o)}var Ml=null,Pr=null,Df=!1,Dl=!1,kf=!1,ro=0;function oi(n){n!==Pr&&n.next===null&&(Pr===null?Ml=Pr=n:Pr=Pr.next=n),Dl=!0,Df||(Df=!0,bA())}function Ks(n,o){if(!kf&&Dl){kf=!0;do for(var s=!1,u=Ml;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var E=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-it(42|n)+1)-1,y&=h&~(E&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,Yg(u,y))}else y=De,y=fe(u,u===Qe?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||He(u,y)||(s=!0,Yg(u,y));u=u.next}while(s);kf=!1}}function wA(){zg()}function zg(){Dl=Df=!1;var n=0;ro!==0&&PA()&&(n=ro);for(var o=Et(),s=null,u=Ml;u!==null;){var h=u.next,y=qg(u,o);y===0?(u.next=null,s===null?Ml=h:s.next=h,h===null&&(Pr=s)):(s=u,(n!==0||(y&3)!==0)&&(Dl=!0)),u=h}At!==0&&At!==5||Ks(n),ro!==0&&(ro=0)}function qg(n,o){for(var s=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-it(y),S=1<<E,w=h[E];w===-1?((S&s)===0||(S&u)!==0)&&(h[E]=Me(S,o)):w<=o&&(n.expiredLanes|=S),y&=~S}if(o=Qe,s=De,s=fe(n,n===o?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===o&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&gn(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||He(n,s)){if(o=s&-s,o===n.callbackPriority)return o;switch(u!==null&&gn(u),Bn(s)){case 2:case 8:s=Ht;break;case 32:s=jn;break;case 268435456:s=Io;break;default:s=jn}return u=Fg.bind(null,n),s=lt(s,u),n.callbackPriority=o,n.callbackNode=s,o}return u!==null&&u!==null&&gn(u),n.callbackPriority=2,n.callbackNode=null,2}function Fg(n,o){if(At!==0&&At!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(xl()&&n.callbackNode!==s)return null;var u=De;return u=fe(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(wg(n,u,o),qg(n,Et()),n.callbackNode!=null&&n.callbackNode===s?Fg.bind(null,n):null)}function Yg(n,o){if(xl())return null;wg(n,o,!0)}function bA(){GA(function(){(Ve&6)!==0?lt(On,wA):zg()})}function Uf(){if(ro===0){var n=Er;n===0&&(n=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),ro=n}return ro}function Jg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function Kg(n,o){var s=o.ownerDocument.createElement("input");return s.name=o.name,s.value=o.value,n.id&&s.setAttribute("form",n.id),o.parentNode.insertBefore(s,o),n=new FormData(n),s.parentNode.removeChild(s),n}function IA(n,o,s,u,h){if(o==="submit"&&s&&s.stateNode===h){var y=Jg((h[tt]||null).action),E=u.submitter;E&&(o=(o=E[tt]||null)?Jg(o.formAction):E.getAttribute("formAction"),o!==null&&(y=o,E=null));var S=new Fa("action","action",null,u,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ro!==0){var w=E?Kg(h,E):new FormData(h);jc(s,{pending:!0,data:w,method:h.method,action:y},null,w)}}else typeof y=="function"&&(S.preventDefault(),w=E?Kg(h,E):new FormData(h),jc(s,{pending:!0,data:w,method:h.method,action:y},y,w))},currentTarget:h}]})}}for(var Lf=0;Lf<gc.length;Lf++){var Pf=gc[Lf],RA=Pf.toLowerCase(),NA=Pf[0].toUpperCase()+Pf.slice(1);zn(RA,"on"+NA)}zn(Cp,"onAnimationEnd"),zn(wp,"onAnimationIteration"),zn(bp,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(YS,"onTransitionRun"),zn(JS,"onTransitionStart"),zn(KS,"onTransitionCancel"),zn(Ip,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function $g(n,o){o=(o&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],h=u.event;u=u.listeners;e:{var y=void 0;if(o)for(var E=u.length-1;0<=E;E--){var S=u[E],w=S.instance,L=S.currentTarget;if(S=S.listener,w!==y&&h.isPropagationStopped())break e;y=S,h.currentTarget=L;try{y(h)}catch(B){Ka(B)}h.currentTarget=null,y=w}else for(E=0;E<u.length;E++){if(S=u[E],w=S.instance,L=S.currentTarget,S=S.listener,w!==y&&h.isPropagationStopped())break e;y=S,h.currentTarget=L;try{y(h)}catch(B){Ka(B)}h.currentTarget=null,y=w}}}}function xe(n,o){var s=o[ar];s===void 0&&(s=o[ar]=new Set);var u=n+"__bubble";s.has(u)||(Xg(o,n,2,!1),s.add(u))}function Of(n,o,s){var u=0;o&&(u|=4),Xg(s,n,u,o)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Gf(n){if(!n[kl]){n[kl]=!0,xt.forEach(function(s){s!=="selectionchange"&&(xA.has(s)||Of(s,!1,n),Of(s,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[kl]||(o[kl]=!0,Of("selectionchange",!1,o))}}function Xg(n,o,s,u){switch(Cy(o)){case 2:var h=oC;break;case 8:h=rC;break;default:h=jf}s=h.bind(null,o,s,n),h=void 0,!ic||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(o,s,{capture:!0,passive:h}):n.addEventListener(o,s,!0):h!==void 0?n.addEventListener(o,s,{passive:h}):n.addEventListener(o,s,!1)}function Hf(n,o,s,u,h){var y=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=u.return;E!==null;){var w=E.tag;if((w===3||w===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=$(S),E===null)return;if(w=E.tag,w===5||w===6||w===26||w===27){u=y=E;continue e}S=S.parentNode}}u=u.return}ep(function(){var L=y,B=tc(s),K=[];e:{var P=Rp.get(n);if(P!==void 0){var O=Fa,ae=n;switch(n){case"keypress":if(za(s)===0)break e;case"keydown":case"keyup":O=AS;break;case"focusin":ae="focus",O=ac;break;case"focusout":ae="blur",O=ac;break;case"beforeblur":case"afterblur":O=ac;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=bS;break;case Cp:case wp:case bp:O=pS;break;case Ip:O=RS;break;case"scroll":case"scrollend":O=uS;break;case"wheel":O=xS;break;case"copy":case"cut":case"paste":O=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=rp;break;case"toggle":case"beforetoggle":O=DS}var me=(o&4)!==0,We=!me&&(n==="scroll"||n==="scrollend"),D=me?P!==null?P+"Capture":null:P;me=[];for(var x=L,U;x!==null;){var Y=x;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||D===null||(Y=gs(x,D),Y!=null&&me.push(Xs(x,Y,U))),We)break;x=x.return}0<me.length&&(P=new O(P,ae,null,s,B),K.push({event:P,listeners:me}))}}if((o&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",P&&s!==ec&&(ae=s.relatedTarget||s.fromElement)&&($(ae)||ae[fi]))break e;if((O||P)&&(P=B.window===B?B:(P=B.ownerDocument)?P.defaultView||P.parentWindow:window,O?(ae=s.relatedTarget||s.toElement,O=L,ae=ae?$(ae):null,ae!==null&&(We=l(ae),me=ae.tag,ae!==We||me!==5&&me!==27&&me!==6)&&(ae=null)):(O=null,ae=L),O!==ae)){if(me=ip,Y="onMouseLeave",D="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(me=rp,Y="onPointerLeave",D="onPointerEnter",x="pointer"),We=O==null?P:qe(O),U=ae==null?P:qe(ae),P=new me(Y,x+"leave",O,s,B),P.target=We,P.relatedTarget=U,Y=null,$(B)===L&&(me=new me(D,x+"enter",ae,s,B),me.target=U,me.relatedTarget=We,Y=me),We=Y,O&&ae)t:{for(me=MA,D=O,x=ae,U=0,Y=D;Y;Y=me(Y))U++;Y=0;for(var de=x;de;de=me(de))Y++;for(;0<U-Y;)D=me(D),U--;for(;0<Y-U;)x=me(x),Y--;for(;U--;){if(D===x||x!==null&&D===x.alternate){me=D;break t}D=me(D),x=me(x)}me=null}else me=null;O!==null&&Wg(K,P,O,me,!1),ae!==null&&We!==null&&Wg(K,We,ae,me,!0)}}e:{if(P=L?qe(L):window,O=P.nodeName&&P.nodeName.toLowerCase(),O==="select"||O==="input"&&P.type==="file")var Pe=hp;else if(fp(P))if(pp)Pe=zS;else{Pe=VS;var ue=HS}else O=P.nodeName,!O||O.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&ju(L.elementType)&&(Pe=hp):Pe=BS;if(Pe&&(Pe=Pe(n,L))){dp(K,Pe,s,B);break e}ue&&ue(n,P,L),n==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Zu(P,"number",P.value)}switch(ue=L?qe(L):window,n){case"focusin":(fp(ue)||ue.contentEditable==="true")&&(hr=ue,hc=L,Cs=null);break;case"focusout":Cs=hc=hr=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Sp(K,s,B);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Sp(K,s,B)}var Se;if(uc)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else dr?up(n,s)&&(ke="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(sp&&s.locale!=="ko"&&(dr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&dr&&(Se=tp()):(qi=B,oc="value"in qi?qi.value:qi.textContent,dr=!0)),ue=Ul(L,ke),0<ue.length&&(ke=new op(ke,n,null,s,B),K.push({event:ke,listeners:ue}),Se?ke.data=Se:(Se=cp(s),Se!==null&&(ke.data=Se)))),(Se=US?LS(n,s):PS(n,s))&&(ke=Ul(L,"onBeforeInput"),0<ke.length&&(ue=new op("onBeforeInput","beforeinput",null,s,B),K.push({event:ue,listeners:ke}),ue.data=Se)),IA(K,n,L,s,B)}$g(K,o)})}function Xs(n,o,s){return{instance:n,listener:o,currentTarget:s}}function Ul(n,o){for(var s=o+"Capture",u=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=gs(n,s),h!=null&&u.unshift(Xs(n,h,y)),h=gs(n,o),h!=null&&u.push(Xs(n,h,y))),n.tag===3)return u;n=n.return}return[]}function MA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wg(n,o,s,u,h){for(var y=o._reactName,E=[];s!==null&&s!==u;){var S=s,w=S.alternate,L=S.stateNode;if(S=S.tag,w!==null&&w===u)break;S!==5&&S!==26&&S!==27||L===null||(w=L,h?(L=gs(s,y),L!=null&&E.unshift(Xs(s,L,w))):h||(L=gs(s,y),L!=null&&E.push(Xs(s,L,w)))),s=s.return}E.length!==0&&n.push({event:o,listeners:E})}var DA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function Qg(n){return(typeof n=="string"?n:""+n).replace(DA,`
`).replace(kA,"")}function Zg(n,o){return o=Qg(o),Qg(n)===o}function Xe(n,o,s,u,h,y){switch(s){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||ur(n,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&ur(n,""+u);break;case"className":Ga(n,"class",u);break;case"tabIndex":Ga(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(n,s,u);break;case"style":Zh(n,u,y);break;case"data":if(o!=="object"){Ga(n,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Va(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(o!=="input"&&Xe(n,o,"name",h.name,h,null),Xe(n,o,"formEncType",h.formEncType,h,null),Xe(n,o,"formMethod",h.formMethod,h,null),Xe(n,o,"formTarget",h.formTarget,h,null)):(Xe(n,o,"encType",h.encType,h,null),Xe(n,o,"method",h.method,h,null),Xe(n,o,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Va(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=hi);break;case"onScroll":u!=null&&xe("scroll",n);break;case"onScrollEnd":u!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Va(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":xe("beforetoggle",n),xe("toggle",n),Oa(n,"popover",u);break;case"xlinkActuate":di(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":di(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":di(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":di(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":di(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":di(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":di(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":di(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":di(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=aS.get(s)||s,Oa(n,s,u))}}function Vf(n,o,s,u,h,y){switch(s){case"style":Zh(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof u=="string"?ur(n,u):(typeof u=="number"||typeof u=="bigint")&&ur(n,""+u);break;case"onScroll":u!=null&&xe("scroll",n);break;case"onScrollEnd":u!=null&&xe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_n.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),o=s.slice(2,h?s.length-7:void 0),y=n[tt]||null,y=y!=null?y[s]:null,typeof y=="function"&&n.removeEventListener(o,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(o,u,h);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Oa(n,s,u)}}}function Ut(n,o,s){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var u=!1,h=!1,y;for(y in s)if(s.hasOwnProperty(y)){var E=s[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Xe(n,o,y,E,s,null)}}h&&Xe(n,o,"srcSet",s.srcSet,s,null),u&&Xe(n,o,"src",s.src,s,null);return;case"input":xe("invalid",n);var S=y=E=h=null,w=null,L=null;for(u in s)if(s.hasOwnProperty(u)){var B=s[u];if(B!=null)switch(u){case"name":h=B;break;case"type":E=B;break;case"checked":w=B;break;case"defaultChecked":L=B;break;case"value":y=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,o));break;default:Xe(n,o,u,B,s,null)}}$h(n,y,S,w,L,E,h,!1);return;case"select":xe("invalid",n),u=E=y=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":y=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Xe(n,o,h,S,s,null)}o=y,s=E,n.multiple=!!u,o!=null?lr(n,!!u,o,!1):s!=null&&lr(n,!!u,s,!0);return;case"textarea":xe("invalid",n),y=h=u=null;for(E in s)if(s.hasOwnProperty(E)&&(S=s[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":h=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Xe(n,o,E,S,s,null)}Wh(n,u,h,y);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(u=s[w],u!=null))switch(w){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(n,o,w,u,s,null)}return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(u=0;u<$s.length;u++)xe($s[u],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(u=s[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Xe(n,o,L,u,s,null)}return;default:if(ju(o)){for(B in s)s.hasOwnProperty(B)&&(u=s[B],u!==void 0&&Vf(n,o,B,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&Xe(n,o,S,u,s,null))}function UA(n,o,s,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,E=null,S=null,w=null,L=null,B=null;for(O in s){var K=s[O];if(s.hasOwnProperty(O)&&K!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":w=K;default:u.hasOwnProperty(O)||Xe(n,o,O,null,u,K)}}for(var P in u){var O=u[P];if(K=s[P],u.hasOwnProperty(P)&&(O!=null||K!=null))switch(P){case"type":y=O;break;case"name":h=O;break;case"checked":L=O;break;case"defaultChecked":B=O;break;case"value":E=O;break;case"defaultValue":S=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,o));break;default:O!==K&&Xe(n,o,P,O,u,K)}}Qu(n,E,S,w,L,B,y,h);return;case"select":O=E=S=P=null;for(y in s)if(w=s[y],s.hasOwnProperty(y)&&w!=null)switch(y){case"value":break;case"multiple":O=w;default:u.hasOwnProperty(y)||Xe(n,o,y,null,u,w)}for(h in u)if(y=u[h],w=s[h],u.hasOwnProperty(h)&&(y!=null||w!=null))switch(h){case"value":P=y;break;case"defaultValue":S=y;break;case"multiple":E=y;default:y!==w&&Xe(n,o,h,y,u,w)}o=S,s=E,u=O,P!=null?lr(n,!!s,P,!1):!!u!=!!s&&(o!=null?lr(n,!!s,o,!0):lr(n,!!s,s?[]:"",!1));return;case"textarea":O=P=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(n,o,S,null,u,h)}for(E in u)if(h=u[E],y=s[E],u.hasOwnProperty(E)&&(h!=null||y!=null))switch(E){case"value":P=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==y&&Xe(n,o,E,h,u,y)}Xh(n,P,O);return;case"option":for(var ae in s)if(P=s[ae],s.hasOwnProperty(ae)&&P!=null&&!u.hasOwnProperty(ae))switch(ae){case"selected":n.selected=!1;break;default:Xe(n,o,ae,null,u,P)}for(w in u)if(P=u[w],O=s[w],u.hasOwnProperty(w)&&P!==O&&(P!=null||O!=null))switch(w){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xe(n,o,w,P,u,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)P=s[me],s.hasOwnProperty(me)&&P!=null&&!u.hasOwnProperty(me)&&Xe(n,o,me,null,u,P);for(L in u)if(P=u[L],O=s[L],u.hasOwnProperty(L)&&P!==O&&(P!=null||O!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,o));break;default:Xe(n,o,L,P,u,O)}return;default:if(ju(o)){for(var We in s)P=s[We],s.hasOwnProperty(We)&&P!==void 0&&!u.hasOwnProperty(We)&&Vf(n,o,We,void 0,u,P);for(B in u)P=u[B],O=s[B],!u.hasOwnProperty(B)||P===O||P===void 0&&O===void 0||Vf(n,o,B,P,u,O);return}}for(var D in s)P=s[D],s.hasOwnProperty(D)&&P!=null&&!u.hasOwnProperty(D)&&Xe(n,o,D,null,u,P);for(K in u)P=u[K],O=s[K],!u.hasOwnProperty(K)||P===O||P==null&&O==null||Xe(n,o,K,P,u,O)}function jg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],y=h.transferSize,E=h.initiatorType,S=h.duration;if(y&&S&&jg(E)){for(E=0,S=h.responseEnd,u+=1;u<s.length;u++){var w=s[u],L=w.startTime;if(L>S)break;var B=w.transferSize,K=w.initiatorType;B&&jg(K)&&(w=w.responseEnd,E+=B*(w<S?1:(S-L)/(w-L)))}if(--u,o+=8*(y+E)/(h.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bf=null,zf=null;function Ll(n){return n.nodeType===9?n:n.ownerDocument}function ey(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function qf(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=null;function PA(){var n=window.event;return n&&n.type==="popstate"?n===Ff?!1:(Ff=n,!0):(Ff=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(n){return iy.resolve(null).then(n).catch(HA)}:ny;function HA(n){setTimeout(function(){throw n})}function so(n){return n==="head"}function oy(n,o){var s=o,u=0;do{var h=s.nextSibling;if(n.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(h),Vr(o);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Ws(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Ws(s);for(var y=s.firstChild;y;){var E=y.nextSibling,S=y.nodeName;y[le]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}else s==="body"&&Ws(n.ownerDocument.body);s=h}while(s);Vr(o)}function ry(n,o){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?o?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(o?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function Yf(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var s=o;switch(o=o.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yf(s),N(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function VA(n,o,s,u){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[le])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Nn(n.nextSibling),n===null)break}return null}function BA(n,o,s){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Nn(n.nextSibling),n===null))return null;return n}function sy(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Nn(n.nextSibling),n===null))return null;return n}function Jf(n){return n.data==="$?"||n.data==="$~"}function Kf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zA(n,o){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||s.readyState!=="loading")o();else{var u=function(){o(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Nn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var $f=null;function ay(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(o===0)return Nn(n.nextSibling);o--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||o++}n=n.nextSibling}return null}function ly(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(o===0)return n;o--}else s!=="/$"&&s!=="/&"||o++}n=n.previousSibling}return null}function uy(n,o,s){switch(o=Ll(s),n){case"html":if(n=o.documentElement,!n)throw Error(r(452));return n;case"head":if(n=o.head,!n)throw Error(r(453));return n;case"body":if(n=o.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Ws(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);N(n)}var xn=new Map,cy=new Set;function Pl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=Z.d;Z.d={f:qA,r:FA,D:YA,C:JA,L:KA,m:$A,X:WA,S:XA,M:QA};function qA(){var n=Ni.f(),o=Il();return n||o}function FA(n){var o=ie(n);o!==null&&o.tag===5&&o.type==="form"?Im(o):Ni.r(n)}var Or=typeof document>"u"?null:document;function fy(n,o,s){var u=Or;if(u&&typeof o=="string"&&o){var h=Sn(o);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),cy.has(h)||(cy.add(h),n={rel:n,crossOrigin:s,href:o},u.querySelector(h)===null&&(o=u.createElement("link"),Ut(o,"link",n),Ce(o),u.head.appendChild(o)))}}function YA(n){Ni.D(n),fy("dns-prefetch",n,null)}function JA(n,o){Ni.C(n,o),fy("preconnect",n,o)}function KA(n,o,s){Ni.L(n,o,s);var u=Or;if(u&&n&&o){var h='link[rel="preload"][as="'+Sn(o)+'"]';o==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Sn(s.imageSizes)+'"]')):h+='[href="'+Sn(n)+'"]';var y=h;switch(o){case"style":y=Gr(n);break;case"script":y=Hr(n)}xn.has(y)||(n=T({rel:"preload",href:o==="image"&&s&&s.imageSrcSet?void 0:n,as:o},s),xn.set(y,n),u.querySelector(h)!==null||o==="style"&&u.querySelector(Qs(y))||o==="script"&&u.querySelector(Zs(y))||(o=u.createElement("link"),Ut(o,"link",n),Ce(o),u.head.appendChild(o)))}}function $A(n,o){Ni.m(n,o);var s=Or;if(s&&n){var u=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(n)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Hr(n)}if(!xn.has(y)&&(n=T({rel:"modulepreload",href:n},o),xn.set(y,n),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zs(y)))return}u=s.createElement("link"),Ut(u,"link",n),Ce(u),s.head.appendChild(u)}}}function XA(n,o,s){Ni.S(n,o,s);var u=Or;if(u&&n){var h=ot(u).hoistableStyles,y=Gr(n);o=o||"default";var E=h.get(y);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Qs(y)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},s),(s=xn.get(y))&&Xf(n,s);var w=E=u.createElement("link");Ce(w),Ut(w,"link",n),w._p=new Promise(function(L,B){w.onload=L,w.onerror=B}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ol(E,o,u)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(y,E)}}}function WA(n,o){Ni.X(n,o);var s=Or;if(s&&n){var u=ot(s).hoistableScripts,h=Hr(n),y=u.get(h);y||(y=s.querySelector(Zs(h)),y||(n=T({src:n,async:!0},o),(o=xn.get(h))&&Wf(n,o),y=s.createElement("script"),Ce(y),Ut(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function QA(n,o){Ni.M(n,o);var s=Or;if(s&&n){var u=ot(s).hoistableScripts,h=Hr(n),y=u.get(h);y||(y=s.querySelector(Zs(h)),y||(n=T({src:n,async:!0,type:"module"},o),(o=xn.get(h))&&Wf(n,o),y=s.createElement("script"),Ce(y),Ut(y,"link",n),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function dy(n,o,s,u){var h=(h=pe.current)?Pl(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(o=Gr(s.href),s=ot(h).hoistableStyles,u=s.get(o),u||(u={type:"style",instance:null,count:0,state:null},s.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Gr(s.href);var y=ot(h).hoistableStyles,E=y.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=h.querySelector(Qs(n)))&&!y._p&&(E.instance=y,E.state.loading=5),xn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(n,s),y||ZA(h,n,s,E.state))),o&&u===null)throw Error(r(528,""));return E}if(o&&u!==null)throw Error(r(529,""));return null;case"script":return o=s.async,s=s.src,typeof s=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Hr(s),s=ot(h).hoistableScripts,u=s.get(o),u||(u={type:"script",instance:null,count:0,state:null},s.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Gr(n){return'href="'+Sn(n)+'"'}function Qs(n){return'link[rel="stylesheet"]['+n+"]"}function hy(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function ZA(n,o,s,u){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=n.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Ut(o,"link",s),Ce(o),n.head.appendChild(o))}function Hr(n){return'[src="'+Sn(n)+'"]'}function Zs(n){return"script[async]"+n}function py(n,o,s){if(o.count++,o.instance===null)switch(o.type){case"style":var u=n.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(u)return o.instance=u,Ce(u),u;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ce(u),Ut(u,"style",h),Ol(u,s.precedence,n),o.instance=u;case"stylesheet":h=Gr(s.href);var y=n.querySelector(Qs(h));if(y)return o.state.loading|=4,o.instance=y,Ce(y),y;u=hy(s),(h=xn.get(h))&&Xf(u,h),y=(n.ownerDocument||n).createElement("link"),Ce(y);var E=y;return E._p=new Promise(function(S,w){E.onload=S,E.onerror=w}),Ut(y,"link",u),o.state.loading|=4,Ol(y,s.precedence,n),o.instance=y;case"script":return y=Hr(s.src),(h=n.querySelector(Zs(y)))?(o.instance=h,Ce(h),h):(u=s,(h=xn.get(y))&&(u=T({},s),Wf(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ce(h),Ut(h,"link",u),n.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Ol(u,s.precedence,n));return o.instance}function Ol(n,o,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===o)y=S;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=s.nodeType===9?s.head:s,o.insertBefore(n,o.firstChild))}function Xf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Wf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Gl=null;function my(n,o,s){if(Gl===null){var u=new Map,h=Gl=new Map;h.set(s,u)}else h=Gl,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var y=s[h];if(!(y[le]||y[gt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(o)||"";E=n+E;var S=u.get(E);S?S.push(y):u.set(E,[y])}}return u}function gy(n,o,s){n=n.ownerDocument||n,n.head.insertBefore(s,o==="title"?n.querySelector("head > title"):null)}function jA(n,o,s){if(s===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function yy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function eC(n,o,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Gr(u.href),y=o.querySelector(Qs(h));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Hl.bind(n),o.then(n,n)),s.state.loading|=4,s.instance=y,Ce(y);return}y=o.ownerDocument||o,u=hy(u),(h=xn.get(h))&&Xf(u,h),y=y.createElement("link"),Ce(y);var E=y;E._p=new Promise(function(S,w){E.onload=S,E.onerror=w}),Ut(y,"link",u),s.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Hl.bind(n),o.addEventListener("load",s),o.addEventListener("error",s))}}var Qf=0;function tC(n,o){return n.stylesheets&&n.count===0&&Bl(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&Bl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&Qf===0&&(Qf=62500*LA());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Bl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Qf?50:800)+o);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vl=null;function Bl(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vl=new Map,o.forEach(nC,n),Vl=null,Hl.call(n))}function nC(n,o){if(!(o.state.loading&4)){var s=Vl.get(n);if(s)var u=s.get(null);else{s=new Map,Vl.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var E=h[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),u=E)}u&&s.set(null,u)}h=o.instance,E=h.getAttribute("data-precedence"),y=s.get(E)||u,y===u&&s.set(null,h),s.set(E,h),this.count++,u=Hl.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),o.state.loading|=4}}var js={$$typeof:q,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function iC(n,o,s,u,h,y,E,S,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function vy(n,o,s,u,h,y,E,S,w,L,B,K){return n=new iC(n,o,s,E,w,L,B,K,S),o=1,y===!0&&(o|=24),y=cn(3,null,null,o),n.current=y,y.stateNode=n,o=Nc(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:o},kc(y),n}function Ty(n){return n?(n=gr,n):gr}function _y(n,o,s,u,h,y){h=Ty(h),u.context===null?u.context=h:u.pendingContext=h,u=Xi(o),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Wi(n,u,o),s!==null&&(tn(s,n,o),Ms(s,n,o))}function Ey(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<o?s:o}}function Zf(n,o){Ey(n,o),(n=n.alternate)&&Ey(n,o)}function Sy(n){if(n.tag===13||n.tag===31){var o=Uo(n,67108864);o!==null&&tn(o,n,67108864),Zf(n,67108864)}}function Ay(n){if(n.tag===13||n.tag===31){var o=mn();o=$t(o);var s=Uo(n,o);s!==null&&tn(s,n,o),Zf(n,o)}}var zl=!0;function oC(n,o,s,u){var h=H.T;H.T=null;var y=Z.p;try{Z.p=2,jf(n,o,s,u)}finally{Z.p=y,H.T=h}}function rC(n,o,s,u){var h=H.T;H.T=null;var y=Z.p;try{Z.p=8,jf(n,o,s,u)}finally{Z.p=y,H.T=h}}function jf(n,o,s,u){if(zl){var h=ed(u);if(h===null)Hf(n,o,u,ql,s),wy(n,u);else if(aC(h,n,o,s,u))u.stopPropagation();else if(wy(n,u),o&4&&-1<sC.indexOf(n)){for(;h!==null;){var y=ie(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Ae(y.pendingLanes);if(E!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var w=1<<31-it(E);S.entanglements[1]|=w,E&=~w}oi(y),(Ve&6)===0&&(wl=Et()+500,Ks(0))}}break;case 31:case 13:S=Uo(y,2),S!==null&&tn(S,y,2),Il(),Zf(y,2)}if(y=ed(u),y===null&&Hf(n,o,u,ql,s),y===h)break;h=y}h!==null&&u.stopPropagation()}else Hf(n,o,u,null,s)}}function ed(n){return n=tc(n),td(n)}var ql=null;function td(n){if(ql=null,n=$(n),n!==null){var o=l(n);if(o===null)n=null;else{var s=o.tag;if(s===13){if(n=f(o),n!==null)return n;n=null}else if(s===31){if(n=p(o),n!==null)return n;n=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return ql=n,null}function Cy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case On:return 2;case Ht:return 8;case jn:case ci:return 32;case Io:return 268435456;default:return 32}default:return 32}}var nd=!1,ao=null,lo=null,uo=null,ea=new Map,ta=new Map,co=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(n,o){switch(n){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":ea.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(o.pointerId)}}function na(n,o,s,u,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},o!==null&&(o=ie(o),o!==null&&Sy(o)),n):(n.eventSystemFlags|=u,o=n.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),n)}function aC(n,o,s,u,h){switch(o){case"focusin":return ao=na(ao,n,o,s,u,h),!0;case"dragenter":return lo=na(lo,n,o,s,u,h),!0;case"mouseover":return uo=na(uo,n,o,s,u,h),!0;case"pointerover":var y=h.pointerId;return ea.set(y,na(ea.get(y)||null,n,o,s,u,h)),!0;case"gotpointercapture":return y=h.pointerId,ta.set(y,na(ta.get(y)||null,n,o,s,u,h)),!0}return!1}function by(n){var o=$(n.target);if(o!==null){var s=l(o);if(s!==null){if(o=s.tag,o===13){if(o=f(s),o!==null){n.blockedOn=o,hs(n.priority,function(){Ay(s)});return}}else if(o===31){if(o=p(s),o!==null){n.blockedOn=o,hs(n.priority,function(){Ay(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fl(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var s=ed(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);ec=u,s.target.dispatchEvent(u),ec=null}else return o=ie(s),o!==null&&Sy(o),n.blockedOn=s,!1;o.shift()}return!0}function Iy(n,o,s){Fl(n)&&s.delete(o)}function lC(){nd=!1,ao!==null&&Fl(ao)&&(ao=null),lo!==null&&Fl(lo)&&(lo=null),uo!==null&&Fl(uo)&&(uo=null),ea.forEach(Iy),ta.forEach(Iy)}function Yl(n,o){n.blockedOn===o&&(n.blockedOn=null,nd||(nd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lC)))}var Jl=null;function Ry(n){Jl!==n&&(Jl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jl===n&&(Jl=null);for(var o=0;o<n.length;o+=3){var s=n[o],u=n[o+1],h=n[o+2];if(typeof u!="function"){if(td(u||s)===null)continue;break}var y=ie(s);y!==null&&(n.splice(o,3),o-=3,jc(y,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Vr(n){function o(w){return Yl(w,n)}ao!==null&&Yl(ao,n),lo!==null&&Yl(lo,n),uo!==null&&Yl(uo,n),ea.forEach(o),ta.forEach(o);for(var s=0;s<co.length;s++){var u=co[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<co.length&&(s=co[0],s.blockedOn===null);)by(s),s.blockedOn===null&&co.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],y=s[u+1],E=h[tt]||null;if(typeof y=="function")E||Ry(s);else if(E){var S=null;if(y&&y.hasAttribute("formAction")){if(h=y,E=y[tt]||null)S=E.formAction;else if(td(h)!==null)continue}else S=E.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),Ry(s)}}}function Ny(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function id(n){this._internalRoot=n}Kl.prototype.render=id.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));var s=o.current,u=mn();_y(s,u,n,o,null,null)},Kl.prototype.unmount=id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;_y(n.current,2,null,n,null,null),Il(),o[fi]=null}};function Kl(n){this._internalRoot=n}Kl.prototype.unstable_scheduleHydration=function(n){if(n){var o=ds();n={blockedOn:null,target:n,priority:o};for(var s=0;s<co.length&&o!==0&&o<co[s].priority;s++);co.splice(s,0,n),s===0&&by(n)}};var xy=e.version;if(xy!=="19.2.4")throw Error(r(527,xy,"19.2.4"));Z.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var uC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{yn=$l.inject(uC),ht=$l}catch{}}return oa.createRoot=function(n,o){if(!a(n))throw Error(r(299));var s=!1,u="",h=Om,y=Gm,E=Hm;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=vy(n,1,!1,null,null,s,u,null,h,y,E,Ny),n[fi]=o.current,Gf(n),new id(o)},oa.hydrateRoot=function(n,o,s){if(!a(n))throw Error(r(299));var u=!1,h="",y=Om,E=Gm,S=Hm,w=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),o=vy(n,1,!0,o,s??null,u,h,w,y,E,S,Ny),o.context=Ty(null),s=o.current,u=mn(),u=$t(u),h=Xi(u),h.callback=null,Wi(s,h,u),s=u,o.current.lanes=s,mt(o,s),oi(o),n[fi]=o.current,Gf(n),new Kl(o)},oa.version="19.2.4",oa}var Vy;function _C(){if(Vy)return sd.exports;Vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sd.exports=TC(),sd.exports}var EC=_C();const SC=I0(EC),Lt=[];for(let t=0;t<256;++t)Lt.push((t+256).toString(16).slice(1));function AC(t,e=0){return(Lt[t[e+0]]+Lt[t[e+1]]+Lt[t[e+2]]+Lt[t[e+3]]+"-"+Lt[t[e+4]]+Lt[t[e+5]]+"-"+Lt[t[e+6]]+Lt[t[e+7]]+"-"+Lt[t[e+8]]+Lt[t[e+9]]+"-"+Lt[t[e+10]]+Lt[t[e+11]]+Lt[t[e+12]]+Lt[t[e+13]]+Lt[t[e+14]]+Lt[t[e+15]]).toLowerCase()}let cd;const CC=new Uint8Array(16);function wC(){if(!cd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cd=crypto.getRandomValues.bind(crypto)}return cd(CC)}const bC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),By={randomUUID:bC};function IC(t,e,i){var a;t=t||{};const r=t.random??((a=t.rng)==null?void 0:a.call(t))??wC();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,AC(r)}function Xl(t,e,i){return By.randomUUID&&!t?By.randomUUID():IC(t)}var Ke=(t=>(t.IDLE="IDLE",t.PLANNING="PLANNING",t.GENERATING="GENERATING",t.RENDERING="RENDERING",t.EVALUATING="EVALUATING",t.REFINING="REFINING",t.STOPPED="STOPPED",t))(Ke||{});const RC="SVGRefinerDB",ai="versions",NC=1,Ou=()=>new Promise((t,e)=>{const i=indexedDB.open(RC,NC);i.onerror=r=>{e("Database error: "+r.target.error)},i.onsuccess=r=>{t(r.target.result)},i.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(ai)||a.createObjectStore(ai,{keyPath:"id"})}}),zy=async t=>{const e=await Ou();return new Promise((i,r)=>{const f=e.transaction([ai],"readwrite").objectStore(ai).put(t);f.onsuccess=()=>i(),f.onerror=()=>r("Error saving version")})},xC=async()=>{const t=await Ou();return new Promise((e,i)=>{const l=t.transaction([ai],"readonly").objectStore(ai).getAll();l.onsuccess=()=>{const f=l.result.sort((p,g)=>g.timestamp-p.timestamp);e(f)},l.onerror=()=>i("Error fetching versions")})},MC=async t=>{const e=await Ou();return new Promise((i,r)=>{const f=e.transaction([ai],"readwrite").objectStore(ai).delete(t);f.onsuccess=()=>i(),f.onerror=()=>r("Error deleting version")})},DC=async()=>{const t=await Ou();return new Promise((e,i)=>{const l=t.transaction([ai],"readwrite").objectStore(ai).clear();l.onsuccess=()=>e(),l.onerror=()=>i("Error clearing history")})},kC=Object.prototype.toString,UC=t=>kC.call(t)==="[object Error]",LC=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function PC(t){if(!(t&&UC(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:i,stack:r}=t;return i==="Load failed"?r===void 0||"__sentry_captured__"in t:i.startsWith("error sending request for url")?!0:LC.has(i)}function OC(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Wl(t,e,{min:i=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<i)throw new TypeError(`Expected \`${t}\` to be  ${i}.`)}}class R0 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function GC(t,e){const i=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let a=Math.round(r*e.minTimeout*e.factor**(i-1));return a=Math.min(a,e.maxTimeout),a}function qy(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function HC({error:t,attemptNumber:e,retriesConsumed:i,startTime:r,options:a}){var C,b,M,R;const l=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(l instanceof R0)throw l.originalError;const f=Number.isFinite(a.retries)?Math.max(0,a.retries-i):a.retries,p=a.maxRetryTime??Number.POSITIVE_INFINITY,g=Object.freeze({error:l,attemptNumber:e,retriesLeft:f,retriesConsumed:i});if(await a.onFailedAttempt(g),qy(r,p)<=0)throw l;const m=await a.shouldConsumeRetry(g),v=qy(r,p);if(v<=0||f<=0)throw l;if(l instanceof TypeError&&!PC(l)){if(m)throw l;return(C=a.signal)==null||C.throwIfAborted(),!1}if(!await a.shouldRetry(g))throw l;if(!m)return(b=a.signal)==null||b.throwIfAborted(),!1;const T=GC(i,a),_=Math.min(T,v);return(M=a.signal)==null||M.throwIfAborted(),_>0&&await new Promise((k,z)=>{var W,V;const q=()=>{var F;clearTimeout(G),(F=a.signal)==null||F.removeEventListener("abort",q),z(a.signal.reason)},G=setTimeout(()=>{var F;(F=a.signal)==null||F.removeEventListener("abort",q),k()},_);a.unref&&((W=G.unref)==null||W.call(G)),(V=a.signal)==null||V.addEventListener("abort",q,{once:!0})}),(R=a.signal)==null||R.throwIfAborted(),!0}async function VC(t,e={}){var l,f,p;if(e={...e},OC(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Wl("factor",e.factor,{min:0,allowInfinity:!1}),Wl("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Wl("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Wl("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(l=e.signal)==null||l.throwIfAborted();let i=0,r=0;const a=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){i++;try{(f=e.signal)==null||f.throwIfAborted();const g=await t(i);return(p=e.signal)==null||p.throwIfAborted(),g}catch(g){await HC({error:g,attemptNumber:i,retriesConsumed:r,startTime:a,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var BC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zC,qC;function FC(){return{geminiUrl:zC,vertexUrl:qC}}function YC(t,e,i,r){var a,l;if(!(t!=null&&t.baseUrl)){const f=FC();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:i:(l=f.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hi{}function ee(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(t,e,i){for(let l=0;l<e.length-1;l++){const f=e[l];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[p])){const g=t[p];if(Array.isArray(i))for(let m=0;m<g.length;m++){const v=g[m];d(v,e.slice(l+1),i[m])}else for(const m of g)d(m,e.slice(l+1),i)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in t||(t[p]=[{}]);const g=t[p];d(g[0],e.slice(l+1),i);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[r]=i}function c(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return i;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in t){const f=t[l];return Array.isArray(f)?f.map(p=>c(p,e.slice(r+1),i)):i}else return i}else t=t[a]}return t}catch(r){if(r instanceof TypeError)return i;throw r}}function JC(t,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),l=r.split("."),f=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&l.length>p)for(let g=p;g<l.length;g++){const m=l[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}xd(t,a,l,0,f)}}function xd(t,e,i,r,a){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const f=l.slice(0,-2),p=t;if(f in p&&Array.isArray(p[f]))for(const g of p[f])xd(g,e,i,r+1,a)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of p)g[m]=f[m];for(const[m,v]of Object.entries(g)){const T=[];for(const _ of i.slice(r))_==="*"?T.push(m):T.push(_);d(f,T,v)}for(const m of p)delete f[m]}}else{const f=t;l in f&&xd(f[l],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sh(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){const e={},i=c(t,["operationName"]);i!=null&&d(e,["operationName"],i);const r=c(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function $C(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],WC(f)),e}function XC(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["response"]);return f!=null&&d(e,["response"],QC(f)),e}function WC(t){const e={},i=c(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>ZC(f))),d(e,["generatedVideos"],l)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function QC(t){const e={},i=c(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(f=>jC(f))),d(e,["generatedVideos"],l)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function ZC(t){const e={},i=c(t,["video"]);return i!=null&&d(e,["video"],rw(i)),e}function jC(t){const e={},i=c(t,["_self"]);return i!=null&&d(e,["video"],sw(i)),e}function ew(t){const e={},i=c(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function tw(t){const e={},i=c(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function nw(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["response"]);return f!=null&&d(e,["response"],iw(f)),e}function iw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const a=c(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function N0(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["response"]);return f!=null&&d(e,["response"],ow(f)),e}function ow(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const a=c(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function rw(t){const e={},i=c(t,["uri"]);i!=null&&d(e,["uri"],i);const r=c(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],sh(r));const a=c(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function sw(t){const e={},i=c(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],sh(r));const a=c(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fy||(Fy={}));var Yy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Yy||(Yy={}));var Jy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Jy||(Jy={}));var To;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(To||(To={}));var Ky;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ky||(Ky={}));var $y;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($y||($y={}));var Xy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Xy||(Xy={}));var Wy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wy||(Wy={}));var Qy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Qy||(Qy={}));var Zy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Zy||(Zy={}));var jy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(jy||(jy={}));var ev;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(ev||(ev={}));var tv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(tv||(tv={}));var nv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(nv||(nv={}));var iv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(iv||(iv={}));var ov;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ov||(ov={}));var rv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rv||(rv={}));var sv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sv||(sv={}));var av;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(av||(av={}));var lv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(lv||(lv={}));var uv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uv||(uv={}));var _u;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_u||(_u={}));var cv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cv||(cv={}));var fv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fv||(fv={}));var dv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dv||(dv={}));var Md;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Md||(Md={}));var hv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hv||(hv={}));var pv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(pv||(pv={}));var Dd;(function(t){t.COLLECTION="COLLECTION"})(Dd||(Dd={}));var mv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(mv||(mv={}));var gv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gv||(gv={}));var yv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(yv||(yv={}));var vv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(vv||(vv={}));var Tv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Tv||(Tv={}));var _v;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_v||(_v={}));var Ev;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ev||(Ev={}));var Sv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Sv||(Sv={}));var Av;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Av||(Av={}));var Cv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Cv||(Cv={}));var wv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(wv||(wv={}));var bv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(bv||(bv={}));var Iv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Iv||(Iv={}));var Rv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(Rv||(Rv={}));var Nv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Nv||(Nv={}));var xv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xv||(xv={}));var Mv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Mv||(Mv={}));var Dv;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Dv||(Dv={}));var kv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(kv||(kv={}));var Uv;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Uv||(Uv={}));var Lv;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Lv||(Lv={}));var Pv;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pv||(Pv={}));var Ov;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ov||(Ov={}));var Gv;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Gv||(Gv={}));var Hv;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Hv||(Hv={}));var Vv;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vv||(Vv={}));var Bv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Bv||(Bv={}));var zr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zr||(zr={}));class kd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ra{get text(){var e,i,r,a,l,f,p,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const _ of(g=(p=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[C,b]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(b!==null||b!==void 0)&&T.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,m+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,r,a,l,f,p,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(g=(p=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[_,C]of Object.entries(T))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,r,a,l,f,p,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(p=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,r,a,l,f,p,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,r,a,l,f,p,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(f=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class zv{}class qv{}class aw{}class lw{}class uw{}class cw{}class Fv{}class Yv{}class Jv{}class fw{}class Eu{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Eu;let a;const l=e;return i?a=XC(l):a=$C(l),Object.assign(r,a),r}}class Kv{}class $v{}class Xv{}class Wv{}class dw{}class hw{}class pw{}class ah{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new ah,l=nw(e);return Object.assign(r,l),r}}class mw{}class gw{}class yw{}class vw{}class Qv{}class Tw{get text(){var e,i,r;let a="",l=!1;const f=[];for(const p of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,m]of Object.entries(p))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;l=!0,a+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,r;let a="";const l=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&g!==null&&l.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class _w{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class lh{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new lh,l=N0(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function x0(t,e){const i=Ge(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function M0(t){return Array.isArray(t)?t.map(e=>Su(e)):[Su(t)]}function Su(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function D0(t){const e=Su(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function k0(t){const e=Su(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function U0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Zv(e)):[Zv(t)]}function Ud(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function eT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ot(t){if(t==null)throw new Error("ContentUnion is required");return Ud(t)?t:{role:"user",parts:U0(t)}}function uh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Ot(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=Ot(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ot(i)):[Ot(e)]}function Dn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(jv(t)||eT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ot(t)]}const e=[],i=[],r=Ud(t[0]);for(const a of t){const l=Ud(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(jv(a)||eT(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:U0(i)}),e}function Ew(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(To).includes(i[0].toUpperCase())?i[0].toUpperCase():To.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(To).includes(r.toUpperCase())?r.toUpperCase():To.TYPE_UNSPECIFIED})}}function Yr(t){const e={},i=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&Ew(t.type,e);for(const[f,p]of Object.entries(t))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(To).includes(p.toUpperCase())?p.toUpperCase():To.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Yr(p);else if(r.includes(f)){const g=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}g.push(Yr(m))}e[f]=g}else if(a.includes(f)){const g={};for(const[m,v]of Object.entries(p))g[m]=Yr(v);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=p}return e}function ch(t){return Yr(t)}function fh(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ns(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yr(e.response));return t}function is(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Sw(t,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Vi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Sw(t,e,"cachedContents")}function L0(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wo(t){return sh(t)}function Aw(t){return t!=null&&typeof t=="object"&&"name"in t}function Cw(t){return t!=null&&typeof t=="object"&&"video"in t}function ww(t){return t!=null&&typeof t=="object"&&"uri"in t}function P0(t){var e;let i;if(Aw(t)&&(i=t.name),!(ww(t)&&(i=t.uri,i===void 0))&&!(Cw(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function O0(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function G0(t){for(const e of["models","tunedModels","publisherModels"])if(bw(t,e))return t[e];return[]}function bw(t,e){return t!==null&&typeof t=="object"&&e in t}function Iw(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Rw(t,e={}){const i=[],r=new Set;for(const a of t){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const f=Iw(a,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function H0(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Nw(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function V0(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let l=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function os(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function B0(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xw(t){const e={},i=c(t,["responsesFile"]);i!=null&&d(e,["fileName"],i);const r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>cb(f))),d(e,["inlinedResponses"],l)}const a=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["inlinedEmbedContentResponses"],l)}return e}function Mw(t){const e={},i=c(t,["predictionsFormat"]);i!=null&&d(e,["format"],i);const r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const a=c(t,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function Dw(t){const e={},i=c(t,["format"]);i!=null&&d(e,["predictionsFormat"],i);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const a=c(t,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function uu(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const a=c(t,["metadata","state"]);a!=null&&d(e,["state"],B0(a));const l=c(t,["metadata","createTime"]);l!=null&&d(e,["createTime"],l);const f=c(t,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const p=c(t,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const g=c(t,["metadata","model"]);g!=null&&d(e,["model"],g);const m=c(t,["metadata","output"]);return m!=null&&d(e,["dest"],xw(V0(m))),e}function Ld(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=c(t,["state"]);a!=null&&d(e,["state"],B0(a));const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["createTime"]);f!=null&&d(e,["createTime"],f);const p=c(t,["startTime"]);p!=null&&d(e,["startTime"],p);const g=c(t,["endTime"]);g!=null&&d(e,["endTime"],g);const m=c(t,["updateTime"]);m!=null&&d(e,["updateTime"],m);const v=c(t,["model"]);v!=null&&d(e,["model"],v);const T=c(t,["inputConfig"]);T!=null&&d(e,["src"],kw(T));const _=c(t,["outputConfig"]);_!=null&&d(e,["dest"],Mw(V0(_)));const C=c(t,["completionStats"]);return C!=null&&d(e,["completionStats"],C),e}function kw(t){const e={},i=c(t,["instancesFormat"]);i!=null&&d(e,["format"],i);const r=c(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const a=c(t,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function Uw(t,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&d(i,["fileName"],r);const a=c(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>ub(t,f))),d(i,["requests","requests"],l)}return i}function Lw(t){const e={},i=c(t,["format"]);i!=null&&d(e,["instancesFormat"],i);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const a=c(t,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Pw(t){const e={},i=c(t,["data"]);if(i!=null&&d(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Ow(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function Gw(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function Hw(t){const e={},i=c(t,["content"]);i!=null&&d(e,["content"],i);const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],Vw(r));const a=c(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const l=c(t,["finishReason"]);l!=null&&d(e,["finishReason"],l);const f=c(t,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=c(t,["index"]);g!=null&&d(e,["index"],g);const m=c(t,["logprobsResult"]);m!=null&&d(e,["logprobsResult"],m);const v=c(t,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),d(e,["safetyRatings"],_)}const T=c(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function Vw(t){const e={},i=c(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),d(e,["citations"],r)}return e}function z0(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>yb(l))),d(e,["parts"],a)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function Bw(t,e){const i={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function zw(t,e){const i={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const a=c(t,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],Dw(Nw(a))),i}function tT(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["_url","model"],Ge(t,r));const a=c(e,["src"]);a!=null&&d(i,["batch","inputConfig"],Uw(t,H0(t,a)));const l=c(e,["config"]);return l!=null&&Bw(l,i),i}function qw(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["model"],Ge(t,r));const a=c(e,["src"]);a!=null&&d(i,["inputConfig"],Lw(H0(t,a)));const l=c(e,["config"]);return l!=null&&zw(l,i),i}function Fw(t,e){const i={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),i}function Yw(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["_url","model"],Ge(t,r));const a=c(e,["src"]);a!=null&&d(i,["batch","inputConfig"],Zw(t,a));const l=c(e,["config"]);return l!=null&&Fw(l,i),i}function Jw(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function Kw(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function $w(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);return l!=null&&d(e,["error"],l),e}function Xw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);return l!=null&&d(e,["error"],l),e}function Ww(t,e){const i={},r=c(e,["contents"]);if(r!=null){let l=uh(t,r);Array.isArray(l)&&(l=l.map(f=>f)),d(i,["requests[]","request","content"],l)}const a=c(e,["config"]);return a!=null&&(d(i,["_self"],Qw(a,i)),JC(i,{"requests[].*":"requests[].request.*"})),i}function Qw(t,e){const i={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const a=c(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const l=c(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&d(e,["requests[]","outputDimensionality"],l),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Zw(t,e){const i={},r=c(e,["fileName"]);r!=null&&d(i,["file_name"],r);const a=c(e,["inlinedRequests"]);return a!=null&&d(i,["requests"],Ww(t,a)),i}function jw(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function eb(t){const e={},i=c(t,["id"]);i!=null&&d(e,["id"],i);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const a=c(t,["name"]);if(a!=null&&d(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tb(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const r=c(t,["mode"]);if(r!=null&&d(e,["mode"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nb(t,e,i){const r={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],z0(Ot(a)));const l=c(e,["temperature"]);l!=null&&d(r,["temperature"],l);const f=c(e,["topP"]);f!=null&&d(r,["topP"],f);const p=c(e,["topK"]);p!=null&&d(r,["topK"],p);const g=c(e,["candidateCount"]);g!=null&&d(r,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&d(r,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&d(r,["stopSequences"],v);const T=c(e,["responseLogprobs"]);T!=null&&d(r,["responseLogprobs"],T);const _=c(e,["logprobs"]);_!=null&&d(r,["logprobs"],_);const C=c(e,["presencePenalty"]);C!=null&&d(r,["presencePenalty"],C);const b=c(e,["frequencyPenalty"]);b!=null&&d(r,["frequencyPenalty"],b);const M=c(e,["seed"]);M!=null&&d(r,["seed"],M);const R=c(e,["responseMimeType"]);R!=null&&d(r,["responseMimeType"],R);const k=c(e,["responseSchema"]);k!=null&&d(r,["responseSchema"],ch(k));const z=c(e,["responseJsonSchema"]);if(z!=null&&d(r,["responseJsonSchema"],z),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=c(e,["safetySettings"]);if(i!==void 0&&q!=null){let ye=q;Array.isArray(ye)&&(ye=ye.map(Ie=>vb(Ie))),d(i,["safetySettings"],ye)}const G=c(e,["tools"]);if(i!==void 0&&G!=null){let ye=is(G);Array.isArray(ye)&&(ye=ye.map(Ie=>_b(ns(Ie)))),d(i,["tools"],ye)}const W=c(e,["toolConfig"]);if(i!==void 0&&W!=null&&d(i,["toolConfig"],Tb(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=c(e,["cachedContent"]);i!==void 0&&V!=null&&d(i,["cachedContent"],Vi(t,V));const F=c(e,["responseModalities"]);F!=null&&d(r,["responseModalities"],F);const ne=c(e,["mediaResolution"]);ne!=null&&d(r,["mediaResolution"],ne);const Q=c(e,["speechConfig"]);if(Q!=null&&d(r,["speechConfig"],fh(Q)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=c(e,["thinkingConfig"]);he!=null&&d(r,["thinkingConfig"],he);const ce=c(e,["imageConfig"]);ce!=null&&d(r,["imageConfig"],lb(ce));const _e=c(e,["enableEnhancedCivicAnswers"]);if(_e!=null&&d(r,["enableEnhancedCivicAnswers"],_e),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ib(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>Hw(m))),d(e,["candidates"],g)}const a=c(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const l=c(t,["promptFeedback"]);l!=null&&d(e,["promptFeedback"],l);const f=c(t,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function ob(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function rb(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],os(t,r)),i}function sb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function ab(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function lb(t){const e={},i=c(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const r=c(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ub(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["request","model"],Ge(t,r));const a=c(e,["contents"]);if(a!=null){let p=Dn(a);Array.isArray(p)&&(p=p.map(g=>z0(g))),d(i,["request","contents"],p)}const l=c(e,["metadata"]);l!=null&&d(i,["metadata"],l);const f=c(e,["config"]);return f!=null&&d(i,["request","generationConfig"],nb(t,f,c(i,["request"],{}))),i}function cb(t){const e={},i=c(t,["response"]);i!=null&&d(e,["response"],ib(i));const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["error"]);return a!=null&&d(e,["error"],a),e}function fb(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function db(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const l=c(t,["filter"]);return e!==void 0&&l!=null&&d(e,["_query","filter"],l),i}function hb(t){const e={},i=c(t,["config"]);return i!=null&&fb(i,e),e}function pb(t){const e={},i=c(t,["config"]);return i!=null&&db(i,e),e}function mb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>uu(f))),d(e,["batchJobs"],l)}return e}function gb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>Ld(f))),d(e,["batchJobs"],l)}return e}function yb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const l=c(t,["fileData"]);l!=null&&d(e,["fileData"],jw(l));const f=c(t,["functionCall"]);f!=null&&d(e,["functionCall"],eb(f));const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["inlineData"]);g!=null&&d(e,["inlineData"],Pw(g));const m=c(t,["text"]);m!=null&&d(e,["text"],m);const v=c(t,["thought"]);v!=null&&d(e,["thought"],v);const T=c(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=c(t,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function vb(t){const e={},i=c(t,["category"]);if(i!=null&&d(e,["category"],i),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function Tb(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const r=c(t,["functionCallingConfig"]);return r!=null&&d(e,["functionCallingConfig"],tb(r)),e}function _b(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const r=c(t,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(t,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}const f=c(t,["googleMaps"]);f!=null&&d(e,["googleMaps"],sb(f));const p=c(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],ab(p));const g=c(t,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const m=c(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Li;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Li||(Li={}));class sr{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!r||Object.keys(r).length===0?f={config:{}}:typeof r=="object"?f=Object.assign({},r):f=r,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(l=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eb extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new sr(Li.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=tT(this.apiClient,e),r=i._url,a=ee("{model}:batchGenerateContent",r),p=i.batch.inputConfig.requests,g=p.requests,m=[];for(const v of g){const T=Object.assign({},v);if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=_,T.request=C}m.push(T)}return p.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),f=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(f)r.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=qw(this.apiClient,e);return p=ee("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Ld(v))}else{const m=tT(this.apiClient,e);return p=ee("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>uu(v))}}async createEmbeddingsInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Yw(this.apiClient,e);return l=ee("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>uu(g))}}async get(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=rb(this.apiClient,e);return p=ee("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Ld(v))}else{const m=ob(this.apiClient,e);return p=ee("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>uu(v))}}async cancel(e){var i,r,a,l;let f="",p={};if(this.apiClient.isVertexAI()){const g=Gw(this.apiClient,e);f=ee("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=Ow(this.apiClient,e);f=ee("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=pb(e);return p=ee("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=gb(v),_=new Qv;return Object.assign(_,T),_})}else{const m=hb(e);return p=ee("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=mb(v),_=new Qv;return Object.assign(_,T),_})}}async delete(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Kw(this.apiClient,e);return p=ee("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Xw(v))}else{const m=Jw(this.apiClient,e);return p=ee("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>$w(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sb(t){const e={},i=c(t,["data"]);if(i!=null&&d(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function nT(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Yb(l))),d(e,["parts"],a)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function Ab(t,e){const i={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const l=c(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const f=c(t,["contents"]);if(e!==void 0&&f!=null){let v=Dn(f);Array.isArray(v)&&(v=v.map(T=>nT(T))),d(e,["contents"],v)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],nT(Ot(p)));const g=c(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>Kb(T))),d(e,["tools"],v)}const m=c(t,["toolConfig"]);if(e!==void 0&&m!=null&&d(e,["toolConfig"],Jb(m)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Cb(t,e){const i={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const l=c(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const f=c(t,["contents"]);if(e!==void 0&&f!=null){let T=Dn(f);Array.isArray(T)&&(T=T.map(_=>_)),d(e,["contents"],T)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],Ot(p));const g=c(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(_=>$b(_))),d(e,["tools"],T)}const m=c(t,["toolConfig"]);e!==void 0&&m!=null&&d(e,["toolConfig"],m);const v=c(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),i}function wb(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["model"],x0(t,r));const a=c(e,["config"]);return a!=null&&Ab(a,i),i}function bb(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["model"],x0(t,r));const a=c(e,["config"]);return a!=null&&Cb(a,i),i}function Ib(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],Vi(t,r)),i}function Rb(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],Vi(t,r)),i}function Nb(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function xb(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function Mb(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Db(t){const e={},i=c(t,["id"]);i!=null&&d(e,["id"],i);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const a=c(t,["name"]);if(a!=null&&d(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kb(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const r=c(t,["mode"]);if(r!=null&&d(e,["mode"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ub(t){const e={},i=c(t,["description"]);i!=null&&d(e,["description"],i);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const a=c(t,["parameters"]);a!=null&&d(e,["parameters"],a);const l=c(t,["parametersJsonSchema"]);l!=null&&d(e,["parametersJsonSchema"],l);const f=c(t,["response"]);f!=null&&d(e,["response"],f);const p=c(t,["responseJsonSchema"]);if(p!=null&&d(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Lb(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],Vi(t,r)),i}function Pb(t,e){const i={},r=c(e,["name"]);return r!=null&&d(i,["_url","name"],Vi(t,r)),i}function Ob(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Gb(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function Hb(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function Vb(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function Bb(t){const e={},i=c(t,["config"]);return i!=null&&Hb(i,e),e}function zb(t){const e={},i=c(t,["config"]);return i!=null&&Vb(i,e),e}function qb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["cachedContents"],l)}return e}function Fb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["cachedContents"],l)}return e}function Yb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const l=c(t,["fileData"]);l!=null&&d(e,["fileData"],Mb(l));const f=c(t,["functionCall"]);f!=null&&d(e,["functionCall"],Db(f));const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["inlineData"]);g!=null&&d(e,["inlineData"],Sb(g));const m=c(t,["text"]);m!=null&&d(e,["text"],m);const v=c(t,["thought"]);v!=null&&d(e,["thought"],v);const T=c(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=c(t,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function Jb(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const r=c(t,["functionCallingConfig"]);return r!=null&&d(e,["functionCallingConfig"],kb(r)),e}function Kb(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const r=c(t,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(t,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}const f=c(t,["googleMaps"]);f!=null&&d(e,["googleMaps"],Ob(f));const p=c(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],Gb(p));const g=c(t,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const m=c(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function $b(t){const e={},i=c(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const r=c(t,["computerUse"]);if(r!=null&&d(e,["computerUse"],r),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&d(e,["codeExecution"],a);const l=c(t,["enterpriseWebSearch"]);l!=null&&d(e,["enterpriseWebSearch"],l);const f=c(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>Ub(_))),d(e,["functionDeclarations"],T)}const p=c(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],p);const g=c(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],g);const m=c(t,["googleSearchRetrieval"]);m!=null&&d(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function Xb(t,e){const i={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function Wb(t,e){const i={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function Qb(t,e){const i={},r=c(e,["name"]);r!=null&&d(i,["_url","name"],Vi(t,r));const a=c(e,["config"]);return a!=null&&Xb(a,i),i}function Zb(t,e){const i={},r=c(e,["name"]);r!=null&&d(i,["_url","name"],Vi(t,r));const a=c(e,["config"]);return a!=null&&Wb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jb extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new sr(Li.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=bb(this.apiClient,e);return p=ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=wb(this.apiClient,e);return p=ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Pb(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=Lb(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Rb(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=xb(v),_=new Xv;return Object.assign(_,T),_})}else{const m=Ib(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=Nb(v),_=new Xv;return Object.assign(_,T),_})}}async update(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Zb(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=Qb(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=zb(e);return p=ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=Fb(v),_=new Wv;return Object.assign(_,T),_})}else{const m=Bb(e);return p=ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=qb(v),_=new Wv;return Object.assign(_,T),_})}}}function Au(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(i[r[a]]=t[r[a]]);return i}function iT(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function $n(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(C){return function(b){return Promise.resolve(b).then(C,T)}}function p(C,b){r[C]&&(a[C]=function(M){return new Promise(function(R,k){l.push([C,M,R,k])>1||g(C,M)})},b&&(a[C]=b(a[C])))}function g(C,b){try{m(r[C](b))}catch(M){_(l[0][3],M)}}function m(C){C.value instanceof ve?Promise.resolve(C.value.v).then(v,T):_(l[0][2],C)}function v(C){g("next",C)}function T(C){g("throw",C)}function _(C,b){C(b),l.shift(),l.length&&g(l[0][0],l[0][1])}}function Xn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof iT=="function"?iT(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=t[l]&&function(f){return new Promise(function(p,g){f=t[l](f),a(p,g,f.done,f.value)})}}function a(l,f,p,g){Promise.resolve(g).then(function(m){l({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:q0(i)}function q0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function tI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function oT(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let l=!0;for(;r<i&&t[r].role==="model";)a.push(t[r]),l&&!q0(t[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class nI{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new iI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class iI{constructor(e,i,r,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),tI(l)}async sendMessage(e){var i;await this.sendPromise;const r=Ot(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,f,p;const g=await a,m=(f=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];v!=null&&(_=(p=v.slice(T))!==null&&p!==void 0?p:[]);const C=m?[m]:[];this.recordHistory(r,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=Ot(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?oT(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return $n(this,arguments,function*(){var a,l,f,p,g,m;const v=[];try{for(var T=!0,_=Xn(e),C;C=yield ve(_.next()),a=C.done,!a;T=!0){p=C.value,T=!1;const b=p;if(eI(b)){const M=(m=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;M!==void 0&&v.push(M)}yield yield ve(b)}}catch(b){l={error:b}}finally{try{!T&&!a&&(f=_.return)&&(yield ve(f.call(_)))}finally{if(l)throw l.error}}this.recordHistory(i,v)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...oT(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ga extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ga.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oI(t){const e={},i=c(t,["file"]);return i!=null&&d(e,["file"],i),e}function rI(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function sI(t){const e={},i=c(t,["name"]);return i!=null&&d(e,["_url","file"],P0(i)),e}function aI(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function lI(t){const e={},i=c(t,["name"]);return i!=null&&d(e,["_url","file"],P0(i)),e}function uI(t){const e={},i=c(t,["uris"]);return i!=null&&d(e,["uris"],i),e}function cI(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function fI(t){const e={},i=c(t,["config"]);return i!=null&&cI(i,e),e}function dI(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["files"],l)}return e}function hI(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),d(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pI extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new sr(Li.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fI(e);return l=ee("files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=dI(g),v=new mw;return Object.assign(v,m),v})}}async createInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oI(e);return l=ee("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=rI(g),v=new gw;return Object.assign(v,m),v})}}async get(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lI(e);return l=ee("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sI(e);return l=ee("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=aI(g),v=new yw;return Object.assign(v,m),v})}}async registerFilesInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uI(e);return l=ee("files:register",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=hI(g),v=new vw;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cu(t){const e={},i=c(t,["data"]);if(i!=null&&d(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function mI(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>MI(l))),d(e,["parts"],a)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function gI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function yI(t){const e={},i=c(t,["id"]);i!=null&&d(e,["id"],i);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const a=c(t,["name"]);if(a!=null&&d(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vI(t){const e={},i=c(t,["description"]);i!=null&&d(e,["description"],i);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const a=c(t,["parameters"]);a!=null&&d(e,["parameters"],a);const l=c(t,["parametersJsonSchema"]);l!=null&&d(e,["parametersJsonSchema"],l);const f=c(t,["response"]);f!=null&&d(e,["response"],f);const p=c(t,["responseJsonSchema"]);if(p!=null&&d(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function TI(t){const e={},i=c(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const r=c(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const a=c(t,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const l=c(t,["candidateCount"]);l!=null&&d(e,["candidateCount"],l);const f=c(t,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=c(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const m=c(t,["maxOutputTokens"]);m!=null&&d(e,["maxOutputTokens"],m);const v=c(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=c(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const _=c(t,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const C=c(t,["responseMimeType"]);C!=null&&d(e,["responseMimeType"],C);const b=c(t,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const M=c(t,["responseSchema"]);M!=null&&d(e,["responseSchema"],M);const R=c(t,["routingConfig"]);R!=null&&d(e,["routingConfig"],R);const k=c(t,["seed"]);k!=null&&d(e,["seed"],k);const z=c(t,["speechConfig"]);z!=null&&d(e,["speechConfig"],z);const q=c(t,["stopSequences"]);q!=null&&d(e,["stopSequences"],q);const G=c(t,["temperature"]);G!=null&&d(e,["temperature"],G);const W=c(t,["thinkingConfig"]);W!=null&&d(e,["thinkingConfig"],W);const V=c(t,["topK"]);V!=null&&d(e,["topK"],V);const F=c(t,["topP"]);if(F!=null&&d(e,["topP"],F),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _I(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function EI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function SI(t,e){const i={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=c(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const f=c(t,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=c(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],dh(T));const _=c(t,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],mI(Ot(b)));const M=c(t,["tools"]);if(e!==void 0&&M!=null){let V=is(M);Array.isArray(V)&&(V=V.map(F=>kI(ns(F)))),d(e,["setup","tools"],V)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],DI(R));const k=c(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const z=c(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","outputAudioTranscription"],z);const q=c(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const G=c(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const W=c(t,["proactivity"]);if(e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function AI(t,e){const i={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],TI(r));const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=c(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const f=c(t,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=c(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],dh(T));const _=c(t,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],Ot(b));const M=c(t,["tools"]);if(e!==void 0&&M!=null){let F=is(M);Array.isArray(F)&&(F=F.map(ne=>UI(ns(ne)))),d(e,["setup","tools"],F)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],R);const k=c(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const z=c(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","outputAudioTranscription"],z);const q=c(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const G=c(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const W=c(t,["proactivity"]);e!==void 0&&W!=null&&d(e,["setup","proactivity"],W);const V=c(t,["explicitVadSignal"]);return e!==void 0&&V!=null&&d(e,["setup","explicitVadSignal"],V),i}function CI(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["setup","model"],Ge(t,r));const a=c(e,["config"]);return a!=null&&d(i,["config"],SI(a,i)),i}function wI(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["setup","model"],Ge(t,r));const a=c(e,["config"]);return a!=null&&d(i,["config"],AI(a,i)),i}function bI(t){const e={},i=c(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function II(t){const e={},i=c(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),d(e,["weightedPrompts"],r)}return e}function RI(t){const e={},i=c(t,["media"]);if(i!=null){let m=M0(i);Array.isArray(m)&&(m=m.map(v=>cu(v))),d(e,["mediaChunks"],m)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],cu(k0(r)));const a=c(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const l=c(t,["video"]);l!=null&&d(e,["video"],cu(D0(l)));const f=c(t,["text"]);f!=null&&d(e,["text"],f);const p=c(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=c(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function NI(t){const e={},i=c(t,["media"]);if(i!=null){let m=M0(i);Array.isArray(m)&&(m=m.map(v=>v)),d(e,["mediaChunks"],m)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],k0(r));const a=c(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const l=c(t,["video"]);l!=null&&d(e,["video"],D0(l));const f=c(t,["text"]);f!=null&&d(e,["text"],f);const p=c(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=c(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function xI(t){const e={},i=c(t,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const a=c(t,["toolCall"]);a!=null&&d(e,["toolCall"],a);const l=c(t,["toolCallCancellation"]);l!=null&&d(e,["toolCallCancellation"],l);const f=c(t,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],LI(f));const p=c(t,["goAway"]);p!=null&&d(e,["goAway"],p);const g=c(t,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const m=c(t,["voiceActivityDetectionSignal"]);m!=null&&d(e,["voiceActivityDetectionSignal"],m);const v=c(t,["voiceActivity"]);return v!=null&&d(e,["voiceActivity"],PI(v)),e}function MI(t){const e={},i=c(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const l=c(t,["fileData"]);l!=null&&d(e,["fileData"],gI(l));const f=c(t,["functionCall"]);f!=null&&d(e,["functionCall"],yI(f));const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["inlineData"]);g!=null&&d(e,["inlineData"],cu(g));const m=c(t,["text"]);m!=null&&d(e,["text"],m);const v=c(t,["thought"]);v!=null&&d(e,["thought"],v);const T=c(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=c(t,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function DI(t){const e={},i=c(t,["handle"]);if(i!=null&&d(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kI(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const r=c(t,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(t,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}const f=c(t,["googleMaps"]);f!=null&&d(e,["googleMaps"],_I(f));const p=c(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],EI(p));const g=c(t,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const m=c(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}function UI(t){const e={},i=c(t,["retrieval"]);i!=null&&d(e,["retrieval"],i);const r=c(t,["computerUse"]);if(r!=null&&d(e,["computerUse"],r),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&d(e,["codeExecution"],a);const l=c(t,["enterpriseWebSearch"]);l!=null&&d(e,["enterpriseWebSearch"],l);const f=c(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>vI(_))),d(e,["functionDeclarations"],T)}const p=c(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],p);const g=c(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],g);const m=c(t,["googleSearchRetrieval"]);m!=null&&d(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function LI(t){const e={},i=c(t,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const r=c(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const a=c(t,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const l=c(t,["toolUsePromptTokenCount"]);l!=null&&d(e,["toolUsePromptTokenCount"],l);const f=c(t,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const p=c(t,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const g=c(t,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["promptTokensDetails"],C)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["cacheTokensDetails"],C)}const v=c(t,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["responseTokensDetails"],C)}const T=c(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>b)),d(e,["toolUsePromptTokensDetails"],C)}const _=c(t,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}function PI(t){const e={},i=c(t,["type"]);return i!=null&&d(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OI(t,e){const i={},r=c(t,["data"]);if(r!=null&&d(i,["data"],r),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function GI(t,e){const i={},r=c(t,["content"]);r!=null&&d(i,["content"],r);const a=c(t,["citationMetadata"]);a!=null&&d(i,["citationMetadata"],HI(a));const l=c(t,["tokenCount"]);l!=null&&d(i,["tokenCount"],l);const f=c(t,["finishReason"]);f!=null&&d(i,["finishReason"],f);const p=c(t,["avgLogprobs"]);p!=null&&d(i,["avgLogprobs"],p);const g=c(t,["groundingMetadata"]);g!=null&&d(i,["groundingMetadata"],g);const m=c(t,["index"]);m!=null&&d(i,["index"],m);const v=c(t,["logprobsResult"]);v!=null&&d(i,["logprobsResult"],v);const T=c(t,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>b)),d(i,["safetyRatings"],C)}const _=c(t,["urlContextMetadata"]);return _!=null&&d(i,["urlContextMetadata"],_),i}function HI(t,e){const i={},r=c(t,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),d(i,["citations"],a)}return i}function VI(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let f=Dn(l);Array.isArray(f)&&(f=f.map(p=>p)),d(r,["contents"],f)}return r}function BI(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["tokensInfo"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(i,["tokensInfo"],l)}return i}function zI(t,e){const i={},r=c(t,["values"]);r!=null&&d(i,["values"],r);const a=c(t,["statistics"]);return a!=null&&d(i,["statistics"],qI(a)),i}function qI(t,e){const i={},r=c(t,["truncated"]);r!=null&&d(i,["truncated"],r);const a=c(t,["token_count"]);return a!=null&&d(i,["tokenCount"],a),i}function Gu(t,e){const i={},r=c(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>ZR(f))),d(i,["parts"],l)}const a=c(t,["role"]);return a!=null&&d(i,["role"],a),i}function FI(t,e){const i={},r=c(t,["controlType"]);r!=null&&d(i,["controlType"],r);const a=c(t,["enableControlImageComputation"]);return a!=null&&d(i,["computeControl"],a),i}function YI(t,e){const i={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function JI(t,e,i){const r={},a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Ot(a));const l=c(t,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>K0(g))),d(e,["tools"],p)}const f=c(t,["generationConfig"]);return e!==void 0&&f!=null&&d(e,["generationConfig"],OR(f)),r}function KI(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let p=Dn(l);Array.isArray(p)&&(p=p.map(g=>Gu(g))),d(r,["contents"],p)}const f=c(e,["config"]);return f!=null&&YI(f),r}function $I(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let p=Dn(l);Array.isArray(p)&&(p=p.map(g=>g)),d(r,["contents"],p)}const f=c(e,["config"]);return f!=null&&JI(f,r),r}function XI(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["totalTokens"]);a!=null&&d(i,["totalTokens"],a);const l=c(t,["cachedContentTokenCount"]);return l!=null&&d(i,["cachedContentTokenCount"],l),i}function WI(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["totalTokens"]);return a!=null&&d(i,["totalTokens"],a),i}function QI(t,e,i){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ge(t,a)),r}function ZI(t,e,i){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ge(t,a)),r}function jI(t,e){const i={},r=c(t,["sdkHttpResponse"]);return r!=null&&d(i,["sdkHttpResponse"],r),i}function eR(t,e){const i={},r=c(t,["sdkHttpResponse"]);return r!=null&&d(i,["sdkHttpResponse"],r),i}function tR(t,e,i){const r={},a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const f=c(t,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const p=c(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const m=c(t,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const v=c(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&d(e,["parameters","personGeneration"],T);const _=c(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const C=c(t,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const b=c(t,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const M=c(t,["outputMimeType"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","mimeType"],M);const R=c(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const k=c(t,["addWatermark"]);e!==void 0&&k!=null&&d(e,["parameters","addWatermark"],k);const z=c(t,["labels"]);e!==void 0&&z!=null&&d(e,["labels"],z);const q=c(t,["editMode"]);e!==void 0&&q!=null&&d(e,["parameters","editMode"],q);const G=c(t,["baseSteps"]);return e!==void 0&&G!=null&&d(e,["parameters","editConfig","baseSteps"],G),r}function nR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const f=c(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>oN(m))),d(r,["instances[0]","referenceImages"],g)}const p=c(e,["config"]);return p!=null&&tR(p,r),r}function iR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>Hu(f))),d(i,["generatedImages"],l)}return i}function oR(t,e,i){const r={},a=c(t,["taskType"]);e!==void 0&&a!=null&&d(e,["requests[]","taskType"],a);const l=c(t,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const f=c(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&d(e,["requests[]","outputDimensionality"],f),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function rR(t,e,i){const r={},a=c(t,["taskType"]);e!==void 0&&a!=null&&d(e,["instances[]","task_type"],a);const l=c(t,["title"]);e!==void 0&&l!=null&&d(e,["instances[]","title"],l);const f=c(t,["outputDimensionality"]);e!==void 0&&f!=null&&d(e,["parameters","outputDimensionality"],f);const p=c(t,["mimeType"]);e!==void 0&&p!=null&&d(e,["instances[]","mimeType"],p);const g=c(t,["autoTruncate"]);return e!==void 0&&g!=null&&d(e,["parameters","autoTruncate"],g),r}function sR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let g=uh(t,l);Array.isArray(g)&&(g=g.map(m=>m)),d(r,["requests[]","content"],g)}const f=c(e,["config"]);f!=null&&oR(f,r);const p=c(e,["model"]);return p!==void 0&&d(r,["requests[]","model"],Ge(t,p)),r}function aR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let p=uh(t,l);Array.isArray(p)&&(p=p.map(g=>g)),d(r,["instances[]","content"],p)}const f=c(e,["config"]);return f!=null&&rR(f,r),r}function lR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),d(i,["embeddings"],f)}const l=c(t,["metadata"]);return l!=null&&d(i,["metadata"],l),i}function uR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>zI(p))),d(i,["embeddings"],f)}const l=c(t,["metadata"]);return l!=null&&d(i,["metadata"],l),i}function cR(t,e){const i={},r=c(t,["endpoint"]);r!=null&&d(i,["name"],r);const a=c(t,["deployedModelId"]);return a!=null&&d(i,["deployedModelId"],a),i}function fR(t,e){const i={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["fileUri"]);r!=null&&d(i,["fileUri"],r);const a=c(t,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function dR(t,e){const i={},r=c(t,["id"]);r!=null&&d(i,["id"],r);const a=c(t,["args"]);a!=null&&d(i,["args"],a);const l=c(t,["name"]);if(l!=null&&d(i,["name"],l),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function hR(t,e){const i={},r=c(t,["allowedFunctionNames"]);r!=null&&d(i,["allowedFunctionNames"],r);const a=c(t,["mode"]);if(a!=null&&d(i,["mode"],a),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function pR(t,e){const i={},r=c(t,["description"]);r!=null&&d(i,["description"],r);const a=c(t,["name"]);a!=null&&d(i,["name"],a);const l=c(t,["parameters"]);l!=null&&d(i,["parameters"],l);const f=c(t,["parametersJsonSchema"]);f!=null&&d(i,["parametersJsonSchema"],f);const p=c(t,["response"]);p!=null&&d(i,["response"],p);const g=c(t,["responseJsonSchema"]);if(g!=null&&d(i,["responseJsonSchema"],g),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function mR(t,e,i,r){const a={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],Gu(Ot(l)));const f=c(e,["temperature"]);f!=null&&d(a,["temperature"],f);const p=c(e,["topP"]);p!=null&&d(a,["topP"],p);const g=c(e,["topK"]);g!=null&&d(a,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&d(a,["candidateCount"],m);const v=c(e,["maxOutputTokens"]);v!=null&&d(a,["maxOutputTokens"],v);const T=c(e,["stopSequences"]);T!=null&&d(a,["stopSequences"],T);const _=c(e,["responseLogprobs"]);_!=null&&d(a,["responseLogprobs"],_);const C=c(e,["logprobs"]);C!=null&&d(a,["logprobs"],C);const b=c(e,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const M=c(e,["frequencyPenalty"]);M!=null&&d(a,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&d(a,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&d(a,["responseMimeType"],k);const z=c(e,["responseSchema"]);z!=null&&d(a,["responseSchema"],ch(z));const q=c(e,["responseJsonSchema"]);if(q!=null&&d(a,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(i!==void 0&&G!=null){let Ie=G;Array.isArray(Ie)&&(Ie=Ie.map(Fe=>rN(Fe))),d(i,["safetySettings"],Ie)}const W=c(e,["tools"]);if(i!==void 0&&W!=null){let Ie=is(W);Array.isArray(Ie)&&(Ie=Ie.map(Fe=>dN(ns(Fe)))),d(i,["tools"],Ie)}const V=c(e,["toolConfig"]);if(i!==void 0&&V!=null&&d(i,["toolConfig"],fN(V)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);i!==void 0&&F!=null&&d(i,["cachedContent"],Vi(t,F));const ne=c(e,["responseModalities"]);ne!=null&&d(a,["responseModalities"],ne);const Q=c(e,["mediaResolution"]);Q!=null&&d(a,["mediaResolution"],Q);const he=c(e,["speechConfig"]);if(he!=null&&d(a,["speechConfig"],fh(he)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=c(e,["thinkingConfig"]);ce!=null&&d(a,["thinkingConfig"],ce);const _e=c(e,["imageConfig"]);_e!=null&&d(a,["imageConfig"],zR(_e));const ye=c(e,["enableEnhancedCivicAnswers"]);if(ye!=null&&d(a,["enableEnhancedCivicAnswers"],ye),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function gR(t,e,i,r){const a={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],Ot(l));const f=c(e,["temperature"]);f!=null&&d(a,["temperature"],f);const p=c(e,["topP"]);p!=null&&d(a,["topP"],p);const g=c(e,["topK"]);g!=null&&d(a,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&d(a,["candidateCount"],m);const v=c(e,["maxOutputTokens"]);v!=null&&d(a,["maxOutputTokens"],v);const T=c(e,["stopSequences"]);T!=null&&d(a,["stopSequences"],T);const _=c(e,["responseLogprobs"]);_!=null&&d(a,["responseLogprobs"],_);const C=c(e,["logprobs"]);C!=null&&d(a,["logprobs"],C);const b=c(e,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const M=c(e,["frequencyPenalty"]);M!=null&&d(a,["frequencyPenalty"],M);const R=c(e,["seed"]);R!=null&&d(a,["seed"],R);const k=c(e,["responseMimeType"]);k!=null&&d(a,["responseMimeType"],k);const z=c(e,["responseSchema"]);z!=null&&d(a,["responseSchema"],ch(z));const q=c(e,["responseJsonSchema"]);q!=null&&d(a,["responseJsonSchema"],q);const G=c(e,["routingConfig"]);G!=null&&d(a,["routingConfig"],G);const W=c(e,["modelSelectionConfig"]);W!=null&&d(a,["modelConfig"],W);const V=c(e,["safetySettings"]);if(i!==void 0&&V!=null){let oe=V;Array.isArray(oe)&&(oe=oe.map(we=>we)),d(i,["safetySettings"],oe)}const F=c(e,["tools"]);if(i!==void 0&&F!=null){let oe=is(F);Array.isArray(oe)&&(oe=oe.map(we=>K0(ns(we)))),d(i,["tools"],oe)}const ne=c(e,["toolConfig"]);i!==void 0&&ne!=null&&d(i,["toolConfig"],ne);const Q=c(e,["labels"]);i!==void 0&&Q!=null&&d(i,["labels"],Q);const he=c(e,["cachedContent"]);i!==void 0&&he!=null&&d(i,["cachedContent"],Vi(t,he));const ce=c(e,["responseModalities"]);ce!=null&&d(a,["responseModalities"],ce);const _e=c(e,["mediaResolution"]);_e!=null&&d(a,["mediaResolution"],_e);const ye=c(e,["speechConfig"]);ye!=null&&d(a,["speechConfig"],fh(ye));const Ie=c(e,["audioTimestamp"]);Ie!=null&&d(a,["audioTimestamp"],Ie);const Fe=c(e,["thinkingConfig"]);Fe!=null&&d(a,["thinkingConfig"],Fe);const H=c(e,["imageConfig"]);if(H!=null&&d(a,["imageConfig"],qR(H)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=c(e,["modelArmorConfig"]);return i!==void 0&&Z!=null&&d(i,["modelArmorConfig"],Z),a}function rT(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let p=Dn(l);Array.isArray(p)&&(p=p.map(g=>Gu(g))),d(r,["contents"],p)}const f=c(e,["config"]);return f!=null&&d(r,["generationConfig"],mR(t,f,r)),r}function sT(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["contents"]);if(l!=null){let p=Dn(l);Array.isArray(p)&&(p=p.map(g=>g)),d(r,["contents"],p)}const f=c(e,["config"]);return f!=null&&d(r,["generationConfig"],gR(t,f,r)),r}function aT(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>GI(v))),d(i,["candidates"],m)}const l=c(t,["modelVersion"]);l!=null&&d(i,["modelVersion"],l);const f=c(t,["promptFeedback"]);f!=null&&d(i,["promptFeedback"],f);const p=c(t,["responseId"]);p!=null&&d(i,["responseId"],p);const g=c(t,["usageMetadata"]);return g!=null&&d(i,["usageMetadata"],g),i}function lT(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(T=>T)),d(i,["candidates"],v)}const l=c(t,["createTime"]);l!=null&&d(i,["createTime"],l);const f=c(t,["modelVersion"]);f!=null&&d(i,["modelVersion"],f);const p=c(t,["promptFeedback"]);p!=null&&d(i,["promptFeedback"],p);const g=c(t,["responseId"]);g!=null&&d(i,["responseId"],g);const m=c(t,["usageMetadata"]);return m!=null&&d(i,["usageMetadata"],m),i}function yR(t,e,i){const r={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const f=c(t,["guidanceScale"]);if(e!==void 0&&f!=null&&d(e,["parameters","guidanceScale"],f),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=c(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const m=c(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&d(e,["parameters","includeSafetyAttributes"],m);const v=c(t,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const T=c(t,["language"]);e!==void 0&&T!=null&&d(e,["parameters","language"],T);const _=c(t,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const C=c(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(t,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function vR(t,e,i){const r={},a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const f=c(t,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const p=c(t,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const m=c(t,["seed"]);e!==void 0&&m!=null&&d(e,["parameters","seed"],m);const v=c(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&d(e,["parameters","personGeneration"],T);const _=c(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&d(e,["parameters","includeSafetyAttributes"],_);const C=c(t,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const b=c(t,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const M=c(t,["outputMimeType"]);e!==void 0&&M!=null&&d(e,["parameters","outputOptions","mimeType"],M);const R=c(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const k=c(t,["addWatermark"]);e!==void 0&&k!=null&&d(e,["parameters","addWatermark"],k);const z=c(t,["labels"]);e!==void 0&&z!=null&&d(e,["labels"],z);const q=c(t,["imageSize"]);e!==void 0&&q!=null&&d(e,["parameters","sampleImageSize"],q);const G=c(t,["enhancePrompt"]);return e!==void 0&&G!=null&&d(e,["parameters","enhancePrompt"],G),r}function TR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const f=c(e,["config"]);return f!=null&&yR(f,r),r}function _R(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const f=c(e,["config"]);return f!=null&&vR(f,r),r}function ER(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>kR(p))),d(i,["generatedImages"],f)}const l=c(t,["positivePromptSafetyAttributes"]);return l!=null&&d(i,["positivePromptSafetyAttributes"],Y0(l)),i}function SR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Hu(p))),d(i,["generatedImages"],f)}const l=c(t,["positivePromptSafetyAttributes"]);return l!=null&&d(i,["positivePromptSafetyAttributes"],J0(l)),i}function AR(t,e,i){const r={},a=c(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(t,["durationSeconds"]);if(e!==void 0&&l!=null&&d(e,["parameters","durationSeconds"],l),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(t,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const g=c(t,["personGeneration"]);if(e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(t,["negativePrompt"]);e!==void 0&&m!=null&&d(e,["parameters","negativePrompt"],m);const v=c(t,["enhancePrompt"]);if(e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=c(t,["lastFrame"]);e!==void 0&&T!=null&&d(e,["instances[0]","lastFrame"],Vu(T));const _=c(t,["referenceImages"]);if(e!==void 0&&_!=null){let C=_;Array.isArray(C)&&(C=C.map(b=>wN(b))),d(e,["instances[0]","referenceImages"],C)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function CR(t,e,i){const r={},a=c(t,["numberOfVideos"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const l=c(t,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const f=c(t,["fps"]);e!==void 0&&f!=null&&d(e,["parameters","fps"],f);const p=c(t,["durationSeconds"]);e!==void 0&&p!=null&&d(e,["parameters","durationSeconds"],p);const g=c(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const m=c(t,["aspectRatio"]);e!==void 0&&m!=null&&d(e,["parameters","aspectRatio"],m);const v=c(t,["resolution"]);e!==void 0&&v!=null&&d(e,["parameters","resolution"],v);const T=c(t,["personGeneration"]);e!==void 0&&T!=null&&d(e,["parameters","personGeneration"],T);const _=c(t,["pubsubTopic"]);e!==void 0&&_!=null&&d(e,["parameters","pubsubTopic"],_);const C=c(t,["negativePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","negativePrompt"],C);const b=c(t,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const M=c(t,["generateAudio"]);e!==void 0&&M!=null&&d(e,["parameters","generateAudio"],M);const R=c(t,["lastFrame"]);e!==void 0&&R!=null&&d(e,["instances[0]","lastFrame"],Qn(R));const k=c(t,["referenceImages"]);if(e!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map(W=>bN(W))),d(e,["instances[0]","referenceImages"],G)}const z=c(t,["mask"]);e!==void 0&&z!=null&&d(e,["instances[0]","mask"],CN(z));const q=c(t,["compressionQuality"]);return e!==void 0&&q!=null&&d(e,["parameters","compressionQuality"],q),r}function wR(t,e){const i={},r=c(t,["name"]);r!=null&&d(i,["name"],r);const a=c(t,["metadata"]);a!=null&&d(i,["metadata"],a);const l=c(t,["done"]);l!=null&&d(i,["done"],l);const f=c(t,["error"]);f!=null&&d(i,["error"],f);const p=c(t,["response","generateVideoResponse"]);return p!=null&&d(i,["response"],NR(p)),i}function bR(t,e){const i={},r=c(t,["name"]);r!=null&&d(i,["name"],r);const a=c(t,["metadata"]);a!=null&&d(i,["metadata"],a);const l=c(t,["done"]);l!=null&&d(i,["done"],l);const f=c(t,["error"]);f!=null&&d(i,["error"],f);const p=c(t,["response"]);return p!=null&&d(i,["response"],xR(p)),i}function IR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const f=c(e,["image"]);f!=null&&d(r,["instances[0]","image"],Vu(f));const p=c(e,["video"]);p!=null&&d(r,["instances[0]","video"],$0(p));const g=c(e,["source"]);g!=null&&MR(g,r);const m=c(e,["config"]);return m!=null&&AR(m,r),r}function RR(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["prompt"]);l!=null&&d(r,["instances[0]","prompt"],l);const f=c(e,["image"]);f!=null&&d(r,["instances[0]","image"],Qn(f));const p=c(e,["video"]);p!=null&&d(r,["instances[0]","video"],X0(p));const g=c(e,["source"]);g!=null&&DR(g,r);const m=c(e,["config"]);return m!=null&&CR(m,r),r}function NR(t,e){const i={},r=c(t,["generatedSamples"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>LR(p))),d(i,["generatedVideos"],f)}const a=c(t,["raiMediaFilteredCount"]);a!=null&&d(i,["raiMediaFilteredCount"],a);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&d(i,["raiMediaFilteredReasons"],l),i}function xR(t,e){const i={},r=c(t,["videos"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>PR(p))),d(i,["generatedVideos"],f)}const a=c(t,["raiMediaFilteredCount"]);a!=null&&d(i,["raiMediaFilteredCount"],a);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&d(i,["raiMediaFilteredReasons"],l),i}function MR(t,e,i){const r={},a=c(t,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const l=c(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],Vu(l));const f=c(t,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],$0(f)),r}function DR(t,e,i){const r={},a=c(t,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const l=c(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],Qn(l));const f=c(t,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],X0(f)),r}function kR(t,e){const i={},r=c(t,["_self"]);r!=null&&d(i,["image"],FR(r));const a=c(t,["raiFilteredReason"]);a!=null&&d(i,["raiFilteredReason"],a);const l=c(t,["_self"]);return l!=null&&d(i,["safetyAttributes"],Y0(l)),i}function Hu(t,e){const i={},r=c(t,["_self"]);r!=null&&d(i,["image"],F0(r));const a=c(t,["raiFilteredReason"]);a!=null&&d(i,["raiFilteredReason"],a);const l=c(t,["_self"]);l!=null&&d(i,["safetyAttributes"],J0(l));const f=c(t,["prompt"]);return f!=null&&d(i,["enhancedPrompt"],f),i}function UR(t,e){const i={},r=c(t,["_self"]);r!=null&&d(i,["mask"],F0(r));const a=c(t,["labels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(i,["labels"],l)}return i}function LR(t,e){const i={},r=c(t,["video"]);return r!=null&&d(i,["video"],SN(r)),i}function PR(t,e){const i={},r=c(t,["_self"]);return r!=null&&d(i,["video"],AN(r)),i}function OR(t,e){const i={},r=c(t,["modelSelectionConfig"]);r!=null&&d(i,["modelConfig"],r);const a=c(t,["responseJsonSchema"]);a!=null&&d(i,["responseJsonSchema"],a);const l=c(t,["audioTimestamp"]);l!=null&&d(i,["audioTimestamp"],l);const f=c(t,["candidateCount"]);f!=null&&d(i,["candidateCount"],f);const p=c(t,["enableAffectiveDialog"]);p!=null&&d(i,["enableAffectiveDialog"],p);const g=c(t,["frequencyPenalty"]);g!=null&&d(i,["frequencyPenalty"],g);const m=c(t,["logprobs"]);m!=null&&d(i,["logprobs"],m);const v=c(t,["maxOutputTokens"]);v!=null&&d(i,["maxOutputTokens"],v);const T=c(t,["mediaResolution"]);T!=null&&d(i,["mediaResolution"],T);const _=c(t,["presencePenalty"]);_!=null&&d(i,["presencePenalty"],_);const C=c(t,["responseLogprobs"]);C!=null&&d(i,["responseLogprobs"],C);const b=c(t,["responseMimeType"]);b!=null&&d(i,["responseMimeType"],b);const M=c(t,["responseModalities"]);M!=null&&d(i,["responseModalities"],M);const R=c(t,["responseSchema"]);R!=null&&d(i,["responseSchema"],R);const k=c(t,["routingConfig"]);k!=null&&d(i,["routingConfig"],k);const z=c(t,["seed"]);z!=null&&d(i,["seed"],z);const q=c(t,["speechConfig"]);q!=null&&d(i,["speechConfig"],q);const G=c(t,["stopSequences"]);G!=null&&d(i,["stopSequences"],G);const W=c(t,["temperature"]);W!=null&&d(i,["temperature"],W);const V=c(t,["thinkingConfig"]);V!=null&&d(i,["thinkingConfig"],V);const F=c(t,["topK"]);F!=null&&d(i,["topK"],F);const ne=c(t,["topP"]);if(ne!=null&&d(i,["topP"],ne),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function GR(t,e,i){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ge(t,a)),r}function HR(t,e,i){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ge(t,a)),r}function VR(t,e){const i={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(t,["enableWidget"]);return r!=null&&d(i,["enableWidget"],r),i}function BR(t,e){const i={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(t,["timeRangeFilter"]);return r!=null&&d(i,["timeRangeFilter"],r),i}function zR(t,e){const i={},r=c(t,["aspectRatio"]);r!=null&&d(i,["aspectRatio"],r);const a=c(t,["imageSize"]);if(a!=null&&d(i,["imageSize"],a),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function qR(t,e){const i={},r=c(t,["aspectRatio"]);r!=null&&d(i,["aspectRatio"],r);const a=c(t,["imageSize"]);a!=null&&d(i,["imageSize"],a);const l=c(t,["personGeneration"]);l!=null&&d(i,["personGeneration"],l);const f=c(t,["outputMimeType"]);f!=null&&d(i,["imageOutputOptions","mimeType"],f);const p=c(t,["outputCompressionQuality"]);return p!=null&&d(i,["imageOutputOptions","compressionQuality"],p),i}function FR(t,e){const i={},r=c(t,["bytesBase64Encoded"]);r!=null&&d(i,["imageBytes"],wo(r));const a=c(t,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function F0(t,e){const i={},r=c(t,["gcsUri"]);r!=null&&d(i,["gcsUri"],r);const a=c(t,["bytesBase64Encoded"]);a!=null&&d(i,["imageBytes"],wo(a));const l=c(t,["mimeType"]);return l!=null&&d(i,["mimeType"],l),i}function Vu(t,e){const i={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=c(t,["imageBytes"]);r!=null&&d(i,["bytesBase64Encoded"],wo(r));const a=c(t,["mimeType"]);return a!=null&&d(i,["mimeType"],a),i}function Qn(t,e){const i={},r=c(t,["gcsUri"]);r!=null&&d(i,["gcsUri"],r);const a=c(t,["imageBytes"]);a!=null&&d(i,["bytesBase64Encoded"],wo(a));const l=c(t,["mimeType"]);return l!=null&&d(i,["mimeType"],l),i}function YR(t,e,i,r){const a={},l=c(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const f=c(e,["pageToken"]);i!==void 0&&f!=null&&d(i,["_query","pageToken"],f);const p=c(e,["filter"]);i!==void 0&&p!=null&&d(i,["_query","filter"],p);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],O0(t,g)),a}function JR(t,e,i,r){const a={},l=c(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const f=c(e,["pageToken"]);i!==void 0&&f!=null&&d(i,["_query","pageToken"],f);const p=c(e,["filter"]);i!==void 0&&p!=null&&d(i,["_query","filter"],p);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&d(i,["_url","models_url"],O0(t,g)),a}function KR(t,e,i){const r={},a=c(e,["config"]);return a!=null&&YR(t,a,r),r}function $R(t,e,i){const r={},a=c(e,["config"]);return a!=null&&JR(t,a,r),r}function XR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const l=c(t,["_self"]);if(l!=null){let f=G0(l);Array.isArray(f)&&(f=f.map(p=>Pd(p))),d(i,["models"],f)}return i}function WR(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const l=c(t,["_self"]);if(l!=null){let f=G0(l);Array.isArray(f)&&(f=f.map(p=>Od(p))),d(i,["models"],f)}return i}function QR(t,e){const i={},r=c(t,["maskMode"]);r!=null&&d(i,["maskMode"],r);const a=c(t,["segmentationClasses"]);a!=null&&d(i,["maskClasses"],a);const l=c(t,["maskDilation"]);return l!=null&&d(i,["dilation"],l),i}function Pd(t,e){const i={},r=c(t,["name"]);r!=null&&d(i,["name"],r);const a=c(t,["displayName"]);a!=null&&d(i,["displayName"],a);const l=c(t,["description"]);l!=null&&d(i,["description"],l);const f=c(t,["version"]);f!=null&&d(i,["version"],f);const p=c(t,["_self"]);p!=null&&d(i,["tunedModelInfo"],hN(p));const g=c(t,["inputTokenLimit"]);g!=null&&d(i,["inputTokenLimit"],g);const m=c(t,["outputTokenLimit"]);m!=null&&d(i,["outputTokenLimit"],m);const v=c(t,["supportedGenerationMethods"]);v!=null&&d(i,["supportedActions"],v);const T=c(t,["temperature"]);T!=null&&d(i,["temperature"],T);const _=c(t,["maxTemperature"]);_!=null&&d(i,["maxTemperature"],_);const C=c(t,["topP"]);C!=null&&d(i,["topP"],C);const b=c(t,["topK"]);b!=null&&d(i,["topK"],b);const M=c(t,["thinking"]);return M!=null&&d(i,["thinking"],M),i}function Od(t,e){const i={},r=c(t,["name"]);r!=null&&d(i,["name"],r);const a=c(t,["displayName"]);a!=null&&d(i,["displayName"],a);const l=c(t,["description"]);l!=null&&d(i,["description"],l);const f=c(t,["versionId"]);f!=null&&d(i,["version"],f);const p=c(t,["deployedModels"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(C=>cR(C))),d(i,["endpoints"],_)}const g=c(t,["labels"]);g!=null&&d(i,["labels"],g);const m=c(t,["_self"]);m!=null&&d(i,["tunedModelInfo"],pN(m));const v=c(t,["defaultCheckpointId"]);v!=null&&d(i,["defaultCheckpointId"],v);const T=c(t,["checkpoints"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(C=>C)),d(i,["checkpoints"],_)}return i}function ZR(t,e){const i={},r=c(t,["mediaResolution"]);r!=null&&d(i,["mediaResolution"],r);const a=c(t,["codeExecutionResult"]);a!=null&&d(i,["codeExecutionResult"],a);const l=c(t,["executableCode"]);l!=null&&d(i,["executableCode"],l);const f=c(t,["fileData"]);f!=null&&d(i,["fileData"],fR(f));const p=c(t,["functionCall"]);p!=null&&d(i,["functionCall"],dR(p));const g=c(t,["functionResponse"]);g!=null&&d(i,["functionResponse"],g);const m=c(t,["inlineData"]);m!=null&&d(i,["inlineData"],OI(m));const v=c(t,["text"]);v!=null&&d(i,["text"],v);const T=c(t,["thought"]);T!=null&&d(i,["thought"],T);const _=c(t,["thoughtSignature"]);_!=null&&d(i,["thoughtSignature"],_);const C=c(t,["videoMetadata"]);return C!=null&&d(i,["videoMetadata"],C),i}function jR(t,e){const i={},r=c(t,["productImage"]);return r!=null&&d(i,["image"],Qn(r)),i}function eN(t,e,i){const r={},a=c(t,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const l=c(t,["baseSteps"]);e!==void 0&&l!=null&&d(e,["parameters","baseSteps"],l);const f=c(t,["outputGcsUri"]);e!==void 0&&f!=null&&d(e,["parameters","storageUri"],f);const p=c(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const g=c(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const m=c(t,["personGeneration"]);e!==void 0&&m!=null&&d(e,["parameters","personGeneration"],m);const v=c(t,["addWatermark"]);e!==void 0&&v!=null&&d(e,["parameters","addWatermark"],v);const T=c(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const _=c(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const C=c(t,["enhancePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C);const b=c(t,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),r}function tN(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["source"]);l!=null&&iN(l,r);const f=c(e,["config"]);return f!=null&&eN(f,r),r}function nN(t,e){const i={},r=c(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Hu(l))),d(i,["generatedImages"],a)}return i}function iN(t,e,i){const r={},a=c(t,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const l=c(t,["personImage"]);e!==void 0&&l!=null&&d(e,["instances[0]","personImage","image"],Qn(l));const f=c(t,["productImages"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>jR(g))),d(e,["instances[0]","productImages"],p)}return r}function oN(t,e){const i={},r=c(t,["referenceImage"]);r!=null&&d(i,["referenceImage"],Qn(r));const a=c(t,["referenceId"]);a!=null&&d(i,["referenceId"],a);const l=c(t,["referenceType"]);l!=null&&d(i,["referenceType"],l);const f=c(t,["maskImageConfig"]);f!=null&&d(i,["maskImageConfig"],QR(f));const p=c(t,["controlImageConfig"]);p!=null&&d(i,["controlImageConfig"],FI(p));const g=c(t,["styleImageConfig"]);g!=null&&d(i,["styleImageConfig"],g);const m=c(t,["subjectImageConfig"]);return m!=null&&d(i,["subjectImageConfig"],m),i}function Y0(t,e){const i={},r=c(t,["safetyAttributes","categories"]);r!=null&&d(i,["categories"],r);const a=c(t,["safetyAttributes","scores"]);a!=null&&d(i,["scores"],a);const l=c(t,["contentType"]);return l!=null&&d(i,["contentType"],l),i}function J0(t,e){const i={},r=c(t,["safetyAttributes","categories"]);r!=null&&d(i,["categories"],r);const a=c(t,["safetyAttributes","scores"]);a!=null&&d(i,["scores"],a);const l=c(t,["contentType"]);return l!=null&&d(i,["contentType"],l),i}function rN(t,e){const i={},r=c(t,["category"]);if(r!=null&&d(i,["category"],r),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(t,["threshold"]);return a!=null&&d(i,["threshold"],a),i}function sN(t,e){const i={},r=c(t,["image"]);return r!=null&&d(i,["image"],Qn(r)),i}function aN(t,e,i){const r={},a=c(t,["mode"]);e!==void 0&&a!=null&&d(e,["parameters","mode"],a);const l=c(t,["maxPredictions"]);e!==void 0&&l!=null&&d(e,["parameters","maxPredictions"],l);const f=c(t,["confidenceThreshold"]);e!==void 0&&f!=null&&d(e,["parameters","confidenceThreshold"],f);const p=c(t,["maskDilation"]);e!==void 0&&p!=null&&d(e,["parameters","maskDilation"],p);const g=c(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&d(e,["parameters","binaryColorThreshold"],g);const m=c(t,["labels"]);return e!==void 0&&m!=null&&d(e,["labels"],m),r}function lN(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["source"]);l!=null&&cN(l,r);const f=c(e,["config"]);return f!=null&&aN(f,r),r}function uN(t,e){const i={},r=c(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>UR(l))),d(i,["generatedMasks"],a)}return i}function cN(t,e,i){const r={},a=c(t,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const l=c(t,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],Qn(l));const f=c(t,["scribbleImage"]);return e!==void 0&&f!=null&&d(e,["instances[0]","scribble"],sN(f)),r}function fN(t,e){const i={},r=c(t,["retrievalConfig"]);r!=null&&d(i,["retrievalConfig"],r);const a=c(t,["functionCallingConfig"]);return a!=null&&d(i,["functionCallingConfig"],hR(a)),i}function dN(t,e){const i={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["computerUse"]);r!=null&&d(i,["computerUse"],r);const a=c(t,["fileSearch"]);a!=null&&d(i,["fileSearch"],a);const l=c(t,["codeExecution"]);if(l!=null&&d(i,["codeExecution"],l),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>_)),d(i,["functionDeclarations"],T)}const p=c(t,["googleMaps"]);p!=null&&d(i,["googleMaps"],VR(p));const g=c(t,["googleSearch"]);g!=null&&d(i,["googleSearch"],BR(g));const m=c(t,["googleSearchRetrieval"]);m!=null&&d(i,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&d(i,["urlContext"],v),i}function K0(t,e){const i={},r=c(t,["retrieval"]);r!=null&&d(i,["retrieval"],r);const a=c(t,["computerUse"]);if(a!=null&&d(i,["computerUse"],a),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(t,["codeExecution"]);l!=null&&d(i,["codeExecution"],l);const f=c(t,["enterpriseWebSearch"]);f!=null&&d(i,["enterpriseWebSearch"],f);const p=c(t,["functionDeclarations"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(C=>pR(C))),d(i,["functionDeclarations"],_)}const g=c(t,["googleMaps"]);g!=null&&d(i,["googleMaps"],g);const m=c(t,["googleSearch"]);m!=null&&d(i,["googleSearch"],m);const v=c(t,["googleSearchRetrieval"]);v!=null&&d(i,["googleSearchRetrieval"],v);const T=c(t,["urlContext"]);return T!=null&&d(i,["urlContext"],T),i}function hN(t,e){const i={},r=c(t,["baseModel"]);r!=null&&d(i,["baseModel"],r);const a=c(t,["createTime"]);a!=null&&d(i,["createTime"],a);const l=c(t,["updateTime"]);return l!=null&&d(i,["updateTime"],l),i}function pN(t,e){const i={},r=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&d(i,["baseModel"],r);const a=c(t,["createTime"]);a!=null&&d(i,["createTime"],a);const l=c(t,["updateTime"]);return l!=null&&d(i,["updateTime"],l),i}function mN(t,e,i){const r={},a=c(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const l=c(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const f=c(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),r}function gN(t,e,i){const r={},a=c(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const l=c(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const f=c(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),r}function yN(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","name"],Ge(t,a));const l=c(e,["config"]);return l!=null&&mN(l,r),r}function vN(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["config"]);return l!=null&&gN(l,r),r}function TN(t,e,i){const r={},a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const l=c(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&d(e,["parameters","safetySetting"],l);const f=c(t,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const p=c(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const g=c(t,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const m=c(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&d(e,["parameters","outputOptions","compressionQuality"],m);const v=c(t,["enhanceInputImage"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],v);const T=c(t,["imagePreservationFactor"]);e!==void 0&&T!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],T);const _=c(t,["labels"]);e!==void 0&&_!=null&&d(e,["labels"],_);const C=c(t,["numberOfImages"]);e!==void 0&&C!=null&&d(e,["parameters","sampleCount"],C);const b=c(t,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),r}function _N(t,e,i){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ge(t,a));const l=c(e,["image"]);l!=null&&d(r,["instances[0]","image"],Qn(l));const f=c(e,["upscaleFactor"]);f!=null&&d(r,["parameters","upscaleConfig","upscaleFactor"],f);const p=c(e,["config"]);return p!=null&&TN(p,r),r}function EN(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>Hu(f))),d(i,["generatedImages"],l)}return i}function SN(t,e){const i={},r=c(t,["uri"]);r!=null&&d(i,["uri"],r);const a=c(t,["encodedVideo"]);a!=null&&d(i,["videoBytes"],wo(a));const l=c(t,["encoding"]);return l!=null&&d(i,["mimeType"],l),i}function AN(t,e){const i={},r=c(t,["gcsUri"]);r!=null&&d(i,["uri"],r);const a=c(t,["bytesBase64Encoded"]);a!=null&&d(i,["videoBytes"],wo(a));const l=c(t,["mimeType"]);return l!=null&&d(i,["mimeType"],l),i}function CN(t,e){const i={},r=c(t,["image"]);r!=null&&d(i,["_self"],Qn(r));const a=c(t,["maskMode"]);return a!=null&&d(i,["maskMode"],a),i}function wN(t,e){const i={},r=c(t,["image"]);r!=null&&d(i,["image"],Vu(r));const a=c(t,["referenceType"]);return a!=null&&d(i,["referenceType"],a),i}function bN(t,e){const i={},r=c(t,["image"]);r!=null&&d(i,["image"],Qn(r));const a=c(t,["referenceType"]);return a!=null&&d(i,["referenceType"],a),i}function $0(t,e){const i={},r=c(t,["uri"]);r!=null&&d(i,["uri"],r);const a=c(t,["videoBytes"]);a!=null&&d(i,["encodedVideo"],wo(a));const l=c(t,["mimeType"]);return l!=null&&d(i,["encoding"],l),i}function X0(t,e){const i={},r=c(t,["uri"]);r!=null&&d(i,["gcsUri"],r);const a=c(t,["videoBytes"]);a!=null&&d(i,["bytesBase64Encoded"],wo(a));const l=c(t,["mimeType"]);return l!=null&&d(i,["mimeType"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IN(t,e){const i={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),i}function RN(t){const e={},i=c(t,["config"]);return i!=null&&IN(i,e),e}function NN(t,e){const i={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),i}function xN(t){const e={},i=c(t,["name"]);i!=null&&d(e,["_url","name"],i);const r=c(t,["config"]);return r!=null&&NN(r,e),e}function MN(t){const e={},i=c(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function DN(t,e){const i={},r=c(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["customMetadata"],l)}const a=c(t,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),i}function kN(t){const e={},i=c(t,["name"]);i!=null&&d(e,["name"],i);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(t,["done"]);a!=null&&d(e,["done"],a);const l=c(t,["error"]);l!=null&&d(e,["error"],l);const f=c(t,["response"]);return f!=null&&d(e,["response"],LN(f)),e}function UN(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const r=c(t,["fileName"]);r!=null&&d(e,["fileName"],r);const a=c(t,["config"]);return a!=null&&DN(a,e),e}function LN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const a=c(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function PN(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function ON(t){const e={},i=c(t,["config"]);return i!=null&&PN(i,e),e}function GN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["fileSearchStores"],l)}return e}function W0(t,e){const i={},r=c(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const a=c(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const l=c(t,["customMetadata"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["customMetadata"],p)}const f=c(t,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),i}function HN(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const r=c(t,["config"]);return r!=null&&W0(r,e),e}function VN(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BN="Content-Type",zN="X-Server-Timeout",qN="User-Agent",Gd="x-goog-api-client",FN="1.41.0",YN=`google-genai-sdk/${FN}`,JN="v1beta1",KN="v1beta",$N=5,XN=[408,429,500,502,503,504];class WN{constructor(e){var i,r,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!p?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:JN}else{if(!this.clientOptions.apiKey)throw new ga({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:KN,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Dd.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))a.searchParams.append(f,String(p));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const l=new AbortController,f=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>l.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=f}return i&&i.extraBody!==null&&QN(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await uT(a),new kd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await uT(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return $n(this,arguments,function*(){var r;const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ve(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=l.decode(v,{stream:!0});try{const b=JSON.parse(T);if("error"in b){const M=JSON.parse(JSON.stringify(b.error)),R=M.status,k=M.code,z=`got status: ${R}. ${JSON.stringify(b)}`;if(k>=400&&k<600)throw new ga({message:z,status:k})}}catch(b){if(b.name==="ApiError")throw b}f+=T;let _=-1,C=0;for(;;){_=-1,C=0;for(const R of g){const k=f.indexOf(R);k!==-1&&(_===-1||k<_)&&(_=k,C=R.length)}if(_===-1)break;const b=f.substring(0,_);f=f.substring(_+C);const M=b.trim();if(M.startsWith(p)){const R=M.substring(p.length).trim();try{const k=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new kd(k))}catch(k){throw new Error(`exception parsing stream chunk ${R}. ${k}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,i);const a=this.clientOptions.httpOptions.retryOptions;return VC(async()=>{const f=await fetch(e,i);if(f.ok)return f;throw XN.includes(f.status)?new Error(`Retryable HTTP Error: ${f.statusText}`):new R0(`Non-retryable exception ${f.statusText} sending request`)},{retries:((r=a.attempts)!==null&&r!==void 0?r:$N)-1})}getDefaultHeaders(){const e={},i=YN+" "+this.clientOptions.userAgentExtra;return e[qN]=i,e[Gd]=i,e[BN]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(zN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,f=await l.stat(e);a.sizeBytes=String(f.size);const p=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},m=this.getFileName(e),v=ee("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,g,i==null?void 0:i.httpOptions);return l.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,r){var a;const l=this.clientOptions.uploader,f=await l.stat(i),p=String(f.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),T={};r!=null&&W0(r,T);const _=await this.fetchUploadUrl(m,p,g,v,T,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,a,l,f){var p;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function uT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new ga({message:a,status:i}):new Error(a)}}function QN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,f){const p=Object.assign({},l);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],v=p[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=r(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[g]=m)}return p}const a=r(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZN="mcp_used/unknown";let jN=!1;function Q0(t){for(const e of t)if(ex(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jN}function Z0(t){var e;const i=(e=t[Gd])!==null&&e!==void 0?e:"";t[Gd]=(i+` ${ZN}`).trimStart()}function ex(t){return t!==null&&typeof t=="object"&&t instanceof hh}function tx(t){return $n(this,arguments,function*(i,r=100){let a,l=0;for(;l<r;){const f=yield ve(i.listTools({cursor:a}));for(const p of f.tools)yield yield ve(p),l++;if(!f.nextCursor)break;a=f.nextCursor}})}class hh{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new hh(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const l={},f=[];for(const v of this.mcpClients)try{for(var p=!0,g=(i=void 0,Xn(tx(v))),m;m=await g.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const T=a;f.push(T);const _=T.name;if(l[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);l[_]=v}}catch(T){i={error:T}}finally{try{!p&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),Rw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const f=await a.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nx(t,e,i){const r=new _w;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class ix{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),f=sx(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(q=>{m=q}),T=e.callbacks,_=function(){m({})},C=this.apiClient,b={onopen:_,onmessage:q=>{nx(C,T.onmessage,q)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(q){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(q){}},M=this.webSocketFactory.create(g,rx(f),b);M.connect(),await v;const z={setup:{model:Ge(this.apiClient,e.model)}};return M.send(JSON.stringify(z)),new ox(M,this.apiClient)}}class ox{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=II(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=bI(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(zr.PLAY)}pause(){this.sendPlaybackControl(zr.PAUSE)}stop(){this.sendPlaybackControl(zr.STOP)}resetContext(){this.sendPlaybackControl(zr.RESET_CONTEXT)}close(){this.conn.close()}}function rx(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function sx(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ax="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lx(t,e,i){const r=new Tw;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(t.isVertexAI()){const f=xI(l);Object.assign(r,f)}else Object.assign(r,l);e(r)}class ux{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new ix(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,l,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Q0(e.config.tools)&&Z0(T);const _=hx(T);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),he=this.apiClient.getLocation(),ce=this.apiClient.getApiKey(),_e=!!Q&&!!he||!!ce;this.apiClient.getCustomBaseUrl()&&!_e?v=g:(v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v))}else{const Q=this.apiClient.getApiKey();let he="BidiGenerateContent",ce="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",ce="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${he}?${ce}=${Q}`}let C=()=>{};const b=new Promise(Q=>{C=Q}),M=e.callbacks,R=function(){var Q;(Q=M==null?void 0:M.onopen)===null||Q===void 0||Q.call(M),C({})},k=this.apiClient,z={onopen:R,onmessage:Q=>{lx(k,M.onmessage,Q)},onerror:(i=M==null?void 0:M.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(r=M==null?void 0:M.onclose)!==null&&r!==void 0?r:function(Q){}},q=this.webSocketFactory.create(v,dx(_),z);q.connect(),await b;let G=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const Q=this.apiClient.getProject(),he=this.apiClient.getLocation();Q&&he&&(G=`projects/${Q}/locations/${he}/`+G)}let W={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_u.AUDIO]}:e.config.responseModalities=[_u.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],F=[];for(const Q of V)if(this.isCallableTool(Q)){const he=Q;F.push(await he.tool())}else F.push(Q);F.length>0&&(e.config.tools=F);const ne={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=wI(this.apiClient,ne):W=CI(this.apiClient,ne),delete W.config,q.send(JSON.stringify(W)),new fx(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cx={turnComplete:!0};class fx{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=Dn(i.turns),e.isVertexAI()||(r=r.map(a=>Gu(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(ax)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},cx),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:NI(e)}:i={realtimeInput:RI(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function dx(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function hx(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cT=10;function fT(t){var e,i,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Jr(f)){a=!0;break}if(!a)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Jr(t){return"callTool"in t&&typeof t.callTool=="function"}function px(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Jr(a)))!==null&&r!==void 0?r:!1}function dT(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,a)=>{if(Jr(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function hT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mx extends Hi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,l,f,p;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!px(i)||fT(i.config))return await this.generateContentInternal(g);const m=dT(i);if(m.length>0){const M=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let v,T;const _=Dn(g.contents),C=(l=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:cT;let b=0;for(;b<C&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const M=v.candidates[0].content,R=[];for(const k of(p=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Jr(k)){const q=await k.callTool(v.functionCalls);R.push(...q)}b++,T={role:"user",parts:R},g.contents=Dn(g.contents),g.contents.push(M),g.contents.push(T),hT(g.config)&&(_.push(M),_.push(T))}return hT(g.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async i=>{var r,a,l,f,p;if(this.maybeMoveToResponseJsonSchem(i),fT(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=dT(i);if(g.length>0){const T=g.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(a=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(p=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let l;const f=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:f.push(g);let p;return l?p={generatedImages:f,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:r.sdkHttpResponse},p}),this.list=async i=>{var r;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((r=f.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new sr(Li.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,l,f,p,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(l=i.source)===null||l===void 0?void 0:l.video)===null||f===void 0)&&f.uri&&(!((g=(p=i.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const f=await Promise.all(l.map(async g=>Jr(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&Q0(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Z0(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var i,r,a;const l=new Map;for(const f of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(Jr(f)){const p=f,g=await p.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,p)}}return l}async processAfcStream(e){var i,r,a;const l=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:cT;let f=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(m,v,T){return $n(this,arguments,function*(){for(var _,C,b,M,R,k;p<l;){f&&(p++,f=!1);const W=yield ve(m.processParamsMaybeAddMcpUsage(T)),V=yield ve(m.generateContentStreamInternal(W)),F=[],ne=[];try{for(var z=!0,q=(C=void 0,Xn(V)),G;G=yield ve(q.next()),_=G.done,!_;z=!0){M=G.value,z=!1;const Q=M;if(yield yield ve(Q),Q.candidates&&(!((R=Q.candidates[0])===null||R===void 0)&&R.content)){ne.push(Q.candidates[0].content);for(const he of(k=Q.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(p<l&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const ce=yield ve(v.get(he.functionCall.name).callTool([he.functionCall]));F.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(Q){C={error:Q}}finally{try{!z&&!_&&(b=q.return)&&(yield ve(b.call(q)))}finally{if(C)throw C.error}}if(F.length>0){f=!0;const Q=new ra;Q.candidates=[{content:{role:"user",parts:F}}],yield yield ve(Q);const he=[];he.push(...ne),he.push({role:"user",parts:F});const ce=Dn(T.contents).concat(he);T.contents=ce}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=sT(this.apiClient,e);return p=ee("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=lT(v),_=new ra;return Object.assign(_,T),_})}else{const m=rT(this.apiClient,e);return p=ee("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=aT(v),_=new ra;return Object.assign(_,T),_})}}async generateContentStreamInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=sT(this.apiClient,e);return p=ee("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),f.then(function(T){return $n(this,arguments,function*(){var _,C,b,M;try{for(var R=!0,k=Xn(T),z;z=yield ve(k.next()),_=z.done,!_;R=!0){M=z.value,R=!1;const q=M,G=lT(yield ve(q.json()),e);G.sdkHttpResponse={headers:q.headers};const W=new ra;Object.assign(W,G),yield yield ve(W)}}catch(q){C={error:q}}finally{try{!R&&!_&&(b=k.return)&&(yield ve(b.call(k)))}finally{if(C)throw C.error}}})})}else{const m=rT(this.apiClient,e);return p=ee("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(T){return $n(this,arguments,function*(){var _,C,b,M;try{for(var R=!0,k=Xn(T),z;z=yield ve(k.next()),_=z.done,!_;R=!0){M=z.value,R=!1;const q=M,G=aT(yield ve(q.json()),e);G.sdkHttpResponse={headers:q.headers};const W=new ra;Object.assign(W,G),yield yield ve(W)}}catch(q){C={error:q}}finally{try{!R&&!_&&(b=k.return)&&(yield ve(b.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=aR(this.apiClient,e);return p=ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=uR(v),_=new zv;return Object.assign(_,T),_})}else{const m=sR(this.apiClient,e);return p=ee("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=lR(v),_=new zv;return Object.assign(_,T),_})}}async generateImagesInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=_R(this.apiClient,e);return p=ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=SR(v),_=new qv;return Object.assign(_,T),_})}else{const m=TR(this.apiClient,e);return p=ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=ER(v),_=new qv;return Object.assign(_,T),_})}}async editImageInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=nR(this.apiClient,e);return l=ee("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=iR(g),v=new aw;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=_N(this.apiClient,e);return l=ee("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=EN(g),v=new lw;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=tN(this.apiClient,e);return l=ee("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=nN(g),v=new uw;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=lN(this.apiClient,e);return l=ee("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=uN(g),v=new cw;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=HR(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Od(v))}else{const m=GR(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Pd(v))}}async listInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=$R(this.apiClient,e);return p=ee("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=WR(v),_=new Fv;return Object.assign(_,T),_})}else{const m=KR(this.apiClient,e);return p=ee("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=XR(v),_=new Fv;return Object.assign(_,T),_})}}async update(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=vN(this.apiClient,e);return p=ee("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Od(v))}else{const m=yN(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Pd(v))}}async delete(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=ZI(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=eR(v),_=new Yv;return Object.assign(_,T),_})}else{const m=QI(this.apiClient,e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=jI(v),_=new Yv;return Object.assign(_,T),_})}}async countTokens(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=$I(this.apiClient,e);return p=ee("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=WI(v),_=new Jv;return Object.assign(_,T),_})}else{const m=KI(this.apiClient,e);return p=ee("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=XI(v),_=new Jv;return Object.assign(_,T),_})}}async computeTokens(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=VI(this.apiClient,e);return l=ee("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const m=BI(g),v=new fw;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=RR(this.apiClient,e);return p=ee("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>{const T=bR(v),_=new Eu;return Object.assign(_,T),_})}else{const m=IR(this.apiClient,e);return p=ee("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const T=wR(v),_=new Eu;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends Hi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=tw(e);return p=ee("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f}else{const m=ew(e);return p=ee("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=KC(e);return l=ee("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(t){const e={},i=c(t,["data"]);if(i!=null&&d(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function vx(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Ix(l))),d(e,["parts"],a)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function Tx(t,e,i){const r={},a=c(e,["expireTime"]);i!==void 0&&a!=null&&d(i,["expireTime"],a);const l=c(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&d(i,["newSessionExpireTime"],l);const f=c(e,["uses"]);i!==void 0&&f!=null&&d(i,["uses"],f);const p=c(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&d(i,["bidiGenerateContentSetup"],bx(t,p));const g=c(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),r}function _x(t,e){const i={},r=c(e,["config"]);return r!=null&&d(i,["config"],Tx(t,r,i)),i}function Ex(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Sx(t){const e={},i=c(t,["id"]);i!=null&&d(e,["id"],i);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const a=c(t,["name"]);if(a!=null&&d(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ax(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Cx(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function wx(t,e){const i={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=c(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const f=c(t,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=c(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=c(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],dh(T));const _=c(t,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const C=c(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],vx(Ot(b)));const M=c(t,["tools"]);if(e!==void 0&&M!=null){let V=is(M);Array.isArray(V)&&(V=V.map(F=>Nx(ns(F)))),d(e,["setup","tools"],V)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],Rx(R));const k=c(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&d(e,["setup","inputAudioTranscription"],k);const z=c(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&d(e,["setup","outputAudioTranscription"],z);const q=c(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&d(e,["setup","realtimeInputConfig"],q);const G=c(t,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const W=c(t,["proactivity"]);if(e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function bx(t,e){const i={},r=c(e,["model"]);r!=null&&d(i,["setup","model"],Ge(t,r));const a=c(e,["config"]);return a!=null&&d(i,["config"],wx(a,i)),i}function Ix(t){const e={},i=c(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const l=c(t,["fileData"]);l!=null&&d(e,["fileData"],Ex(l));const f=c(t,["functionCall"]);f!=null&&d(e,["functionCall"],Sx(f));const p=c(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=c(t,["inlineData"]);g!=null&&d(e,["inlineData"],yx(g));const m=c(t,["text"]);m!=null&&d(e,["text"],m);const v=c(t,["thought"]);v!=null&&d(e,["thought"],v);const T=c(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const _=c(t,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function Rx(t){const e={},i=c(t,["handle"]);if(i!=null&&d(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nx(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const r=c(t,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(t,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}const f=c(t,["googleMaps"]);f!=null&&d(e,["googleMaps"],Ax(f));const p=c(t,["googleSearch"]);p!=null&&d(e,["googleSearch"],Cx(p));const g=c(t,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const m=c(t,["urlContext"]);return m!=null&&d(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xx(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function Mx(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const l=xx(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];l&&g.push(l),p.length>0&&g.push(...p),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class Dx extends Hi{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=_x(this.apiClient,e);l=ee("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const g=Mx(p,e.config);return a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(t,e){const i={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),i}function Ux(t){const e={},i=c(t,["name"]);i!=null&&d(e,["_url","name"],i);const r=c(t,["config"]);return r!=null&&kx(r,e),e}function Lx(t){const e={},i=c(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function Px(t,e){const i={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function Ox(t){const e={},i=c(t,["parent"]);i!=null&&d(e,["_url","parent"],i);const r=c(t,["config"]);return r!=null&&Px(r,e),e}function Gx(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(t,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(f=>f)),d(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends Hi{constructor(e){super(),this.apiClient=e,this.list=async i=>new sr(Li.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Lx(e);return l=ee("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Ux(e);a=ee("{name}",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ox(e);return l=ee("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=Gx(g),v=new dw;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends Hi{constructor(e,i=new Hx(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new sr(Li.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RN(e);return l=ee("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=MN(e);return l=ee("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xN(e);a=ee("{name}",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ON(e);return l=ee("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=GN(g),v=new hw;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=HN(e);return l=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=VN(g),v=new pw;return Object.assign(v,m),v})}}async importFile(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=UN(e);return l=ee("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=kN(g),v=new ah;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let j0=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return j0=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^i()&15>>+r/4).toString(16))};const Bx=()=>j0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Vd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kn extends Error{}class qt extends kn{constructor(e,i,r,a){super(`${qt.makeMessage(e,i,r)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,r){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,r,a){if(!e||!a)return new Bu({message:r,cause:Vd(i)});const l=i;return e===400?new t_(e,l,r,a):e===401?new n_(e,l,r,a):e===403?new i_(e,l,r,a):e===404?new o_(e,l,r,a):e===409?new r_(e,l,r,a):e===422?new s_(e,l,r,a):e===429?new a_(e,l,r,a):e>=500?new l_(e,l,r,a):new qt(e,l,r,a)}}class Bd extends qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Bu extends qt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class e_ extends Bu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class t_ extends qt{}class n_ extends qt{}class i_ extends qt{}class o_ extends qt{}class r_ extends qt{}class s_ extends qt{}class a_ extends qt{}class l_ extends qt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx=/^[a-z][a-z0-9+.-]*:/i,qx=t=>zx.test(t);let zd=t=>(zd=Array.isArray,zd(t));const Fx=zd;let Yx=Fx;const pT=Yx;function Jx(t){if(!t)return!0;for(const e in t)return!1;return!0}function Kx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const $x=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kn(`${t} must be an integer`);if(e<0)throw new kn(`${t} must be a positive integer`);return e},Xx=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wx=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Br="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zx=()=>{var t,e,i,r,a;const l=Qx();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":gT(Deno.build.os),"X-Stainless-Arch":mT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":gT((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":mT((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=jx();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jx(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const r=i.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,f=r[3]||0;return{browser:e,version:`${a}.${l}.${f}`}}}return null}const mT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",gT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ql;const eM=()=>Ql??(Ql=Zx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function u_(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nM(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return u_({start(){},async pull(i){const{done:r,value:a}=await e.next();r?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function c_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function iM(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const r=t.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oM=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f_=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fd(t,e,i){return f_(),new File(t,e??"unknown_file",i)}function rM(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d_=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",aM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&d_(t),lM=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function uM(t,e,i){if(f_(),t=await t,aM(t))return t instanceof File?t:fd([await t.arrayBuffer()],t.name);if(lM(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),fd(await qd(a),e,i)}const r=await qd(t);if(e||(e=rM(t)),!(i!=null&&i.type)){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return fd(r,e,i)}async function qd(t){var e,i,r,a,l;let f=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)f.push(t);else if(d_(t))f.push(t instanceof Blob?t:await t.arrayBuffer());else if(sM(t))try{for(var p=!0,g=Xn(t),m;m=await g.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const v=a;f.push(...await qd(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${cM(t)}`)}return f}function cM(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h_{constructor(e){this._client=e}}h_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const yT=Object.freeze(Object.create(null)),fM=(t=p_)=>(function(i,...r){if(i.length===1)return i[0];let a=!1;const l=[],f=i.reduce((v,T,_)=>{var C,b,M;/[?#]/.test(T)&&(a=!0);const R=r[_];let k=(a?encodeURIComponent:t)(""+R);return _!==r.length&&(R==null||typeof R=="object"&&R.toString===((M=Object.getPrototypeOf((b=Object.getPrototypeOf((C=R.hasOwnProperty)!==null&&C!==void 0?C:yT))!==null&&b!==void 0?b:yT))===null||M===void 0?void 0:M.toString))&&(k=R+"",l.push({start:v.length+T.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+T+(_===r.length?"":k)},""),p=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(p))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((v,T)=>v.start-T.start),l.length>0){let v=0;const T=l.reduce((_,C)=>{const b=" ".repeat(C.start-v),M="^".repeat(C.length);return v=C.start+C.length,_+b+M},"");throw new kn(`Path parameters result in path with invalid segments:
${l.map(_=>_.error).join(`
`)}
${f}
${T}`)}return f}),Zl=fM(p_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_ extends h_{create(e,i){var r;const{api_version:a=this._client.apiVersion}=e,l=Au(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new kn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new kn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Zl`/${a}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,i={},r){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Zl`/${a}/interactions/${e}`,r)}cancel(e,i={},r){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Zl`/${a}/interactions/${e}/cancel`,r)}get(e,i={},r){var a;const l=i??{},{api_version:f=this._client.apiVersion}=l,p=Au(l,["api_version"]);return this._client.get(Zl`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},r),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}m_._key=Object.freeze(["interactions"]);class g_ extends m_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dM(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let r=0;for(const a of t)i.set(a,r),r+=a.length;return i}let jl;function ph(t){let e;return(jl??(e=new globalThis.TextEncoder,jl=e.encode.bind(e)))(t)}let eu;function vT(t){let e;return(eu??(e=new globalThis.TextDecoder,eu=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ph(e):e;this.buffer=dM([this.buffer,i]);const r=[];let a;for(;(a=hM(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(vT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=vT(this.buffer.subarray(0,l));r.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}zu.NEWLINE_CHARS=new Set([`
`,"\r"]);zu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hM(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function pM(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cu={off:0,error:200,warn:300,info:400,debug:500},TT=(t,e,i)=>{if(t){if(Kx(Cu,t))return t;zt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Cu))}`)}};function ha(){}function tu(t,e,i){return!e||Cu[t]>Cu[i]?ha:e[t].bind(e)}const mM={error:ha,warn:ha,info:ha,debug:ha};let _T=new WeakMap;function zt(t){var e;const i=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return mM;const a=_T.get(i);if(a&&a[0]===r)return a[1];const l={error:tu("error",i,r),warn:tu("warn",i,r),info:tu("info",i,r),debug:tu("debug",i,r)};return _T.set(i,[r,l]),l}const Ko=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qr{constructor(e,i,r){this.iterator=e,this.controller=i,this.client=r}static fromSSEResponse(e,i,r){let a=!1;const l=r?zt(r):console;function f(){return $n(this,arguments,function*(){var g,m,v,T;if(a)throw new kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let _=!1;try{try{for(var C=!0,b=Xn(gM(e,i)),M;M=yield ve(b.next()),g=M.done,!g;C=!0){T=M.value,C=!1;const R=T;if(!_)if(R.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ve(JSON.parse(R.data))}catch(k){throw l.error("Could not parse message into JSON:",R.data),l.error("From chunk:",R.raw),k}}}catch(R){m={error:R}}finally{try{!C&&!g&&(v=b.return)&&(yield ve(v.call(b)))}finally{if(m)throw m.error}}_=!0}catch(R){if(Hd(R))return yield ve(void 0);throw R}finally{_||i.abort()}})}return new qr(f,i,r)}static fromReadableStream(e,i,r){let a=!1;function l(){return $n(this,arguments,function*(){var g,m,v,T;const _=new zu,C=c_(e);try{for(var b=!0,M=Xn(C),R;R=yield ve(M.next()),g=R.done,!g;b=!0){T=R.value,b=!1;const k=T;for(const z of _.decode(k))yield yield ve(z)}}catch(k){m={error:k}}finally{try{!b&&!g&&(v=M.return)&&(yield ve(v.call(M)))}finally{if(m)throw m.error}}for(const k of _.flush())yield yield ve(k)})}function f(){return $n(this,arguments,function*(){var g,m,v,T;if(a)throw new kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let _=!1;try{try{for(var C=!0,b=Xn(l()),M;M=yield ve(b.next()),g=M.done,!g;C=!0){T=M.value,C=!1;const R=T;_||R&&(yield yield ve(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!C&&!g&&(v=b.return)&&(yield ve(v.call(b)))}finally{if(m)throw m.error}}_=!0}catch(R){if(Hd(R))return yield ve(void 0);throw R}finally{_||i.abort()}})}return new qr(f,i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const f=r.next();e.push(f),i.push(f)}return l.shift()}});return[new qr(()=>a(e),this.controller,this.client),new qr(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return u_({async start(){i=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await i.next();if(l)return r.close();const f=ph(JSON.stringify(a)+`
`);r.enqueue(f)}catch(a){r.error(a)}},async cancel(){var r;await((r=i.return)===null||r===void 0?void 0:r.call(i))}})}}function gM(t,e){return $n(this,arguments,function*(){var r,a,l,f;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kn("Attempted to iterate over a response with no body");const p=new vM,g=new zu,m=c_(t.body);try{for(var v=!0,T=Xn(yM(m)),_;_=yield ve(T.next()),r=_.done,!r;v=!0){f=_.value,v=!1;const C=f;for(const b of g.decode(C)){const M=p.decode(b);M&&(yield yield ve(M))}}}catch(C){a={error:C}}finally{try{!v&&!r&&(l=T.return)&&(yield ve(l.call(T)))}finally{if(a)throw a.error}}for(const C of g.flush()){const b=p.decode(C);b&&(yield yield ve(b))}})}function yM(t){return $n(this,arguments,function*(){var i,r,a,l;let f=new Uint8Array;try{for(var p=!0,g=Xn(t),m;m=yield ve(g.next()),i=m.done,!i;p=!0){l=m.value,p=!1;const v=l;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ph(v):v;let _=new Uint8Array(f.length+T.length);_.set(f),_.set(T,f.length),f=_;let C;for(;(C=pM(f))!==-1;)yield yield ve(f.slice(0,C)),f=f.slice(C)}}catch(v){r={error:v}}finally{try{!p&&!i&&(a=g.return)&&(yield ve(a.call(g)))}finally{if(r)throw r.error}}f.length>0&&(yield yield ve(f))})}class vM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,r,a]=TM(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function TM(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _M(t,e){const{response:i,requestLogID:r,retryOfRequestLogID:a,startTime:l}=e,f=await(async()=>{var p;if(e.options.stream)return zt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):qr.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return zt(t).debug(`[${r}] response parsed`,Ko({retryOfRequestLogID:a,url:i.url,status:i.status,body:f,durationMs:Date.now()-l})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mh extends Promise{constructor(e,i,r=_M){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new mh(this.client,this.responsePromise,async(i,r)=>e(await this.parseResponse(i,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y_=Symbol("brand.privateNullableHeaders");function*EM(t){if(!t)return;if(y_ in t){const{values:r,nulls:a}=t;yield*r.entries();for(const l of a)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():pT(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let r of i){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=pT(r[1])?r[1]:[r[1]];let f=!1;for(const p of l)p!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,p])}}const sa=t=>{const e=new Headers,i=new Set;for(const r of t){const a=new Set;for(const[l,f]of EM(r)){const p=l.toLowerCase();a.has(p)||(e.delete(l),a.add(p)),f===null?(e.delete(l),i.add(p)):(e.append(l,f),i.delete(p))}}return{[y_]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dd=t=>{var e,i,r,a,l,f;if(typeof globalThis.process<"u")return(r=(i=(e=BC)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(f=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,t))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var v_;class qu{constructor(e){var i,r,a,l,f,p,g,{baseURL:m=dd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=dd("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=e,_=Au(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(r=C.timeout)!==null&&r!==void 0?r:qu.DEFAULT_TIMEOUT,this.logger=(a=C.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(f=(l=TT(C.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:TT(dd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=C.fetchOptions,this.maxRetries=(p=C.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:tM(),this.encoder=oM,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=sa([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return sa([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sa([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,r])=>typeof r<"u").map(([i,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(i)}=`;throw new kn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Br}`}defaultIdempotencyKey(){return`stainless-node-retry-${Bx()}`}makeStatusError(e,i,r,a){return qt.generate(e,i,r,a)}buildURL(e,i,r){const a=!this.baseURLOverridden()&&r||this.baseURL,l=qx(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return Jx(f)||(i=Object.assign(Object.assign({},f),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:r}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new mh(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,r){var a,l,f;const p=await e,g=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(p);const{req:m,url:v,timeout:T}=await this.buildRequest(p,{retryCount:g-i});await this.prepareRequest(m,{url:v,options:p});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(zt(this).debug(`[${_}] sending request`,Ko({retryOfRequestLogID:r,method:p.method,url:v,options:p,headers:m.headers})),!((l=p.signal)===null||l===void 0)&&l.aborted)throw new Bd;const M=new AbortController,R=await this.fetchWithTimeout(v,m,T,M).catch(Vd),k=Date.now();if(R instanceof globalThis.Error){const q=`retrying, ${i} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new Bd;const G=Hd(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(i)return zt(this).info(`[${_}] connection ${G?"timed out":"failed"} - ${q}`),zt(this).debug(`[${_}] connection ${G?"timed out":"failed"} (${q})`,Ko({retryOfRequestLogID:r,url:v,durationMs:k-b,message:R.message})),this.retryRequest(p,i,r??_);throw zt(this).info(`[${_}] connection ${G?"timed out":"failed"} - error; no more retries left`),zt(this).debug(`[${_}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Ko({retryOfRequestLogID:r,url:v,durationMs:k-b,message:R.message})),G?new e_:new Bu({cause:R})}const z=`[${_}${C}] ${m.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${k-b}ms`;if(!R.ok){const q=await this.shouldRetry(R);if(i&&q){const Q=`retrying, ${i} attempts remaining`;return await iM(R.body),zt(this).info(`${z} - ${Q}`),zt(this).debug(`[${_}] response error (${Q})`,Ko({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:k-b})),this.retryRequest(p,i,r??_,R.headers)}const G=q?"error; no more retries left":"error; not retryable";zt(this).info(`${z} - ${G}`);const W=await R.text().catch(Q=>Vd(Q).message),V=Xx(W),F=V?void 0:W;throw zt(this).debug(`[${_}] response error (${G})`,Ko({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,message:F,durationMs:Date.now()-b})),this.makeStatusError(R.status,V,F,R.headers)}return zt(this).info(z),zt(this).debug(`[${_}] response start`,Ko({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:k-b})),{response:R,options:p,controller:M,requestLogID:_,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,i,r,a){const l=i||{},{signal:f,method:p}=l,g=Au(l,["signal","method"]),m=this._makeAbort(a);f&&f.addEventListener("abort",m,{once:!0});const v=setTimeout(m,r),T=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},T?{duplex:"half"}:{}),{method:"GET"}),g);p&&(_.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(v)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,r,a){var l;let f;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(f=m)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(i,m)}return await Wx(f),this.makeRequest(e,i-1,r)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,f=Math.min(.5*Math.pow(2,l),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var r,a,l;const f=Object.assign({},e),{method:p,path:g,query:m,defaultBaseURL:v}=f,T=this.buildURL(g,m,v);"timeout"in f&&$x("timeout",f.timeout),f.timeout=(r=f.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:f}),b=await this.buildHeaders({options:e,method:p,bodyHeaders:_,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=f.fetchOptions)!==null&&l!==void 0?l:{}),url:T,timeout:f.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=sa([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),eM()),this._options.defaultHeaders,r,e.headers,f]);return this.validateHeaders(p),p.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=sa([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nM(e)}:this.encoder({body:e,headers:r})}}qu.DEFAULT_TIMEOUT=6e4;class Nt extends qu{constructor(){super(...arguments),this.interactions=new g_(this)}}v_=Nt;Nt.GeminiNextGenAPIClient=v_;Nt.GeminiNextGenAPIClientError=kn;Nt.APIError=qt;Nt.APIConnectionError=Bu;Nt.APIConnectionTimeoutError=e_;Nt.APIUserAbortError=Bd;Nt.NotFoundError=o_;Nt.ConflictError=r_;Nt.RateLimitError=a_;Nt.BadRequestError=t_;Nt.AuthenticationError=n_;Nt.InternalServerError=l_;Nt.PermissionDeniedError=i_;Nt.UnprocessableEntityError=s_;Nt.toFile=uM;Nt.Interactions=g_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SM(t,e){const i={},r=c(t,["name"]);return r!=null&&d(i,["_url","name"],r),i}function AM(t,e){const i={},r=c(t,["name"]);return r!=null&&d(i,["_url","name"],r),i}function CM(t,e){const i={},r=c(t,["sdkHttpResponse"]);return r!=null&&d(i,["sdkHttpResponse"],r),i}function wM(t,e){const i={},r=c(t,["sdkHttpResponse"]);return r!=null&&d(i,["sdkHttpResponse"],r),i}function bM(t,e,i){const r={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(t,["epochCount"]);e!==void 0&&l!=null&&d(e,["tuningTask","hyperparameters","epochCount"],l);const f=c(t,["learningRateMultiplier"]);if(f!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const p=c(t,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const g=c(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(c(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function IM(t,e,i){const r={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const V=c(t,["validationDataset"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec"],hd(V))}else if(a==="PREFERENCE_TUNING"){const V=c(t,["validationDataset"]);e!==void 0&&V!=null&&d(e,["preferenceOptimizationSpec"],hd(V))}else if(a==="DISTILLATION"){const V=c(t,["validationDataset"]);e!==void 0&&V!=null&&d(e,["distillationSpec"],hd(V))}const l=c(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&d(e,["tunedModelDisplayName"],l);const f=c(t,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const V=c(t,["epochCount"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],V)}else if(p==="PREFERENCE_TUNING"){const V=c(t,["epochCount"]);e!==void 0&&V!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],V)}else if(p==="DISTILLATION"){const V=c(t,["epochCount"]);e!==void 0&&V!=null&&d(e,["distillationSpec","hyperParameters","epochCount"],V)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const V=c(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],V)}else if(g==="PREFERENCE_TUNING"){const V=c(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],V)}else if(g==="DISTILLATION"){const V=c(t,["learningRateMultiplier"]);e!==void 0&&V!=null&&d(e,["distillationSpec","hyperParameters","learningRateMultiplier"],V)}let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const V=c(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],V)}else if(m==="PREFERENCE_TUNING"){const V=c(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],V)}else if(m==="DISTILLATION"){const V=c(t,["exportLastCheckpointOnly"]);e!==void 0&&V!=null&&d(e,["distillationSpec","exportLastCheckpointOnly"],V)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const V=c(t,["adapterSize"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],V)}else if(v==="PREFERENCE_TUNING"){const V=c(t,["adapterSize"]);e!==void 0&&V!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],V)}else if(v==="DISTILLATION"){const V=c(t,["adapterSize"]);e!==void 0&&V!=null&&d(e,["distillationSpec","hyperParameters","adapterSize"],V)}let T=c(i,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const V=c(t,["tuningMode"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","tuningMode"],V)}const _=c(t,["customBaseModel"]);e!==void 0&&_!=null&&d(e,["customBaseModel"],_);let C=c(i,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const V=c(t,["batchSize"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","hyperParameters","batchSize"],V)}let b=c(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const V=c(t,["learningRate"]);e!==void 0&&V!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRate"],V)}const M=c(t,["labels"]);e!==void 0&&M!=null&&d(e,["labels"],M);const R=c(t,["beta"]);e!==void 0&&R!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],R);const k=c(t,["baseTeacherModel"]);e!==void 0&&k!=null&&d(e,["distillationSpec","baseTeacherModel"],k);const z=c(t,["tunedTeacherModelSource"]);e!==void 0&&z!=null&&d(e,["distillationSpec","tunedTeacherModelSource"],z);const q=c(t,["sftLossWeightMultiplier"]);e!==void 0&&q!=null&&d(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],q);const G=c(t,["outputUri"]);e!==void 0&&G!=null&&d(e,["outputUri"],G);const W=c(t,["encryptionSpec"]);return e!==void 0&&W!=null&&d(e,["encryptionSpec"],W),r}function RM(t,e){const i={},r=c(t,["baseModel"]);r!=null&&d(i,["baseModel"],r);const a=c(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const l=c(t,["trainingDataset"]);l!=null&&HM(l);const f=c(t,["config"]);return f!=null&&bM(f,i),i}function NM(t,e){const i={},r=c(t,["baseModel"]);r!=null&&d(i,["baseModel"],r);const a=c(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const l=c(t,["trainingDataset"]);l!=null&&VM(l,i,e);const f=c(t,["config"]);return f!=null&&IM(f,i,e),i}function xM(t,e){const i={},r=c(t,["name"]);return r!=null&&d(i,["_url","name"],r),i}function MM(t,e){const i={},r=c(t,["name"]);return r!=null&&d(i,["_url","name"],r),i}function DM(t,e,i){const r={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const f=c(t,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),r}function kM(t,e,i){const r={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const f=c(t,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),r}function UM(t,e){const i={},r=c(t,["config"]);return r!=null&&DM(r,i),i}function LM(t,e){const i={},r=c(t,["config"]);return r!=null&&kM(r,i),i}function PM(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const l=c(t,["tunedModels"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>T_(p))),d(i,["tuningJobs"],f)}return i}function OM(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const l=c(t,["tuningJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Fd(p))),d(i,["tuningJobs"],f)}return i}function GM(t,e){const i={},r=c(t,["name"]);r!=null&&d(i,["model"],r);const a=c(t,["name"]);return a!=null&&d(i,["endpoint"],a),i}function HM(t,e){const i={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(t,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),d(i,["examples","examples"],a)}return i}function VM(t,e,i){const r={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(t,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(t,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(a==="DISTILLATION"){const f=c(t,["gcsUri"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}let l=c(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=c(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(l==="PREFERENCE_TUNING"){const f=c(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(l==="DISTILLATION"){const f=c(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function T_(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["name"]);a!=null&&d(i,["name"],a);const l=c(t,["state"]);l!=null&&d(i,["state"],L0(l));const f=c(t,["createTime"]);f!=null&&d(i,["createTime"],f);const p=c(t,["tuningTask","startTime"]);p!=null&&d(i,["startTime"],p);const g=c(t,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const m=c(t,["updateTime"]);m!=null&&d(i,["updateTime"],m);const v=c(t,["description"]);v!=null&&d(i,["description"],v);const T=c(t,["baseModel"]);T!=null&&d(i,["baseModel"],T);const _=c(t,["_self"]);return _!=null&&d(i,["tunedModel"],GM(_)),i}function Fd(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["name"]);a!=null&&d(i,["name"],a);const l=c(t,["state"]);l!=null&&d(i,["state"],L0(l));const f=c(t,["createTime"]);f!=null&&d(i,["createTime"],f);const p=c(t,["startTime"]);p!=null&&d(i,["startTime"],p);const g=c(t,["endTime"]);g!=null&&d(i,["endTime"],g);const m=c(t,["updateTime"]);m!=null&&d(i,["updateTime"],m);const v=c(t,["error"]);v!=null&&d(i,["error"],v);const T=c(t,["description"]);T!=null&&d(i,["description"],T);const _=c(t,["baseModel"]);_!=null&&d(i,["baseModel"],_);const C=c(t,["tunedModel"]);C!=null&&d(i,["tunedModel"],C);const b=c(t,["preTunedModel"]);b!=null&&d(i,["preTunedModel"],b);const M=c(t,["supervisedTuningSpec"]);M!=null&&d(i,["supervisedTuningSpec"],M);const R=c(t,["preferenceOptimizationSpec"]);R!=null&&d(i,["preferenceOptimizationSpec"],R);const k=c(t,["distillationSpec"]);k!=null&&d(i,["distillationSpec"],k);const z=c(t,["tuningDataStats"]);z!=null&&d(i,["tuningDataStats"],z);const q=c(t,["encryptionSpec"]);q!=null&&d(i,["encryptionSpec"],q);const G=c(t,["partnerModelTuningSpec"]);G!=null&&d(i,["partnerModelTuningSpec"],G);const W=c(t,["customBaseModel"]);W!=null&&d(i,["customBaseModel"],W);const V=c(t,["experiment"]);V!=null&&d(i,["experiment"],V);const F=c(t,["labels"]);F!=null&&d(i,["labels"],F);const ne=c(t,["outputUri"]);ne!=null&&d(i,["outputUri"],ne);const Q=c(t,["pipelineJob"]);Q!=null&&d(i,["pipelineJob"],Q);const he=c(t,["serviceAccount"]);he!=null&&d(i,["serviceAccount"],he);const ce=c(t,["tunedModelDisplayName"]);ce!=null&&d(i,["tunedModelDisplayName"],ce);const _e=c(t,["veoTuningSpec"]);return _e!=null&&d(i,["veoTuningSpec"],_e),i}function BM(t,e){const i={},r=c(t,["sdkHttpResponse"]);r!=null&&d(i,["sdkHttpResponse"],r);const a=c(t,["name"]);a!=null&&d(i,["name"],a);const l=c(t,["metadata"]);l!=null&&d(i,["metadata"],l);const f=c(t,["done"]);f!=null&&d(i,["done"],f);const p=c(t,["error"]);return p!=null&&d(i,["error"],p),i}function hd(t,e){const i={},r=c(t,["gcsUri"]);r!=null&&d(i,["validationDatasetUri"],r);const a=c(t,["vertexDatasetResource"]);return a!=null&&d(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM extends Hi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new sr(Li.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let f="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?f=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(f=l.name.split("/operations/")[0]),{name:f,state:Md.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=MM(e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>Fd(v))}else{const m=xM(e);return p=ee("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>T_(v))}}async listInternal(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=LM(e);return p=ee("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=OM(v),_=new Kv;return Object.assign(_,T),_})}else{const m=UM(e);return p=ee("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=PM(v),_=new Kv;return Object.assign(_,T),_})}}async cancel(e){var i,r,a,l;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=AM(e);return p=ee("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=wM(v),_=new $v;return Object.assign(_,T),_})}else{const m=SM(e);return p=ee("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const T=CM(v),_=new $v;return Object.assign(_,T),_})}}async tuneInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI()){const p=NM(e,e);return l=ee("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>Fd(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RM(e);return l=ee("tunedModels",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>BM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FM=1024*1024*8,YM=3,JM=1e3,KM=2,wu="x-goog-upload-status";async function $M(t,e,i){var r;const a=await __(t,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[wu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function XM(t,e,i){var r;const a=await __(t,e,i),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[wu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=N0(l),p=new lh;return Object.assign(p,f),p}async function __(t,e,i){var r,a;let l=0,f=0,p=new kd(new Response),g="upload";for(l=t.size;f<l;){const m=Math.min(FM,l-f),v=t.slice(f,f+m);f+m>=l&&(g+=", finalize");let T=0,_=JM;for(;T<YM&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((r=p==null?void 0:p.headers)===null||r===void 0)&&r[wu]));)T++,await QM(_),_=_*KM;if(f+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[wu])!=="active")break;if(l<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function WM(t){return{size:t.size,type:t.type}}function QM(t){return new Promise(e=>setTimeout(e,t))}class ZM{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XM(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM{create(e,i,r){return new e1(e,i,r)}}class e1{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ET="x-goog-api-key";class t1{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(ET)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ET,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n1="gl-node/";class i1{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(e=i==null?void 0:i.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=YC(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new t1(this.apiKey);this.apiClient=new WN({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:n1+"web",uploader:new ZM,downloader:new qM}),this.models=new mx(this.apiClient),this.live=new ux(this.apiClient,a,new jM),this.batches=new Eb(this.apiClient),this.chats=new nI(this.models,this.apiClient),this.caches=new jb(this.apiClient),this.files=new pI(this.apiClient),this.operations=new gx(this.apiClient),this.authTokens=new Dx(this.apiClient),this.tunings=new zM(this.apiClient),this.fileSearchStores=new Vx(this.apiClient)}}const o1="modulepreload",r1=function(t){return"/Idea-To-SVG/"+t},ST={},fu=function(e,i,r){let a=Promise.resolve();if(i&&i.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=f(i.map(m=>{if(m=r1(m),m in ST)return;ST[m]=!0;const v=m.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":o1,v||(_.as="script"),_.crossOrigin="",_.href=m,g&&_.setAttribute("nonce",g),document.head.appendChild(_),v)return new Promise((C,b)=>{_.addEventListener("load",C),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Wr;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Wr||(Wr={}));class pd extends Error{constructor(e,i,r){super(e),this.message=e,this.code=i,this.data=r}}const s1=t=>{var e,i;return t!=null&&t.androidBridge?"android":!((i=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},a1=t=>{const e=t.CapacitorCustomPlatform||null,i=t.Capacitor||{},r=i.Plugins=i.Plugins||{},a=()=>e!==null?e.name:s1(t),l=()=>a()!=="web",f=T=>{const _=m.get(T);return!!(_!=null&&_.platforms.has(a())||p(T))},p=T=>{var _;return(_=i.PluginHeaders)===null||_===void 0?void 0:_.find(C=>C.name===T)},g=T=>t.console.error(T),m=new Map,v=(T,_={})=>{const C=m.get(T);if(C)return console.warn(`Capacitor plugin "${T}" already registered. Cannot register plugins twice.`),C.proxy;const b=a(),M=p(T);let R;const k=async()=>(!R&&b in _?R=typeof _[b]=="function"?R=await _[b]():R=_[b]:e!==null&&!R&&"web"in _&&(R=typeof _.web=="function"?R=await _.web():R=_.web),R),z=(ne,Q)=>{var he,ce;if(M){const _e=M==null?void 0:M.methods.find(ye=>Q===ye.name);if(_e)return _e.rtype==="promise"?ye=>i.nativePromise(T,Q.toString(),ye):(ye,Ie)=>i.nativeCallback(T,Q.toString(),ye,Ie);if(ne)return(he=ne[Q])===null||he===void 0?void 0:he.bind(ne)}else{if(ne)return(ce=ne[Q])===null||ce===void 0?void 0:ce.bind(ne);throw new pd(`"${T}" plugin is not implemented on ${b}`,Wr.Unimplemented)}},q=ne=>{let Q;const he=(...ce)=>{const _e=k().then(ye=>{const Ie=z(ye,ne);if(Ie){const Fe=Ie(...ce);return Q=Fe==null?void 0:Fe.remove,Fe}else throw new pd(`"${T}.${ne}()" is not implemented on ${b}`,Wr.Unimplemented)});return ne==="addListener"&&(_e.remove=async()=>Q()),_e};return he.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(he,"name",{value:ne,writable:!1,configurable:!1}),he},G=q("addListener"),W=q("removeListener"),V=(ne,Q)=>{const he=G({eventName:ne},Q),ce=async()=>{const ye=await he;W({eventName:ne,callbackId:ye},Q)},_e=new Promise(ye=>he.then(()=>ye({remove:ce})));return _e.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ce()},_e},F=new Proxy({},{get(ne,Q){switch(Q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?V:G;case"removeListener":return W;default:return q(Q)}}});return r[T]=F,m.set(T,{name:T,proxy:F,platforms:new Set([...Object.keys(_),...M?[b]:[]])}),F};return i.convertFileSrc||(i.convertFileSrc=T=>T),i.getPlatform=a,i.handleError=g,i.isNativePlatform=l,i.isPluginAvailable=f,i.registerPlugin=v,i.Exception=pd,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},l1=t=>t.Capacitor=a1(t),Qr=l1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rs=Qr.registerPlugin;class gh{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,i){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(i);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),r&&this.sendRetainedArgumentsForEvent(e);const f=async()=>this.removeListener(e,i);return Promise.resolve({remove:f})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,i,r){const a=this.listeners[e];if(!a){if(r){let l=this.retainedEventArguments[e];l||(l=[]),l.push(i),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(i))}hasListeners(e){var i;return!!(!((i=this.listeners[e])===null||i===void 0)&&i.length)}registerWindowListener(e,i){this.windowListeners[i]={registered:!1,windowEventName:e,pluginEventName:i,handler:r=>{this.notifyListeners(i,r)}}}unimplemented(e="not implemented"){return new Qr.Exception(e,Wr.Unimplemented)}unavailable(e="not available"){return new Qr.Exception(e,Wr.Unavailable)}async removeListener(e,i){const r=this.listeners[e];if(!r)return;const a=r.indexOf(i);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const i=this.retainedEventArguments[e];i&&(delete this.retainedEventArguments[e],i.forEach(r=>{this.notifyListeners(e,r)}))}}const AT=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),CT=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class u1 extends gh{async getCookies(){const e=document.cookie,i={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,l]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=CT(a).trim(),l=CT(l).trim(),i[a]=l}),i}async setCookie(e){try{const i=AT(e.key),r=AT(e.value),a=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",l=(e.path||"/").replace("path=",""),f=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${i}=${r||""}${a}; path=${l}; ${f};`}catch(i){return Promise.reject(i)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const i of e)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}rs("CapacitorCookies",{web:()=>new u1});const c1=async t=>new Promise((e,i)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>i(a),r.readAsDataURL(t)}),f1=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,l,f)=>(a[l]=t[e[f]],a),{})},d1=(t,e=!0)=>t?Object.entries(t).reduce((r,a)=>{const[l,f]=a;let p,g;return Array.isArray(f)?(g="",f.forEach(m=>{p=e?encodeURIComponent(m):m,g+=`${l}=${p}&`}),g.slice(0,-1)):(p=e?encodeURIComponent(f):f,g=`${l}=${p}`),`${r}&${g}`},"").substr(1):null,h1=(t,e={})=>{const i=Object.assign({method:t.method||"GET",headers:t.headers},e),a=f1(t.headers)["content-type"]||"";if(typeof t.data=="string")i.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[f,p]of Object.entries(t.data||{}))l.set(f,p);i.body=l.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((p,g)=>{l.append(g,p)});else for(const p of Object.keys(t.data))l.append(p,t.data[p]);i.body=l;const f=new Headers(i.headers);f.delete("content-type"),i.headers=f}else(a.includes("application/json")||typeof t.data=="object")&&(i.body=JSON.stringify(t.data));return i};class p1 extends gh{async request(e){const i=h1(e,e.webFetchExtra),r=d1(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,l=await fetch(a,i),f=l.headers.get("content-type")||"";let{responseType:p="text"}=l.ok?e:{};f.includes("application/json")&&(p="json");let g,m;switch(p){case"arraybuffer":case"blob":m=await l.blob(),g=await c1(m);break;case"json":g=await l.json();break;case"document":case"text":default:g=await l.text()}const v={};return l.headers.forEach((T,_)=>{v[_]=T}),{data:g,headers:v,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}rs("CapacitorHttp",{web:()=>new p1});var wT;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(wT||(wT={}));var bT;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(bT||(bT={}));class m1 extends gh{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}rs("SystemBars",{web:()=>new m1});var IT;(function(t){t.missingKey="missingKey",t.invalidData="invalidData",t.osError="osError",t.unknownError="unknownError"})(IT||(IT={}));var RT;(function(t){t[t.whenUnlocked=0]="whenUnlocked",t[t.whenUnlockedThisDeviceOnly=1]="whenUnlockedThisDeviceOnly",t[t.afterFirstUnlock=2]="afterFirstUnlock",t[t.afterFirstUnlockThisDeviceOnly=3]="afterFirstUnlockThisDeviceOnly",t[t.whenPasscodeSetThisDeviceOnly=4]="whenPasscodeSetThisDeviceOnly"})(RT||(RT={}));class fO extends Error{constructor(e,i){super(e),this.name="StorageError",this.code=i}}const Qo=rs("SecureStorage",{web:async()=>{const t=await fu(()=>import("./web-B0ovMVOD.js"),__vite__mapDeps([0,1]));return new t.SecureStorageWeb},ios:async()=>{const t=await fu(()=>import("./native-0yERHjGs.js"),__vite__mapDeps([2,1]));return new t.SecureStorageNative(Qo)},android:async()=>{const t=await fu(()=>import("./native-0yERHjGs.js"),__vite__mapDeps([2,1]));return new t.SecureStorageNative(Qo)}}),Xo=rs("Preferences",{web:()=>fu(()=>import("./web-ByHwsa00.js"),[]).then(t=>new t.PreferencesWeb)}),E_=()=>Qr.isNativePlatform(),tr=()=>Qr.getPlatform()==="android",g1=()=>Qr.getPlatform()==="web",S_="sketch_ai_mode",y1=()=>localStorage.getItem(S_),v1=t=>{localStorage.setItem(S_,t)},nr=()=>{const t=y1();return t==="tokens"?!0:t==="apikey"?!1:tr()},po="sketchai.geminiApiKey.v1",xi="gemini_api_key";let Jn=null;class er extends Error{constructor(e){super(e),this.name="ApiKeyError"}}const mo=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e.startsWith("AIza")&&e.length>=35&&e.length<=45},Yd=()=>{if(Jn)return Jn;try{const t=localStorage.getItem(xi);if(t&&mo(t))return Jn=t,t}catch{}return null},T1=async()=>{if(Jn)return Jn;if(E_())try{const t=await Qo.getItem(po);if(t&&mo(t))return Jn=t,t;const{value:e}=await Xo.get({key:po});if(e&&mo(e))return await Qo.setItem(po,e),await Xo.remove({key:po}),Jn=e,e;const{value:i}=await Xo.get({key:xi});if(i&&mo(i))return await Qo.setItem(po,i),await Xo.remove({key:xi}),Jn=i,i;const r=localStorage.getItem(xi);if(r&&mo(r))return await Qo.setItem(po,r),localStorage.removeItem(xi),await Xo.remove({key:xi}).catch(()=>{}),Jn=r,r}catch(t){console.error("Failed to load API key from SecureStorage:",t)}try{const t=localStorage.getItem(xi);if(t&&mo(t))return Jn=t,t}catch{}return null},_1=async t=>{const e=t.trim();if(!mo(e))throw new er('Invalid API key format. Gemini API keys should start with "AIza" and be about 39 characters long.');if(E_())try{await Qo.setItem(po,e),await Xo.remove({key:po}).catch(()=>{}),await Xo.remove({key:xi}).catch(()=>{})}catch(i){throw console.error("Failed to save API key to SecureStorage:",i),new er("Failed to save API key securely.")}else try{localStorage.setItem(xi,e)}catch{throw new er("Failed to save API key. Please check your browser storage settings.")}Jn=e},E1=()=>{const t=Yd();if(!t)throw new er("No API key found. Please set your Gemini API key to continue.");if(!mo(t))throw new er("Stored API key is invalid. Please update your API key.");return t},S1=()=>{};var NT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},A1=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const a=t[i++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[i++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[i++],f=t[i++],p=t[i++],g=((a&7)<<18|(l&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=t[i++],f=t[i++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|f&63)}}return e.join("")},yh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],f=a+1<t.length,p=f?t[a+1]:0,g=a+2<t.length,m=g?t[a+2]:0,v=l>>2,T=(l&3)<<4|p>>4;let _=(p&15)<<2|m>>6,C=m&63;g||(C=64,f||(_=64)),r.push(i[v],i[T],i[_],i[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=i[t.charAt(a++)],p=a<t.length?i[t.charAt(a)]:0;++a;const m=a<t.length?i[t.charAt(a)]:64;++a;const T=a<t.length?i[t.charAt(a)]:64;if(++a,l==null||p==null||m==null||T==null)throw new C1;const _=l<<2|p>>4;if(r.push(_),m!==64){const C=p<<4&240|m>>2;if(r.push(C),T!==64){const b=m<<6&192|T;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w1=function(t){const e=A_(t);return yh.encodeByteArray(e,!0)},C_=function(t){return w1(t).replace(/\./g,"")},w_=function(t){try{return yh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>b_().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof NT>"u")return;const t=NT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w_(t[1]);return e&&JSON.parse(e)},vh=()=>{try{return S1()||b1()||I1()||R1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I_=t=>{var e,i;return(i=(e=vh())==null?void 0:e.emulatorHosts)==null?void 0:i[t]},N1=t=>{const e=I_(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},R_=()=>{var t;return(t=vh())==null?void 0:t.config},N_=t=>{var e;return(e=vh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x_(t){return(await fetch(t,{credentials:"include"})).ok}const pa={};function x1(){const t={prod:[],emulator:[]};for(const e of Object.keys(pa))pa[e]?t.emulator.push(e):t.prod.push(e);return t}function M1(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let xT=!1;function M_(t,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||pa[t]===e||pa[t]||xT)return;pa[t]=e;function i(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=x1().prod.length>0;function f(){const _=document.getElementById(r);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,C){_.setAttribute("width","24"),_.setAttribute("id",C),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{xT=!0,f()},_}function v(_,C){_.setAttribute("id",C),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function T(){const _=M1(r),C=i("text"),b=document.getElementById(C)||document.createElement("span"),M=i("learnmore"),R=document.getElementById(M)||document.createElement("a"),k=i("preprendIcon"),z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;p(q),v(R,M);const G=m();g(z,k),q.append(z,b,R,G),document.body.appendChild(q)}l?(b.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function k1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P1(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Th(){try{return typeof indexedDB=="object"}catch{return!1}}function O1(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class Bi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=G1,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,as.prototype.create)}}class as{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},a=`${this.service}/${e}`,l=this.errors[e],f=l?H1(l,r):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Bi(a,p,r)}}function H1(t,e){return t.replace(V1,(i,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const V1=/\{\$([^}]+)}/g;function B1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zr(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const a of i){if(!r.includes(a))return!1;const l=t[a],f=e[a];if(MT(l)&&MT(f)){if(!Zr(l,f))return!1}else if(l!==f)return!1}for(const a of r)if(!i.includes(a))return!1;return!0}function MT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z1(t,e){const i=new q1(t,e);return i.subscribe.bind(i)}class q1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let a;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");F1(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:r},a.next===void 0&&(a.next=md),a.error===void 0&&(a.error=md),a.complete===void 0&&(a.complete=md);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F1(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1e3,J1=2,K1=14400*1e3,$1=.5;function X1(t,e=Y1,i=J1){const r=e*Math.pow(i,t),a=Math.round($1*r*(Math.random()-.5)*2);return Math.min(K1,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ya;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z1(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[l,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&f.resolve(a)}return a}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const a of r)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(t){return t===$o?void 0:t}function Z1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new W1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const eD={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},tD=Ze.INFO,nD={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},iD=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=nD[e];if(a)console[a](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _h{constructor(e){this.name=e,this._logLevel=tD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const oD=(t,e)=>e.some(i=>t instanceof i);let DT,kT;function rD(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,Jd=new WeakMap,k_=new WeakMap,gd=new WeakMap,Eh=new WeakMap;function aD(t){const e=new Promise((i,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",f)},l=()=>{i(Eo(t.result)),a()},f=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&D_.set(i,t)}).catch(()=>{}),Eh.set(e,t),e}function lD(t){if(Jd.has(t))return;const e=new Promise((i,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",f),t.removeEventListener("abort",f)},l=()=>{i(),a()},f=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",f),t.addEventListener("abort",f)});Jd.set(t,e)}let Kd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Jd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k_.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Eo(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uD(t){Kd=t(Kd)}function cD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(yd(this),e,...i);return k_.set(r,e.sort?e.sort():[e]),Eo(r)}:sD().includes(t)?function(...e){return t.apply(yd(this),e),Eo(D_.get(this))}:function(...e){return Eo(t.apply(yd(this),e))}}function fD(t){return typeof t=="function"?cD(t):(t instanceof IDBTransaction&&lD(t),oD(t,rD())?new Proxy(t,Kd):t)}function Eo(t){if(t instanceof IDBRequest)return aD(t);if(gd.has(t))return gd.get(t);const e=fD(t);return e!==t&&(gd.set(t,e),Eh.set(e,t)),e}const yd=t=>Eh.get(t);function dD(t,e,{blocked:i,upgrade:r,blocking:a,terminated:l}={}){const f=indexedDB.open(t,e),p=Eo(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Eo(f.result),g.oldVersion,g.newVersion,Eo(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const hD=["get","getKey","getAll","getAllKeys","count"],pD=["put","add","delete","clear"],vd=new Map;function UT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,a=pD.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(a||hD.includes(i)))return;const l=async function(f,...p){const g=this.transaction(f,a?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),a&&g.done]))[0]};return vd.set(e,l),l}uD(t=>({...t,get:(e,i,r)=>UT(e,i)||t.get(e,i,r),has:(e,i)=>!!UT(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gD(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function gD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",LT="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new _h("@firebase/app"),yD="@firebase/app-compat",vD="@firebase/analytics-compat",TD="@firebase/analytics",_D="@firebase/app-check-compat",ED="@firebase/app-check",SD="@firebase/auth",AD="@firebase/auth-compat",CD="@firebase/database",wD="@firebase/data-connect",bD="@firebase/database-compat",ID="@firebase/functions",RD="@firebase/functions-compat",ND="@firebase/installations",xD="@firebase/installations-compat",MD="@firebase/messaging",DD="@firebase/messaging-compat",kD="@firebase/performance",UD="@firebase/performance-compat",LD="@firebase/remote-config",PD="@firebase/remote-config-compat",OD="@firebase/storage",GD="@firebase/storage-compat",HD="@firebase/firestore",VD="@firebase/ai",BD="@firebase/firestore-compat",zD="firebase",qD="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",FD={[$d]:"fire-core",[yD]:"fire-core-compat",[TD]:"fire-analytics",[vD]:"fire-analytics-compat",[ED]:"fire-app-check",[_D]:"fire-app-check-compat",[SD]:"fire-auth",[AD]:"fire-auth-compat",[CD]:"fire-rtdb",[wD]:"fire-data-connect",[bD]:"fire-rtdb-compat",[ID]:"fire-fn",[RD]:"fire-fn-compat",[ND]:"fire-iid",[xD]:"fire-iid-compat",[MD]:"fire-fcm",[DD]:"fire-fcm-compat",[kD]:"fire-perf",[UD]:"fire-perf-compat",[LD]:"fire-rc",[PD]:"fire-rc-compat",[OD]:"fire-gcs",[GD]:"fire-gcs-compat",[HD]:"fire-fst",[BD]:"fire-fst-compat",[VD]:"fire-vertex","fire-js":"fire-js",[zD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,YD=new Map,Wd=new Map;function PT(t,e){try{t.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Co(t){const e=t.name;if(Wd.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,t);for(const i of bu.values())PT(i,t);for(const i of YD.values())PT(i,t);return!0}function Aa(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new as("app","Firebase",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=qD;function U_(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:Xd,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw So.create("bad-app-name",{appName:String(a)});if(i||(i=R_()),!i)throw So.create("no-options");const l=bu.get(a);if(l){if(Zr(i,l.options)&&Zr(r,l.config))return l;throw So.create("duplicate-app",{appName:a})}const f=new j1(a);for(const g of Wd.values())f.addComponent(g);const p=new KD(i,r,f);return bu.set(a,p),p}function Sh(t=Xd){const e=bu.get(t);if(!e&&t===Xd&&R_())return U_();if(!e)throw So.create("no-app",{appName:t});return e}function Ui(t,e,i){let r=FD[t]??t;i&&(r+=`-${i}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${r}" with version "${e}":`];a&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(f.join(" "));return}Co(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebase-heartbeat-database",XD=1,va="firebase-heartbeat-store";let Td=null;function L_(){return Td||(Td=dD($D,XD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(i){console.warn(i)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Td}async function WD(t){try{const i=(await L_()).transaction(va),r=await i.objectStore(va).get(P_(t));return await i.done,r}catch(e){if(e instanceof Bi)Oi.warn(e.message);else{const i=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function OT(t,e){try{const r=(await L_()).transaction(va,"readwrite");await r.objectStore(va).put(e,P_(t)),await r.done}catch(i){if(i instanceof Bi)Oi.warn(i.message);else{const r=So.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(r.message)}}}function P_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=1024,ZD=30;class jD{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new tk(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=GT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(f=>f.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ZD){const f=nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=GT(),{heartbeatsToSend:r,unsentEntries:a}=ek(this._heartbeatsCache.heartbeats),l=C_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(i){return Oi.warn(i),""}}}function GT(){return new Date().toISOString().substring(0,10)}function ek(t,e=QD){const i=[];let r=t.slice();for(const a of t){const l=i.find(f=>f.agent===a.agent);if(l){if(l.dates.push(a.date),HT(i)>e){l.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),HT(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class tk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Th()?O1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WD(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function HT(t){return C_(JSON.stringify({version:2,heartbeats:t})).length}function nk(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){Co(new Pi("platform-logger",e=>new mD(e),"PRIVATE")),Co(new Pi("heartbeat",e=>new jD(e),"PRIVATE")),Ui($d,LT,t),Ui($d,LT,"esm2020"),Ui("fire-js","")}ik("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="type.googleapis.com/google.protobuf.Int64Value",rk="type.googleapis.com/google.protobuf.UInt64Value";function O_(t,e){const i={};for(const r in t)t.hasOwnProperty(r)&&(i[r]=e(t[r]));return i}function Iu(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Iu(e));if(typeof t=="function"||typeof t=="object")return O_(t,e=>Iu(e));throw new Error("Data cannot be encoded in JSON: "+t)}function jr(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case ok:case rk:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>jr(e)):typeof t=="function"||typeof t=="object"?O_(t,e=>jr(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends Bi{constructor(e,i,r){super(`${Ah}/${e}`,i||""),this.details=r,Object.setPrototypeOf(this,nn.prototype)}}function sk(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ru(t,e){let i=sk(t),r=i,a;try{const l=e&&e.error;if(l){const f=l.status;if(typeof f=="string"){if(!VT[f])return new nn("internal","internal");i=VT[f],r=f}const p=l.message;typeof p=="string"&&(r=p),a=l.details,a!==void 0&&(a=jr(a))}}catch{}return i==="ok"?null:new nn(i,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,i,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||i.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a==null||a.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:i,messagingToken:r,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="us-central1",lk=/^data: (.*?)(?:\n|$)/;function uk(t){let e=null;return{promise:new Promise((i,r)=>{e=setTimeout(()=>{r(new nn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class ck{constructor(e,i,r,a,l=Qd,f=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new ak(e,i,r,a),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(l);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Qd}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function fk(t,e,i){const r=ss(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${i}`,r&&(x_(t.emulatorOrigin+"/backends"),M_("Functions",!0))}function dk(t,e,i){const r=a=>pk(t,e,a,i||{});return r.stream=(a,l)=>gk(t,e,a,l),r}function G_(t){return t.emulatorOrigin&&ss(t.emulatorOrigin)?"include":void 0}async function hk(t,e,i,r,a){i["Content-Type"]="application/json";let l;try{l=await r(t,{method:"POST",body:JSON.stringify(e),headers:i,credentials:G_(a)})}catch{return{status:0,json:null}}let f=null;try{f=await l.json()}catch{}return{status:l.status,json:f}}async function H_(t,e){const i={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(i.Authorization="Bearer "+r.authToken),r.messagingToken&&(i["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=r.appCheckToken),i}function pk(t,e,i,r){const a=t._url(e);return mk(t,a,i,r)}async function mk(t,e,i,r){i=Iu(i);const a={data:i},l=await H_(t,r),f=r.timeout||7e4,p=uk(f),g=await Promise.race([hk(e,a,l,t.fetchImpl,t),p.promise,t.cancelAllRequests]);if(p.cancel(),!g)throw new nn("cancelled","Firebase Functions instance was deleted.");const m=Ru(g.status,g.json);if(m)throw m;if(!g.json)throw new nn("internal","Response is not valid JSON object.");let v=g.json.data;if(typeof v>"u"&&(v=g.json.result),typeof v>"u")throw new nn("internal","Response is missing data field.");return{data:jr(v)}}function gk(t,e,i,r){const a=t._url(e);return yk(t,a,i,r||{})}async function yk(t,e,i,r){var _;i=Iu(i);const a={data:i},l=await H_(t,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let f;try{f=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:r==null?void 0:r.signal,credentials:G_(t)})}catch(C){if(C instanceof Error&&C.name==="AbortError"){const M=new nn("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const b=Ru(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let p,g;const m=new Promise((C,b)=>{p=C,g=b});(_=r==null?void 0:r.signal)==null||_.addEventListener("abort",()=>{const C=new nn("cancelled","Request was cancelled.");g(C)});const v=f.body.getReader(),T=vk(v,p,g,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const C=T.getReader();return{async next(){const{value:b,done:M}=await C.read();return{value:b,done:M}},async return(){return await C.cancel(),{done:!0,value:void 0}}}}},data:m}}function vk(t,e,i,r){const a=(f,p)=>{const g=f.match(lk);if(!g)return;const m=g[1];try{const v=JSON.parse(m);if("result"in v){e(jr(v.result));return}if("message"in v){p.enqueue(jr(v.message));return}if("error"in v){const T=Ru(0,v);p.error(T),i(T);return}}catch(v){if(v instanceof nn){p.error(v),i(v);return}}},l=new TextDecoder;return new ReadableStream({start(f){let p="";return g();async function g(){if(r!=null&&r.aborted){const m=new nn("cancelled","Request was cancelled");return f.error(m),i(m),Promise.resolve()}try{const{value:m,done:v}=await t.read();if(v){p.trim()&&a(p.trim(),f),f.close();return}if(r!=null&&r.aborted){const _=new nn("cancelled","Request was cancelled");f.error(_),i(_),await t.cancel();return}p+=l.decode(m,{stream:!0});const T=p.split(`
`);p=T.pop()||"";for(const _ of T)_.trim()&&a(_.trim(),f);return g()}catch(m){const v=m instanceof nn?m:Ru(0,null);f.error(v),i(v)}}},cancel(){return t.cancel()}})}const BT="@firebase/functions",zT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="auth-internal",_k="app-check-internal",Ek="messaging-internal";function Sk(t){const e=(i,{instanceIdentifier:r})=>{const a=i.getProvider("app").getImmediate(),l=i.getProvider(Tk),f=i.getProvider(Ek),p=i.getProvider(_k);return new ck(a,l,f,p,r)};Co(new Pi(Ah,e,"PUBLIC").setMultipleInstances(!0)),Ui(BT,zT,t),Ui(BT,zT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t=Sh(),e=Qd){const r=Aa(Ln(t),Ah).getImmediate({identifier:e}),a=N1("functions");return a&&Ck(r,...a),r}function Ck(t,e,i){fk(Ln(t),e,i)}function wa(t,e,i){return dk(Ln(t),e,i)}Sk();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,V_={activated:!1,tokenObservers:[]},wk={initialized:!1,enabled:!1};function Ct(t){return Zd.get(t)||{...V_}}function bk(t,e){return Zd.set(t,e),Zd.get(t)}function Fu(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="https://content-firebaseappcheck.googleapis.com/v1",Ik="exchangeRecaptchaV3Token",Rk="exchangeDebugToken",qT={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Nk=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,i,r,a,l){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ya,this.pending.promise.catch(i=>{}),await Mk(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ya,this.pending.promise.catch(i=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}function Mk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},on=new as("appCheck","AppCheck",Dk);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t=!1){var e;return t?(e=self.grecaptcha)==null?void 0:e.enterprise:self.grecaptcha}function Ch(t){if(!Ct(t).activated)throw on.create("use-before-activation",{appName:t.name})}function z_(t){const e=Math.round(t/1e3),i=Math.floor(e/(3600*24)),r=Math.floor((e-i*3600*24)/3600),a=Math.floor((e-i*3600*24-r*3600)/60),l=e-i*3600*24-r*3600-a*60;let f="";return i&&(f+=nu(i)+"d:"),r&&(f+=nu(r)+"h:"),f+=nu(a)+"m:"+nu(l)+"s",f}function nu(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh({url:t,body:e},i){const r={"Content-Type":"application/json"},a=i.getImmediate({optional:!0});if(a){const T=await a.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f;try{f=await fetch(t,l)}catch(T){throw on.create("fetch-network-error",{originalErrorMessage:T==null?void 0:T.message})}if(f.status!==200)throw on.create("fetch-status-error",{httpStatus:f.status});let p;try{p=await f.json()}catch(T){throw on.create("fetch-parse-error",{originalErrorMessage:T==null?void 0:T.message})}const g=p.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const m=Number(g[1])*1e3,v=Date.now();return{token:p.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}function kk(t,e){const{projectId:i,appId:r,apiKey:a}=t.options;return{url:`${B_}/projects/${i}/apps/${r}:${Ik}?key=${a}`,body:{recaptcha_v3_token:e}}}function q_(t,e){const{projectId:i,appId:r,apiKey:a}=t.options;return{url:`${B_}/projects/${i}/apps/${r}:${Rk}?key=${a}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebase-app-check-database",Lk=1,Ta="firebase-app-check-store",F_="debug-token";let iu=null;function Y_(){return iu||(iu=new Promise((t,e)=>{try{const i=indexedDB.open(Uk,Lk);i.onsuccess=r=>{t(r.target.result)},i.onerror=r=>{var a;e(on.create("storage-open",{originalErrorMessage:(a=r.target.error)==null?void 0:a.message}))},i.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(Ta,{keyPath:"compositeKey"})}}}catch(i){e(on.create("storage-open",{originalErrorMessage:i==null?void 0:i.message}))}}),iu)}function Pk(t){return K_($_(t))}function Ok(t,e){return J_($_(t),e)}function Gk(t){return J_(F_,t)}function Hk(){return K_(F_)}async function J_(t,e){const r=(await Y_()).transaction(Ta,"readwrite"),l=r.objectStore(Ta).put({compositeKey:t,value:e});return new Promise((f,p)=>{l.onsuccess=g=>{f()},r.onerror=g=>{var m;p(on.create("storage-set",{originalErrorMessage:(m=g.target.error)==null?void 0:m.message}))}})}async function K_(t){const i=(await Y_()).transaction(Ta,"readonly"),a=i.objectStore(Ta).get(t);return new Promise((l,f)=>{a.onsuccess=p=>{const g=p.target.result;l(g?g.value:void 0)},i.onerror=p=>{var g;f(on.create("storage-get",{originalErrorMessage:(g=p.target.error)==null?void 0:g.message}))}})}function $_(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new _h("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t){if(Th()){let e;try{e=await Pk(t)}catch(i){_o.warn(`Failed to read token from IndexedDB. Error: ${i}`)}return e}}function _d(t,e){return Th()?Ok(t,e).catch(i=>{_o.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}async function Bk(){let t;try{t=await Hk()}catch{}if(t)return t;{const e=crypto.randomUUID();return Gk(e).catch(i=>_o.warn(`Failed to persist debug token to IndexedDB. Error: ${i}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(){return Fu().enabled}async function Ih(){const t=Fu();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function zk(){const t=b_(),e=Fu();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const i=new ya;e.token=i,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?i.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):i.resolve(Bk())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={error:"UNKNOWN_ERROR"};function Fk(t){return yh.encodeString(JSON.stringify(t),!1)}async function Nu(t,e=!1,i=!1){const r=t.app;Ch(r);const a=Ct(r);let l=a.token,f;if(l&&!Fr(l)&&(a.token=void 0,l=void 0),!l){const m=await a.cachedTokenPromise;m&&(Fr(m)?l=m:await _d(r,void 0))}if(!e&&l&&Fr(l))return{token:l.token};let p=!1;if(bh())try{a.exchangeTokenPromise||(a.exchangeTokenPromise=wh(q_(r,await Ih()),t.heartbeatServiceProvider).finally(()=>{a.exchangeTokenPromise=void 0}),p=!0);const m=await a.exchangeTokenPromise;return await _d(r,m),a.token=m,{token:m.token}}catch(m){return m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?_o.warn(m.message):i&&_o.error(m),Ed(m)}try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),p=!0),l=await Ct(r).exchangeTokenPromise}catch(m){m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?_o.warn(m.message):i&&_o.error(m),f=m}let g;return l?f?Fr(l)?g={token:l.token,internalError:f}:g=Ed(f):(g={token:l.token},a.token=l,await _d(r,l)):g=Ed(f),p&&Q_(r,g),g}async function Yk(t){const e=t.app;Ch(e);const{provider:i}=Ct(e);if(bh()){const r=await Ih(),{token:a}=await wh(q_(e,r),t.heartbeatServiceProvider);return{token:a}}else{const{token:r}=await i.getToken();return{token:r}}}function X_(t,e,i,r){const{app:a}=t,l=Ct(a),f={next:i,error:r,type:e};if(l.tokenObservers=[...l.tokenObservers,f],l.token&&Fr(l.token)){const p=l.token;Promise.resolve().then(()=>{i({token:p.token}),YT(t)}).catch(()=>{})}l.cachedTokenPromise.then(()=>YT(t))}function W_(t,e){const i=Ct(t),r=i.tokenObservers.filter(a=>a.next!==e);r.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=r}function YT(t){const{app:e}=t,i=Ct(e);let r=i.tokenRefresher;r||(r=Jk(t),i.tokenRefresher=r),!r.isRunning()&&i.isTokenAutoRefreshEnabled&&r.start()}function Jk(t){const{app:e}=t;return new xk(async()=>{const i=Ct(e);let r;if(i.token?r=await Nu(t,!0):r=await Nu(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const i=Ct(e);if(i.token){let r=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5;const a=i.token.expireTimeMillis-300*1e3;return r=Math.min(r,a),Math.max(0,r-Date.now())}else return 0},qT.RETRIAL_MIN_WAIT,qT.RETRIAL_MAX_WAIT)}function Q_(t,e){const i=Ct(t).tokenObservers;for(const r of i)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fr(t){return t.expireTimeMillis-Date.now()>0}function Ed(t){return{token:Fk(qk),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:e}=Ct(this.app);for(const i of e)W_(this.app,i.next);return Promise.resolve()}}function $k(t,e){return new Kk(t,e)}function Xk(t){return{getToken:e=>Nu(t,e),getLimitedUseToken:()=>Yk(t),addTokenListener:e=>X_(t,"INTERNAL",e),removeTokenListener:e=>W_(t.app,e)}}const Wk="@firebase/app-check",Qk="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="https://www.google.com/recaptcha/api.js";function jk(t,e){const i=new ya,r=Ct(t);r.reCAPTCHAState={initialized:i};const a=eU(t),l=FT(!1);return l?JT(t,e,l,a,i):iU(()=>{const f=FT(!1);if(!f)throw new Error("no recaptcha");JT(t,e,f,a,i)}),i.promise}function JT(t,e,i,r,a){i.ready(()=>{nU(t,e,i,r),a.resolve(i)})}function eU(t){const e=`fire_app_check_${t.name}`,i=document.createElement("div");return i.id=e,i.style.display="none",document.body.appendChild(i),e}async function tU(t){Ch(t);const i=await Ct(t).reCAPTCHAState.initialized.promise;return new Promise((r,a)=>{const l=Ct(t).reCAPTCHAState;i.ready(()=>{r(i.execute(l.widgetId,{action:"fire_app_check"}))})})}function nU(t,e,i,r){const a=i.render(r,{sitekey:e,size:"invisible",callback:()=>{Ct(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ct(t).reCAPTCHAState.succeeded=!1}}),l=Ct(t);l.reCAPTCHAState={...l.reCAPTCHAState,widgetId:a}}function iU(t){const e=document.createElement("script");e.src=Zk,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var r,a,l;rU(this._throttleData);const e=await tU(this._app).catch(f=>{throw on.create("recaptcha-error")});if(!((r=Ct(this._app).reCAPTCHAState)!=null&&r.succeeded))throw on.create("recaptcha-error");let i;try{i=await wh(kk(this._app,e),this._heartbeatServiceProvider)}catch(f){throw(a=f.code)!=null&&a.includes("fetch-status-error")?(this._throttleData=oU(Number((l=f.customData)==null?void 0:l.httpStatus),this._throttleData),on.create("initial-throttle",{time:z_(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):f}return this._throttleData=null,i}initialize(e){this._app=e,this._heartbeatServiceProvider=Aa(e,"heartbeat"),jk(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Rh?this._siteKey===e._siteKey:!1}}function oU(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Nk,httpStatus:t};{const i=e?e.backoffCount:0,r=X1(i,1e3,2);return{backoffCount:i+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function rU(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw on.create("throttled",{time:z_(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t=Sh(),e){t=Ln(t);const i=Aa(t,"app-check");if(Fu().initialized||zk(),bh()&&Ih().then(a=>console.log(`App Check debug token: ${a}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),i.isInitialized()){const a=i.getImmediate(),l=i.getOptions();if(l.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&l.provider.isEqual(e.provider))return a;throw on.create("already-initialized",{appName:t.name})}const r=i.initialize({options:e});return aU(t,e.provider,e.isTokenAutoRefreshEnabled),Ct(t).isTokenAutoRefreshEnabled&&X_(r,"INTERNAL",()=>{}),r}function aU(t,e,i=!1){const r=bk(t,{...V_});r.activated=!0,r.provider=e,r.cachedTokenPromise=Vk(t).then(a=>(a&&Fr(a)&&(r.token=a,Q_(t,{token:a.token})),a)),r.isTokenAutoRefreshEnabled=i&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&i&&_o.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(t)}async function lU(t,e){const i=await Nu(t,e);if(i.error)throw i.error;if(i.internalError)throw i.internalError;return{token:i.token}}const uU="app-check",KT="app-check-internal";function cU(){Co(new Pi(uU,t=>{const e=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat");return $k(e,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider(KT).initialize()})),Co(new Pi(KT,t=>{const e=t.getProvider("app-check").getImmediate();return Xk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ui(Wk,Qk)}cU();var fU="firebase",dU="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(fU,dU,"app");function Z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hU=Z_,j_=new as("auth","Firebase",Z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new _h("@firebase/auth");function pU(t,...e){xu.logLevel<=Ze.WARN&&xu.warn(`Auth (${Ca}): ${t}`,...e)}function du(t,...e){xu.logLevel<=Ze.ERROR&&xu.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,...e){throw xh(t,...e)}function Wn(t,...e){return xh(t,...e)}function Nh(t,e,i){const r={...hU(),[e]:i};return new as("auth","Firebase",r).create(e,{appName:t.name})}function Ao(t){return Nh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eE(t,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&li(t,"argument-error"),Nh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xh(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return j_.create(t,...e)}function ge(t,e,...i){if(!t)throw xh(e,...i)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function Gi(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mU(){return $T()==="http:"||$T()==="https:"}function $T(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mU()||U1()||"connection"in navigator)?navigator.onLine:!0}function yU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i){this.shortDelay=e,this.longDelay=i,Gi(i>e,"Short delay should be less than long delay!"),this.isMobile=D1()||L1()}get(){return gU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_U=new ba(3e4,6e4);function Dh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ls(t,e,i,r,a={}){return nE(t,a,async()=>{let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});const p=Sa({key:t.config.apiKey,...f}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:g,...l};return k1()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ss(t.emulatorConfig.host)&&(m.credentials="include"),tE.fetch()(await iE(t,t.config.apiHost,i,p),m)})}async function nE(t,e,i){t._canInitEmulator=!1;const r={...vU,...e};try{const a=new SU(t),l=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw ou(t,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const p=l.ok?f.errorMessage:f.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",f);if(g==="USER_DISABLED")throw ou(t,"user-disabled",f);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Nh(t,v,m);li(t,v)}}catch(a){if(a instanceof Bi)throw a;li(t,"network-request-failed",{message:String(a)})}}async function EU(t,e,i,r,a={}){const l=await ls(t,e,i,r,a);return"mfaPendingCredential"in l&&li(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function iE(t,e,i,r){const a=`${e}${i}?${r}`,l=t,f=l.config.emulator?Mh(t.config,a):`${t.config.apiScheme}://${a}`;return TU.includes(i)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(f).toString():f}class SU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),_U.get())})}}function ou(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const a=Wn(t,e,r);return a.customData._tokenResponse=i,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function Mu(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CU(t,e=!1){const i=Ln(t),r=await i.getIdToken(e),a=kh(r);ge(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,f=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ma(Sd(a.auth_time)),issuedAtTime:ma(Sd(a.iat)),expirationTime:ma(Sd(a.exp)),signInProvider:f||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sd(t){return Number(t)*1e3}function kh(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const a=w_(i);return a?JSON.parse(a):(du("Failed to decode base64 JWT payload"),null)}catch(a){return du("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function XT(t){const e=kh(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Bi&&wU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){var T;const e=t.auth,i=await t.getIdToken(),r=await _a(t,Mu(e,{idToken:i}));ge(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=(T=a.providerUserInfo)!=null&&T.length?oE(a.providerUserInfo):[],f=RU(t.providerData,l),p=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),m=p?g:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new eh(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function IU(t){const e=Ln(t);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RU(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function oE(t){return t.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){const i=await nE(t,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,f=await iE(t,a,"/v1/token",`key=${l}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return t.emulatorConfig&&ss(t.emulatorConfig.host)&&(g.credentials="include"),tE.fetch()(f,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xU(t,e){return ls(t,"POST","/v2/accounts:revokeToken",Dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const i=XT(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:a,expiresIn:l}=await NU(e,i);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:a,expirationTime:l}=i,f=new Kr;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),a&&(ge(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),l&&(ge(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:i,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new bU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new eh(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await _a(this,this.stsTokenManager.getToken(this.auth,e));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return CU(this,e)}reload(){return IU(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Ao(this.auth));const e=await this.getIdToken();return await _a(this,AU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,a=i.email??void 0,l=i.phoneNumber??void 0,f=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,m=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:T,emailVerified:_,isAnonymous:C,providerData:b,stsTokenManager:M}=i;ge(T&&M,e,"internal-error");const R=Kr.fromJSON(this.name,M);ge(typeof T=="string",e,"internal-error"),ho(r,e.name),ho(a,e.name),ge(typeof _=="boolean",e,"internal-error"),ge(typeof C=="boolean",e,"internal-error"),ho(l,e.name),ho(f,e.name),ho(p,e.name),ho(g,e.name),ho(m,e.name),ho(v,e.name);const k=new Kn({uid:T,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:C,photoURL:f,phoneNumber:l,tenantId:p,stsTokenManager:R,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(k.providerData=b.map(z=>({...z}))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,i,r=!1){const a=new Kr;a.updateFromServerResponse(i);const l=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Du(l),l}static async _fromGetAccountInfoResponse(e,i,r){const a=i.users[0];ge(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oE(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),p=new Kr;p.updateFromIdToken(r);const g=new Kn({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:f}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new eh(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;function ki(t){Gi(t instanceof Function,"Expected a class definition");let e=WT.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}rE.type="NONE";const QT=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,i){return`firebase:${t}:${e}:${i}`}class $r{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=hu(this.userKey,a.apiKey,l),this.fullPersistenceKey=hu("persistence",a.apiKey,l),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Mu(this.auth,{idToken:e}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new $r(ki(QT),e,r);const a=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ki(QT);const f=hu(r,e.config.apiKey,e.name);let p=null;for(const m of i)try{const v=await m._get(f);if(v){let T;if(typeof v=="string"){const _=await Mu(e,{idToken:v}).catch(()=>{});if(!_)break;T=await Kn._fromGetAccountInfoResponse(e,_,v)}else T=Kn._fromJSON(e,v);m!==l&&(p=T),l=m;break}}catch{}const g=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new $r(l,e,r):(l=g[0],p&&await l._set(f,p.toJSON()),await Promise.all(i.map(async m=>{if(m!==l)try{await m._remove(f)}catch{}})),new $r(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fE(e))return"Blackberry";if(dE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(cE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sE(t=Ft()){return/firefox\//i.test(t)}function aE(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(t=Ft()){return/crios\//i.test(t)}function uE(t=Ft()){return/iemobile/i.test(t)}function cE(t=Ft()){return/android/i.test(t)}function fE(t=Ft()){return/blackberry/i.test(t)}function dE(t=Ft()){return/webos/i.test(t)}function Uh(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MU(t=Ft()){var e;return Uh(t)&&!!((e=window.navigator)!=null&&e.standalone)}function DU(){return P1()&&document.documentMode===10}function hE(t=Ft()){return Uh(t)||cE(t)||dE(t)||fE(t)||/windows phone/i.test(t)||uE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e=[]){let i;switch(t){case"Browser":i=ZT(Ft());break;case"Worker":i=`${ZT(Ft())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=l=>new Promise((f,p)=>{try{const g=e(l);f(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e={}){return ls(t,"GET","/v2/passwordPolicy",Dh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=6;class PU{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LU,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,i,r,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new kU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await $r.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Mu(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(l=this.redirectUser)==null?void 0:l._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(r=g.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Ao(this));const i=e?Ln(e):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UU(this),i=new PU(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new as("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await xU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ki(e)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await $r.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,a){if(this._deleted)return()=>{};const l=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{f||l(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,a);return()=>{f=!0,g()}}else{const g=e.addObserver(i);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&pU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function us(t){return Ln(t)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=z1(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GU(t){Lh=t}function HU(t){return Lh.loadJS(t)}function VU(){return Lh.gapiScript}function BU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){const i=Aa(t,"auth");if(i.isInitialized()){const a=i.getImmediate(),l=i.getOptions();if(Zr(l,e??{}))return a;li(a,"already-initialized")}return i.initialize({options:e})}function qU(t,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FU(t,e,i){const r=us(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=mE(e),{host:f,port:p}=YU(e),g=p===null?"":`:${p}`,m={url:`${l}//${f}${g}/`},v=Object.freeze({host:f,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Zr(m,r.config.emulator)&&Zr(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ss(f)?(x_(`${l}//${f}${g}`),M_("Auth",!0)):JU()}function mE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YU(t){const e=mE(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:e0(r.substr(l.length+1))}}else{const[l,f]=r.split(":");return{host:l,port:e0(f)}}}function e0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JU(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,i){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t,e){return EU(t,"POST","/v1/accounts:signInWithIdp",Dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="http://localhost";class ir extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=i;if(!r||!a)return null;const f=new ir(r,a);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Xr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Xr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Xr(e,i)}buildRequest(){const e={requestUri:KU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Sa(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Ia{constructor(){super("facebook.com")}static credential(e){return ir._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ir._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Mi.credential(i,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Ia{constructor(){super("github.com")}static credential(e){return ir._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ia{constructor(){super("twitter.com")}static credential(e,i){return ir._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return vo.credential(i,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,a=!1){const l=await Kn._fromIdTokenResponse(e,r,a),f=t0(r);return new es({user:l,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const a=t0(r);return new es({user:e,providerId:a,_tokenResponse:r,operationType:i})}}function t0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Bi{constructor(e,i,r,a){super(i.code,i.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,a){return new ku(e,i,r,a)}}function yE(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(t,l,e,r):l})}async function $U(t,e,i=!1){const r=await _a(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e,i=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(Ao(r));const a="reauthenticate";try{const l=await _a(t,yE(r,a,e,t),i);ge(l.idToken,r,"internal-error");const f=kh(l.idToken);ge(f,r,"internal-error");const{sub:p}=f;return ge(t.uid===p,r,"user-mismatch"),es._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&li(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e,i=!1){if(Mn(t.app))return Promise.reject(Ao(t));const r="signIn",a=await yE(t,r,e),l=await es._fromIdTokenResponse(t,r,a);return i||await t._updateCurrentUser(l.user),l}function QU(t,e,i,r){return Ln(t).onIdTokenChanged(e,i,r)}function ZU(t,e,i){return Ln(t).beforeAuthStateChanged(e,i)}function jU(t,e,i,r){return Ln(t).onAuthStateChanged(e,i,r)}function eL(t){return Ln(t).signOut()}const Uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1e3,nL=10;class TE extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),a=this.localCache[i];r!==a&&e(i,a,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},l=this.storage.getItem(r);DU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nL):a()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}TE.type="LOCAL";const iL=TE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_E.type="SESSION";const EE=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const r=new Ju(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:a,data:l}=i.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const p=Array.from(f).map(async m=>m(i.origin,l)),g=await oL(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ju.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,f;return new Promise((p,g)=>{const m=Ph("",20);a.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(T){const _=T;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(_.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function sL(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function aL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uL(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",cL=1,Lu="firebaseLocalStorage",CE="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ku(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function fL(){const t=indexedDB.deleteDatabase(AE);return new Ra(t).toPromise()}function th(){const t=indexedDB.open(AE,cL);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lu,{keyPath:CE})}catch(a){i(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lu)?e(r):(r.close(),await fL(),e(await th()))})})}async function n0(t,e,i){const r=Ku(t,!0).put({[CE]:e,value:i});return new Ra(r).toPromise()}async function dL(t,e){const i=Ku(t,!1).get(e),r=await new Ra(i).toPromise();return r===void 0?null:r.value}function i0(t,e){const i=Ku(t,!0).delete(e);return new Ra(i).toPromise()}const hL=800,pL=3;class wE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await th(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>pL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ju._getInstance(uL()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await aL(),!this.activeServiceWorker)return;this.sender=new rL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await th();return await n0(e,Uu,"1"),await i0(e,Uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>n0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>dL(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ku(a,!1).getAll();return new Ra(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wE.type="LOCAL";const mL=wE;new ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e){return e?ki(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends gE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Xr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function gL(t){return WU(t.auth,new Gh(t),t.bypassAuthState)}function yL(t){const{auth:e,user:i}=t;return ge(i,e,"internal-error"),XU(i,new Gh(t),t.bypassAuthState)}async function vL(t){const{auth:e,user:i}=t;return ge(i,e,"internal-error"),$U(i,new Gh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:a,tenantId:l,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gL;case"linkViaPopup":case"linkViaRedirect":return vL;case"reauthViaPopup":case"reauthViaRedirect":return yL;default:li(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new ba(2e3,1e4);async function _L(t,e,i){if(Mn(t.app))return Promise.reject(Wn(t,"operation-not-supported-in-this-environment"));const r=us(t);eE(t,e,Yu);const a=Oh(r,i);return new Zo(r,"signInViaPopup",e,a).executeNotNull()}class Zo extends bE{constructor(e,i,r,a,l){super(e,i,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=Ph();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TL.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="pendingRedirect",pu=new Map;class SL extends bE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const r=await AL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AL(t,e){const i=RE(e),r=IE(t);if(!await r._isAvailable())return!1;const a=await r._get(i)==="true";return await r._remove(i),a}async function CL(t,e){return IE(t)._set(RE(e),"true")}function wL(t,e){pu.set(t._key(),e)}function IE(t){return ki(t._redirectPersistence)}function RE(t){return hu(EL,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e,i){return IL(t,e,i)}async function IL(t,e,i){if(Mn(t.app))return Promise.reject(Ao(t));const r=us(t);eE(t,e,Yu),await r._initializationPromise;const a=Oh(r,i);return await CL(a,r),a._openRedirect(r,e,"signInViaRedirect")}async function RL(t,e){return await us(t)._initializationPromise,NE(t,e,!1)}async function NE(t,e,i=!1){if(Mn(t.app))return Promise.reject(Ao(t));const r=us(t),a=Oh(r,e),f=await new SL(r,a,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=600*1e3;class xL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ML(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!xE(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(Wn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NL&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}}function o0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ML(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UL=/^https?/;async function LL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DL(t);for(const i of e)try{if(PL(i))return}catch{}li(t,"unauthorized-domain")}function PL(t){const e=jd(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const f=new URL(t);return f.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!UL.test(i))return!1;if(kL.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new ba(3e4,6e4);function r0(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function GL(t){return new Promise((e,i)=>{var a,l,f;function r(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),i(Wn(t,"network-request-failed"))},timeout:OL.get()})}if((l=(a=si().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((f=si().gapi)!=null&&f.load)r();else{const p=BU("iframefcb");return si()[p]=()=>{gapi.load?r():i(Wn(t,"network-request-failed"))},HU(`${VU()}?onload=${p}`).catch(g=>i(g))}}).catch(e=>{throw mu=null,e})}let mu=null;function HL(t){return mu=mu||GL(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new ba(5e3,15e3),BL="__/auth/iframe",zL="emulator/auth/iframe",qL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YL(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?Mh(e,zL):`https://${t.config.authDomain}/${BL}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},a=FL.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${i}?${Sa(r).slice(1)}`}async function JL(t){const e=await HL(t),i=si().gapi;return ge(i,t,"internal-error"),e.open({where:document.body,url:YL(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qL,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const f=Wn(t,"network-request-failed"),p=si().setTimeout(()=>{l(f)},VL.get());function g(){si().clearTimeout(p),a(r)}r.ping(g).then(g,()=>{l(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$L=500,XL=600,WL="_blank",QL="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZL(t,e,i,r=$L,a=XL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...KL,width:r.toString(),height:a.toString(),top:l,left:f},m=Ft().toLowerCase();i&&(p=lE(m)?WL:i),sE(m)&&(e=e||QL,g.scrollbars="yes");const v=Object.entries(g).reduce((_,[C,b])=>`${_}${C}=${b},`,"");if(MU(m)&&p!=="_self")return jL(e||"",p),new s0(null);const T=window.open(e||"",p,v);ge(T,t,"popup-blocked");try{T.focus()}catch{}return new s0(T)}function jL(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="__/auth/handler",tP="emulator/auth/handler",nP=encodeURIComponent("fac");async function a0(t,e,i,r,a,l){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const f={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:Ca,eventId:a};if(e instanceof Yu){e.setDefaultLanguage(t.languageCode),f.providerId=e.providerId||"",B1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof Ia){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}t.tenantId&&(f.tid=t.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const g=await t._getAppCheckToken(),m=g?`#${nP}=${encodeURIComponent(g)}`:"";return`${iP(t)}?${Sa(p).slice(1)}${m}`}function iP({config:t}){return t.emulator?Mh(t,tP):`https://${t.authDomain}/${eP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class oP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=NE,this._overrideRedirectResult=wL}async _openPopup(e,i,r,a){var f;Gi((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const l=await a0(e,i,r,jd(),a);return ZL(e,l,Ph())}async _openRedirect(e,i,r,a){await this._originValidation(e);const l=await a0(e,i,r,jd(),a);return sL(l),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:l}=this.eventManagers[i];return a?Promise.resolve(a):(Gi(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await JL(e),r=new xL(e);return i.register("authEvent",a=>(ge(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Ad,{type:Ad},a=>{var f;const l=(f=a==null?void 0:a[0])==null?void 0:f[Ad];l!==void 0&&i(!!l),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=LL(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return hE()||aE()||Uh()}}const rP=oP;var l0="@firebase/auth",u0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lP(t){Co(new Pi("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(t)},m=new OU(r,a,l,g);return qU(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Co(new Pi("auth-internal",e=>{const i=us(e.getProvider("auth").getImmediate());return(r=>new sP(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(l0,u0,aP(t)),Ui(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=300,cP=N_("authIdTokenMaxAge")||uP;let c0=null;const fP=t=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cP)return;const a=i==null?void 0:i.token;c0!==a&&(c0=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dP(t=Sh()){const e=Aa(t,"auth");if(e.isInitialized())return e.getImmediate();const i=zU(t,{popupRedirectResolver:rP,persistence:[mL,iL,EE]}),r=N_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const f=fP(l.toString());ZU(i,f,()=>f(i.currentUser)),QU(i,p=>f(p))}}const a=I_("auth");return a&&FU(i,`http://${a}`),i}function hP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GU({loadJS(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Wn("internal-error");l.customData=a,i(l)},r.type="text/javascript",r.charset="UTF-8",hP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lP("Browser");const ME={apiKey:"AIzaSyC1Y-hko36nNXRnRfafFC4NAiS92WWsEJs",authDomain:"ideatesvg.firebaseapp.com",projectId:"ideatesvg",storageBucket:"ideatesvg.firebasestorage.app",messagingSenderId:"817682651209",appId:"1:817682651209:web:3367429c621e50a7ae8798",measurementId:"LRG0WG1NZ7"};{const t=Object.entries(ME).filter(([,e])=>!e).map(([e])=>e);if(t.length>0)throw new Error(`Missing Firebase config env vars in production: ${t.join(", ")}`)}const Hh=U_(ME),or=dP(Hh),Na=Ak(Hh),f0=new Mi;let DE=null;const d0="6Ld_YHUsAAAAAOKP6xC90z8iYUBpAl1XLeBgajeT";typeof window<"u"&&d0&&(DE=sU(Hh,{provider:new Rh(d0),isTokenAutoRefreshEnabled:!0}));const pP=()=>DE,kE=600*1e3,mP=()=>{const t="".trim();if(t)return t.replace(/\/+$/,"");const e="ideatesvg".trim();if(!e)throw new Error("Missing VITE_FIREBASE_PROJECT_ID for streaming generation endpoint");return`https://${"us-central1".trim()}-${e}.cloudfunctions.net`},gP=t=>{const e=t.replace(/\r/g,"").split(`
`).filter(l=>l.length>0&&!l.startsWith(":"));if(e.length===0)return null;let i="message";const r=[];for(const l of e){if(l.startsWith("event:")){i=l.slice(6).trim()||"message";continue}l.startsWith("data:")&&r.push(l.slice(5).trim())}const a=r.join(`
`);if(!a)return{event:i,data:null};try{return{event:i,data:JSON.parse(a)}}catch{return{event:i,data:a}}},yP=async()=>{try{const t=pP();if(!t)return null;const e=await lU(t,!1);return(e==null?void 0:e.token)||null}catch{return null}},vP=async(t,e)=>{const i=wa(Na,"estimateTokenCost"),r={action:t,...e};return(await i(r)).data},UE=async(t,e,i)=>{const r=wa(Na,"generateWithTokens",{timeout:kE}),a={action:t,sessionId:e,...i};return(await r(a)).data},LE=async(t,e,i,r)=>{const a=or.currentUser;if(!a)throw new Error("Must be signed in");const[l,f]=await Promise.all([a.getIdToken(),yP()]),p=new AbortController,g=window.setTimeout(()=>p.abort(),kE),m={action:t,sessionId:e,...i};try{const v=await fetch(`${mP()}/streamGenerateWithTokens`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`,...f?{"X-Firebase-AppCheck":f}:{}},body:JSON.stringify(m),signal:p.signal});if(!v.ok){let k=`Streaming request failed (${v.status})`;try{const z=await v.json();z!=null&&z.error&&typeof z.error=="string"&&(k=z.error)}catch{}throw new Error(k)}if(!v.body)throw new Error("Streaming is not supported in this environment");const T=v.body.getReader(),_=new TextDecoder("utf-8");let C="",b=null,M=null;const R=()=>{var q,G,W;const k=()=>{const V=C.indexOf(`

`),F=C.indexOf(`\r
\r
`);return V<0&&F<0?null:V<0?{index:F,length:4}:F<0?{index:V,length:2}:V<F?{index:V,length:2}:{index:F,length:4}};let z=k();for(;z;){const V=C.slice(0,z.index);C=C.slice(z.index+z.length);const F=gP(V);if(F){const ne=F.data||{};if(F.event==="status"){const Q=typeof ne.stage=="string"?ne.stage:"working";(q=r==null?void 0:r.onStatus)==null||q.call(r,Q)}else if(F.event==="thought"){const Q=typeof ne.chunk=="string"?ne.chunk:"";Q&&((G=r==null?void 0:r.onThoughtChunk)==null||G.call(r,Q))}else if(F.event==="output"){const Q=typeof ne.chunk=="string"?ne.chunk:"";Q&&((W=r==null?void 0:r.onOutputChunk)==null||W.call(r,Q))}else F.event==="complete"?b=ne:F.event==="error"&&(M=typeof ne.message=="string"?ne.message:"Generation failed")}z=k()}};for(;;){const{done:k,value:z}=await T.read();if(k||(C+=_.decode(z,{stream:!0}),R(),M))break}if(C+=_.decode(),R(),M)throw new Error(M);if(!b)throw new Error("Generation stream ended before completion");return b}catch(v){throw(v==null?void 0:v.name)==="AbortError"?new Error("Generation timed out"):v}finally{window.clearTimeout(g)}},TP=async()=>(await wa(Na,"getBalance")({})).data.balance,PE=async(t,e)=>(await wa(Na,"verifyAndCreditPurchase")({purchaseToken:t,productId:e})).data,_P=async()=>!!(await wa(Na,"deleteMyAccount")({})).data.deleted;let rr=null,gu=[];const EP=3,h0=10**EP,Vh=1e-9,ts=t=>Number.isFinite(t)?Math.round(Math.max(0,t)*h0)/h0:0,Wo=async()=>{const t=await TP();return rr=ts(t),HE(),rr},OE=()=>rr,xa=t=>{rr=ts(t),HE()},GE=(t,e)=>{const i=e??rr;return i!==null&&ts(i)+Vh>=ts(t)},Bh=t=>(gu.push(t),()=>{gu=gu.filter(e=>e!==t)}),HE=()=>{rr!==null&&gu.forEach(t=>t(rr))},SP=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?Math.round(t/1e3)===1e3?`${(t/1e6).toFixed(1)}M`:`${(t/1e3).toFixed(0)}K`:t.toString(),zh=(t,e)=>{const i=ts(t);if(e!=null&&e.whole)return Math.max(0,Math.ceil(i)).toLocaleString("en-US");const r=Math.min(4,Math.max(0,Math.floor((e==null?void 0:e.decimals)??2)));return i.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:r})},AP=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:Vh,canAfford:GE,formatCredits:zh,formatTokens:SP,getLocalBalance:OE,normalizeCredits:ts,refreshBalance:Wo,subscribeToBalance:Bh,updateLocalBalance:xa},Symbol.toStringTag,{value:"Module"})),$u=async(t,e,i)=>{var f,p,g;const r=await BE().models.generateContentStream(t);let a="",l="";for await(const m of r){const v=(g=(p=(f=m.candidates)==null?void 0:f[0])==null?void 0:p.content)==null?void 0:g.parts;if(v)for(const T of v)T.thought&&T.text?(l+=T.text,e==null||e(T.text)):T.text&&(a+=T.text,i==null||i(T.text))}return{text:a,thoughts:l||null}},Xu="gemini-3.1-pro-preview",CP="gemini-3.1-pro-preview",VE=async(t,e,i)=>{if(!t||!e)return;const r=Math.max(32,Math.floor((i==null?void 0:i.chunkSize)??320)),a=Math.max(0,Math.floor((i==null?void 0:i.delayMs)??8));for(let l=0;l<t.length;l+=r)e(t.slice(l,l+r)),a>0&&await new Promise(f=>setTimeout(f,a))},wP=()=>{try{return E1()}catch(t){throw t}};let yu;const BE=()=>(yu||(yu=new i1({apiKey:wP()})),yu),bP=()=>{yu=void 0},Pu=t=>{let e=t;const i=/```(?:xml|svg|html|jsx|tsx|javascript|typescript)?\s*([\s\S]*?)\s*```/i,r=e.match(i);r&&r[1]&&(e=r[1].trim()),e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');const a=/<svg[\s\S]*?>/i,l=e.match(a);if(l){const p=l.index,g=l[0];if(g.trim().endsWith("/>"))e=g;else{const m=e.substring(p),v=/<\/\s*svg>/i,T=m.match(v);if(T){const _=T.index+T[0].length;e=m.substring(0,_)}else e=m}}return e=e.replace(/export\s+default\s+function\s*[\w]*\s*\([\s\S]*?\)\s*\{/gi,""),e=e.replace(/export\s+default\s+\([\s\S]*?\)\s*=>\s*\(?/gi,""),e=e.replace(/const\s+[\w]+\s*=\s*\([\s\S]*?\)\s*=>\s*\(?/gi,""),e=e.replace(/^[\s\S]*?=>\s*\(\s*/,""),e=e.replace(/^[\s\S]*?return\s*\(\s*/,""),e=e.replace(/\{\s*\.\.\.\s*props\s*\}/gi,""),e=e.replace(/\sclassName=/g," class="),e=e.replace(/\shtmlFor=/g," for="),e=e.replace(/\sref=\{[^}]+\}/g,""),e=e.replace(/\skey=\{[^}]+\}/g,""),[[/\sstrokeWidth=/g," stroke-width="],[/\sstrokeLinecap=/g," stroke-linecap="],[/\sstrokeLinejoin=/g," stroke-linejoin="],[/\sstrokeMiterlimit=/g," stroke-miterlimit="],[/\sstrokeDasharray=/g," stroke-dasharray="],[/\sstrokeDashoffset=/g," stroke-dashoffset="],[/\sstrokeOpacity=/g," stroke-opacity="],[/\sfillOpacity=/g," fill-opacity="],[/\sfillRule=/g," fill-rule="],[/\sclipPath=/g," clip-path="],[/\sclipRule=/g," clip-rule="],[/\sstopColor=/g," stop-color="],[/\sstopOpacity=/g," stop-opacity="],[/\sfloodColor=/g," flood-color="],[/\sfloodOpacity=/g," flood-opacity="],[/\slightingColor=/g," lighting-color="],[/\stextAnchor=/g," text-anchor="],[/\sdominantBaseline=/g," dominant-baseline="],[/\salignmentBaseline=/g," alignment-baseline="],[/\spointerEvents=/g," pointer-events="],[/\svectorEffect=/g," vector-effect="]].forEach(([p,g])=>{e=e.replace(p,g)}),e=e.replace(/\sviewbox=/g," viewBox="),e.trim()},Ma=async(t,e=3,i=2e3)=>{try{return await t()}catch(r){if(e<=0)throw r;return console.warn(`API call failed, retrying in ${i}ms...`,r),await new Promise(a=>setTimeout(a,i)),Ma(t,e-1,i*2)}},IP=async(t,e,i)=>{if(nr()){if(!i)throw new Error("Missing generation session.");const r=await UE("plan",i,{prompt:t});return xa(r.remainingBalance),await VE(r.thoughts||"",e,{chunkSize:220,delayMs:8}),{text:r.text,thoughts:r.thoughts}}return Ma(async()=>$u({model:Xu,contents:`You are an expert SVG artist and planner.
      The user has provided an ambiguous prompt: "${t}".

      1. Analyze the intent and potential artistic directions.
      2. Create a detailed technical plan for an SVG that embodies this concept.
      3. Focus on composition, color palette, and shapes.
      4. Keep the SVG complexity manageable but visually striking.
      5. Consider whether CSS keyframe animations would enhance the concept (e.g., for characters in motion, spinning elements, pulsing effects, or any dynamic subject). If animation would add value, include it in the plan.

      Output the plan as a concise paragraph.`,config:{thinkingConfig:{includeThoughts:!0}}},e))},RP=async(t,e,i,r)=>{if(nr()){if(!i)throw new Error("Missing generation session.");const a=await LE("generate",i,{plan:t},{onThoughtChunk:e,onOutputChunk:r});return xa(a.remainingBalance),{text:Pu(a.text),thoughts:a.thoughts}}return Ma(async()=>{const a=await $u({model:Xu,contents:`Create a single SVG file based on this plan: "${t}".

      Requirements:
      - Use standard SVG syntax.
      - Ensure it is scalable (viewBox).
      - Use vibrant colors and clean paths.
      - Do not use external CSS files or JavaScript. Inline styles are fine.
      - If the plan calls for animation or motion, use CSS keyframe animations inside a <defs><style> block.
      - For animations, set appropriate transform-origin values and use smooth easing functions (ease-in-out).
      - For animations, only animate SVG-safe properties (transform, opacity, fill, stroke).
      - Return ONLY the SVG code.`,config:{thinkingConfig:{includeThoughts:!0}}},e,r);return{text:Pu(a.text),thoughts:a.thoughts}})},NP=async(t,e,i,r,a)=>{if(nr()){if(!a)throw new Error("Missing generation session.");const l=await UE("evaluate",a,{prompt:e,imageBase64:t,iteration:i});return xa(l.remainingBalance),await VE(l.thoughts||"",r,{chunkSize:220,delayMs:8}),{text:l.text,thoughts:l.thoughts}}return Ma(async()=>{const l=t.replace(/^data:image\/[^;]+;base64,/i,"").trim();return $u({model:CP,contents:{parts:[{inlineData:{mimeType:"image/png",data:l}},{text:`You are a strict Senior Design Critic.
                Analyze this rendered SVG (Iteration #${i}).
                The original goal was: "${e}".

                Critique the image based on:
                1. Alignment with the prompt.
                2. Visual aesthetics (balance, color, contrast).
                3. Technical execution (if visible artifacts exist).
                4. Animation quality (if present): smoothness, realism, and whether the motion enhances or distracts from the design.

                Be harsh but constructive. Point out exactly what looks wrong, amateurish, or broken.
                Limit your critique to 3-4 concise, actionable bullet points.`}]},config:{thinkingConfig:{includeThoughts:!0}}},r)})},xP=async(t,e,i,r,a,l)=>{if(nr()){if(!a)throw new Error("Missing generation session.");const f=await LE("refine",a,{prompt:i,svgCode:t,critique:e},{onThoughtChunk:r,onOutputChunk:l});return xa(f.remainingBalance),{text:Pu(f.text),thoughts:f.thoughts}}return Ma(async()=>{const f=await $u({model:Xu,contents:`You are an expert SVG Coder.

      Original Goal: "${i}"

      Current SVG Code:
      \`\`\`xml
      ${t}
      \`\`\`

      Critique to address:
      ${e}

      Task:
      Rewrite the SVG code to fix the issues mentioned in the critique and improve the overall quality.
      - Keep the code clean and efficient.
      - Ensure valid XML.
      - If the current SVG uses CSS keyframe animations, preserve and improve them. Do not remove animation unless the critique explicitly asks for it.
      - Do not use external CSS files or JavaScript.
      - Return ONLY the new SVG code.`,config:{thinkingConfig:{includeThoughts:!0}}},r,l);return{text:Pu(f.text),thoughts:f.thoughts}})},MP=async t=>{if(nr()){const e=await vP("plan",{prompt:t}),i=Math.max(0,Math.ceil(e.estimatedPairInputTokens??e.estimatedInputTokens??0)),r=Math.max(0,Math.ceil(e.estimatedPairOutputTokens??e.estimatedOutputTokens??0)),a=Math.max(0,Math.ceil(e.estimatedPairTotal??i+r)),l=Math.max(0,Number(e.estimatedGifCredits??0)),f=Math.max(0,Number(e.estimatedRawGifCredits??l)),p=Math.max(1,Math.ceil(Number(e.estimatedDisplayGifCredits??l)));return{estimatedInputTokens:i,estimatedOutputTokens:r,estimatedTotalTokens:a,estimatedGifCredits:l,estimatedRawGifCredits:f,estimatedDisplayGifCredits:p,billingDisplayWholeCredits:e.billingDisplayWholeCredits??!0,billingRoundedToWholeCredits:e.billingRoundedToWholeCredits??!1}}try{const r=(await BE().models.countTokens({model:Xu,contents:`Plan SVG for: "${t}"`})).totalTokens||0,a=7500,l=r*4+a;return{estimatedInputTokens:r*4,estimatedOutputTokens:a,estimatedTotalTokens:l,estimatedGifCredits:0,estimatedRawGifCredits:0,estimatedDisplayGifCredits:0,billingDisplayWholeCredits:!1,billingRoundedToWholeCredits:!1}}catch{const i=Math.ceil(t.length/4)*4+2e3,r=7500;return{estimatedInputTokens:i,estimatedOutputTokens:r,estimatedTotalTokens:i+r,estimatedGifCredits:0,estimatedRawGifCredits:0,estimatedDisplayGifCredits:0,billingDisplayWholeCredits:!1,billingRoundedToWholeCredits:!1}}};class zE extends Error{constructor(){super("Redirecting to Google Sign-In"),this.name="AuthRedirectInProgressError"}}const DP=async()=>{if(tr())throw await bL(or,f0),new zE;return(await _L(or,f0)).user},kP=async()=>{const t=await RL(or);return(t==null?void 0:t.user)||null},p0=async()=>{await eL(or)},UP=t=>jU(or,t),qE=()=>or.currentUser,qh=rs("BillingPlugin"),Ea={token_pack_tier1:{credits:2,label:"Starter Pack"},token_pack_tier2:{credits:10,label:"Popular Pack"},token_pack_tier3:{credits:40,label:"Pro Pack"},token_pack_tier4:{credits:200,label:"Power Pack"}},m0=Object.keys(Ea),LP=async()=>{if(!tr())return m0.map(t=>({productId:t,title:Ea[t].label,description:`${Ea[t].credits} GIF credits`,price:"N/A",priceAmountMicros:0,priceCurrencyCode:"USD"}));try{return(await qh.queryProducts({productIds:m0})).products}catch(t){return console.error("Failed to query products:",t),[]}},PP=async(t,e)=>{if(!tr())throw new Error("In-app purchases are only available on Android");return qh.purchaseProduct({productId:t,...e?{obfuscatedAccountId:e}:{}})},OP=async()=>{if(!tr())return[];try{return(await qh.getPendingPurchases()).purchases}catch{return[]}},GP=t=>{const e=t.trim();if(!e)return null;try{const i=new URL(e);return i.protocol!=="http:"&&i.protocol!=="https:"?null:i.toString()}catch{return null}},HP="https://ronitervo.github.io/Idea-To-SVG/privacy.html",vu=GP(HP);if(!vu)throw new Error("Invalid VITE_PRIVACY_POLICY_URL in production");const ru="maestrochattolearn@gmail.com".trim()||null;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:FE,setPrototypeOf:g0,isFrozen:VP,getPrototypeOf:BP,getOwnPropertyDescriptor:zP}=Object;let{freeze:Yt,seal:Un,create:nh}=Object,{apply:ih,construct:oh}=typeof Reflect<"u"&&Reflect;Yt||(Yt=function(e){return e});Un||(Un=function(e){return e});ih||(ih=function(e,i){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];return e.apply(i,a)});oh||(oh=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return new e(...r)});const su=Jt(Array.prototype.forEach),qP=Jt(Array.prototype.lastIndexOf),y0=Jt(Array.prototype.pop),aa=Jt(Array.prototype.push),FP=Jt(Array.prototype.splice),Tu=Jt(String.prototype.toLowerCase),Cd=Jt(String.prototype.toString),wd=Jt(String.prototype.match),la=Jt(String.prototype.replace),YP=Jt(String.prototype.indexOf),JP=Jt(String.prototype.trim),Yn=Jt(Object.prototype.hasOwnProperty),Bt=Jt(RegExp.prototype.test),ua=KP(TypeError);function Jt(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return ih(t,e,r)}}function KP(t){return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return oh(t,i)}}function be(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tu;g0&&g0(t,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){const l=i(a);l!==a&&(VP(e)||(e[r]=l),a=l)}t[a]=!0}return t}function $P(t){for(let e=0;e<t.length;e++)Yn(t,e)||(t[e]=null);return t}function ri(t){const e=nh(null);for(const[i,r]of FE(t))Yn(t,i)&&(Array.isArray(r)?e[i]=$P(r):r&&typeof r=="object"&&r.constructor===Object?e[i]=ri(r):e[i]=r);return e}function ca(t,e){for(;t!==null;){const r=zP(t,e);if(r){if(r.get)return Jt(r.get);if(typeof r.value=="function")return Jt(r.value)}t=BP(t)}function i(){return null}return i}const v0=Yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),bd=Yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Id=Yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XP=Yt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rd=Yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),WP=Yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T0=Yt(["#text"]),_0=Yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Nd=Yt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E0=Yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),au=Yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QP=Un(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZP=Un(/<%[\w\W]*|[\w\W]*%>/gm),jP=Un(/\$\{[\w\W]*/gm),e2=Un(/^data-[\-\w.\u00B7-\uFFFF]+$/),t2=Un(/^aria-[\-\w]+$/),YE=Un(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),n2=Un(/^(?:\w+script|data):/i),i2=Un(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),JE=Un(/^html$/i),o2=Un(/^[a-z][.\w]*(-[.\w]+)+$/i);var S0=Object.freeze({__proto__:null,ARIA_ATTR:t2,ATTR_WHITESPACE:i2,CUSTOM_ELEMENT:o2,DATA_ATTR:e2,DOCTYPE_NAME:JE,ERB_EXPR:ZP,IS_ALLOWED_URI:YE,IS_SCRIPT_OR_DATA:n2,MUSTACHE_EXPR:QP,TMPLIT_EXPR:jP});const fa={element:1,text:3,progressingInstruction:7,comment:8,document:9},r2=function(){return typeof window>"u"?null:window},s2=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";i&&i.hasAttribute(a)&&(r=i.getAttribute(a));const l="dompurify"+(r?"#"+r:"");try{return e.createPolicy(l,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},A0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function KE(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r2();const e=le=>KE(le);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==fa.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const r=i,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:f,Node:p,Element:g,NodeFilter:m,NamedNodeMap:v=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:T,DOMParser:_,trustedTypes:C}=t,b=g.prototype,M=ca(b,"cloneNode"),R=ca(b,"remove"),k=ca(b,"nextSibling"),z=ca(b,"childNodes"),q=ca(b,"parentNode");if(typeof f=="function"){const le=i.createElement("template");le.content&&le.content.ownerDocument&&(i=le.content.ownerDocument)}let G,W="";const{implementation:V,createNodeIterator:F,createDocumentFragment:ne,getElementsByTagName:Q}=i,{importNode:he}=r;let ce=A0();e.isSupported=typeof FE=="function"&&typeof q=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_e,ERB_EXPR:ye,TMPLIT_EXPR:Ie,DATA_ATTR:Fe,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:oe,CUSTOM_ELEMENT:we}=S0;let{IS_ALLOWED_URI:Le}=S0,I=null;const J=be({},[...v0,...bd,...Id,...Rd,...T0]);let X=null;const re=be({},[..._0,...Nd,...E0,...au]);let se=Object.seal(nh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,Re=null;const Be=Object.seal(nh(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ze=!0,Gt=!0,rn=!1,sn=!0,an=!1,dt=!0,wt=!1,bt=!1,ui=!1,Kt=!1,Pn=!1,lt=!1,gn=!0,bo=!1;const ln="user-content-";let Et=!0,Zn=!1,On={},Ht=null;const jn=be({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ci=null;const Io=be({},["audio","video","img","source","image","track"]);let Ro=null;const No=be({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yn="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml";let it=pt,xo=!1,zi=null;const cs=be({},[yn,ht,pt],Cd);let Gn=be({},["mi","mo","mn","ms","mtext"]),Hn=be({},["annotation-xml"]);const te=be({},["title","style","font","a","script"]);let Ae=null;const fe=["application/xhtml+xml","text/html"],He="text/html";let Me=null,It=null;const ut=i.createElement("form"),mt=function(N){return N instanceof RegExp||N instanceof Function},Vn=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(It&&It===N)){if((!N||typeof N!="object")&&(N={}),N=ri(N),Ae=fe.indexOf(N.PARSER_MEDIA_TYPE)===-1?He:N.PARSER_MEDIA_TYPE,Me=Ae==="application/xhtml+xml"?Cd:Tu,I=Yn(N,"ALLOWED_TAGS")?be({},N.ALLOWED_TAGS,Me):J,X=Yn(N,"ALLOWED_ATTR")?be({},N.ALLOWED_ATTR,Me):re,zi=Yn(N,"ALLOWED_NAMESPACES")?be({},N.ALLOWED_NAMESPACES,Cd):cs,Ro=Yn(N,"ADD_URI_SAFE_ATTR")?be(ri(No),N.ADD_URI_SAFE_ATTR,Me):No,ci=Yn(N,"ADD_DATA_URI_TAGS")?be(ri(Io),N.ADD_DATA_URI_TAGS,Me):Io,Ht=Yn(N,"FORBID_CONTENTS")?be({},N.FORBID_CONTENTS,Me):jn,pe=Yn(N,"FORBID_TAGS")?be({},N.FORBID_TAGS,Me):ri({}),Re=Yn(N,"FORBID_ATTR")?be({},N.FORBID_ATTR,Me):ri({}),On=Yn(N,"USE_PROFILES")?N.USE_PROFILES:!1,ze=N.ALLOW_ARIA_ATTR!==!1,Gt=N.ALLOW_DATA_ATTR!==!1,rn=N.ALLOW_UNKNOWN_PROTOCOLS||!1,sn=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,an=N.SAFE_FOR_TEMPLATES||!1,dt=N.SAFE_FOR_XML!==!1,wt=N.WHOLE_DOCUMENT||!1,Kt=N.RETURN_DOM||!1,Pn=N.RETURN_DOM_FRAGMENT||!1,lt=N.RETURN_TRUSTED_TYPE||!1,ui=N.FORCE_BODY||!1,gn=N.SANITIZE_DOM!==!1,bo=N.SANITIZE_NAMED_PROPS||!1,Et=N.KEEP_CONTENT!==!1,Zn=N.IN_PLACE||!1,Le=N.ALLOWED_URI_REGEXP||YE,it=N.NAMESPACE||pt,Gn=N.MATHML_TEXT_INTEGRATION_POINTS||Gn,Hn=N.HTML_INTEGRATION_POINTS||Hn,se=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&mt(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&mt(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),an&&(Gt=!1),Pn&&(Kt=!0),On&&(I=be({},T0),X=[],On.html===!0&&(be(I,v0),be(X,_0)),On.svg===!0&&(be(I,bd),be(X,Nd),be(X,au)),On.svgFilters===!0&&(be(I,Id),be(X,Nd),be(X,au)),On.mathMl===!0&&(be(I,Rd),be(X,E0),be(X,au))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?Be.tagCheck=N.ADD_TAGS:(I===J&&(I=ri(I)),be(I,N.ADD_TAGS,Me))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?Be.attributeCheck=N.ADD_ATTR:(X===re&&(X=ri(X)),be(X,N.ADD_ATTR,Me))),N.ADD_URI_SAFE_ATTR&&be(Ro,N.ADD_URI_SAFE_ATTR,Me),N.FORBID_CONTENTS&&(Ht===jn&&(Ht=ri(Ht)),be(Ht,N.FORBID_CONTENTS,Me)),N.ADD_FORBID_CONTENTS&&(Ht===jn&&(Ht=ri(Ht)),be(Ht,N.ADD_FORBID_CONTENTS,Me)),Et&&(I["#text"]=!0),wt&&be(I,["html","head","body"]),I.table&&(be(I,["tbody"]),delete pe.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw ua('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ua('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');G=N.TRUSTED_TYPES_POLICY,W=G.createHTML("")}else G===void 0&&(G=s2(C,a)),G!==null&&typeof W=="string"&&(W=G.createHTML(""));Yt&&Yt(N),It=N}},vn=be({},[...bd,...Id,...XP]),fs=be({},[...Rd,...WP]),ka=function(N){let $=q(N);(!$||!$.tagName)&&($={namespaceURI:it,tagName:"template"});const ie=Tu(N.tagName),qe=Tu($.tagName);return zi[N.namespaceURI]?N.namespaceURI===ht?$.namespaceURI===pt?ie==="svg":$.namespaceURI===yn?ie==="svg"&&(qe==="annotation-xml"||Gn[qe]):!!vn[ie]:N.namespaceURI===yn?$.namespaceURI===pt?ie==="math":$.namespaceURI===ht?ie==="math"&&Hn[qe]:!!fs[ie]:N.namespaceURI===pt?$.namespaceURI===ht&&!Hn[qe]||$.namespaceURI===yn&&!Gn[qe]?!1:!fs[ie]&&(te[ie]||!vn[ie]):!!(Ae==="application/xhtml+xml"&&zi[N.namespaceURI]):!1},$t=function(N){aa(e.removed,{element:N});try{q(N).removeChild(N)}catch{R(N)}},Bn=function(N,$){try{aa(e.removed,{attribute:$.getAttributeNode(N),from:$})}catch{aa(e.removed,{attribute:null,from:$})}if($.removeAttribute(N),N==="is")if(Kt||Pn)try{$t($)}catch{}else try{$.setAttribute(N,"")}catch{}},ds=function(N){let $=null,ie=null;if(ui)N="<remove></remove>"+N;else{const Ce=wd(N,/^[\r\n\t ]+/);ie=Ce&&Ce[0]}Ae==="application/xhtml+xml"&&it===pt&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const qe=G?G.createHTML(N):N;if(it===pt)try{$=new _().parseFromString(qe,Ae)}catch{}if(!$||!$.documentElement){$=V.createDocument(it,"template",null);try{$.documentElement.innerHTML=xo?W:qe}catch{}}const ot=$.body||$.documentElement;return N&&ie&&ot.insertBefore(i.createTextNode(ie),ot.childNodes[0]||null),it===pt?Q.call($,wt?"html":"body")[0]:wt?$.documentElement:ot},hs=function(N){return F.call(N.ownerDocument||N,N,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},Tn=function(N){return N instanceof T&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof v)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},gt=function(N){return typeof p=="function"&&N instanceof p};function tt(le,N,$){su(le,ie=>{ie.call(e,N,$,It)})}const fi=function(N){let $=null;if(tt(ce.beforeSanitizeElements,N,null),Tn(N))return $t(N),!0;const ie=Me(N.nodeName);if(tt(ce.uponSanitizeElement,N,{tagName:ie,allowedTags:I}),dt&&N.hasChildNodes()&&!gt(N.firstElementChild)&&Bt(/<[/\w!]/g,N.innerHTML)&&Bt(/<[/\w!]/g,N.textContent)||N.nodeType===fa.progressingInstruction||dt&&N.nodeType===fa.comment&&Bt(/<[/\w]/g,N.data))return $t(N),!0;if(!(Be.tagCheck instanceof Function&&Be.tagCheck(ie))&&(!I[ie]||pe[ie])){if(!pe[ie]&&Ua(ie)&&(se.tagNameCheck instanceof RegExp&&Bt(se.tagNameCheck,ie)||se.tagNameCheck instanceof Function&&se.tagNameCheck(ie)))return!1;if(Et&&!Ht[ie]){const qe=q(N)||N.parentNode,ot=z(N)||N.childNodes;if(ot&&qe){const Ce=ot.length;for(let xt=Ce-1;xt>=0;--xt){const _n=M(ot[xt],!0);_n.__removalCount=(N.__removalCount||0)+1,qe.insertBefore(_n,k(N))}}}return $t(N),!0}return N instanceof g&&!ka(N)||(ie==="noscript"||ie==="noembed"||ie==="noframes")&&Bt(/<\/no(script|embed|frames)/i,N.innerHTML)?($t(N),!0):(an&&N.nodeType===fa.text&&($=N.textContent,su([_e,ye,Ie],qe=>{$=la($,qe," ")}),N.textContent!==$&&(aa(e.removed,{element:N.cloneNode()}),N.textContent=$)),tt(ce.afterSanitizeElements,N,null),!1)},ar=function(N,$,ie){if(gn&&($==="id"||$==="name")&&(ie in i||ie in ut))return!1;if(!(Gt&&!Re[$]&&Bt(Fe,$))){if(!(ze&&Bt(H,$))){if(!(Be.attributeCheck instanceof Function&&Be.attributeCheck($,N))){if(!X[$]||Re[$]){if(!(Ua(N)&&(se.tagNameCheck instanceof RegExp&&Bt(se.tagNameCheck,N)||se.tagNameCheck instanceof Function&&se.tagNameCheck(N))&&(se.attributeNameCheck instanceof RegExp&&Bt(se.attributeNameCheck,$)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck($,N))||$==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&Bt(se.tagNameCheck,ie)||se.tagNameCheck instanceof Function&&se.tagNameCheck(ie))))return!1}else if(!Ro[$]){if(!Bt(Le,la(ie,oe,""))){if(!(($==="src"||$==="xlink:href"||$==="href")&&N!=="script"&&YP(ie,"data:")===0&&ci[N])){if(!(rn&&!Bt(Z,la(ie,oe,"")))){if(ie)return!1}}}}}}}return!0},Ua=function(N){return N!=="annotation-xml"&&wd(N,we)},La=function(N){tt(ce.beforeSanitizeAttributes,N,null);const{attributes:$}=N;if(!$||Tn(N))return;const ie={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0};let qe=$.length;for(;qe--;){const ot=$[qe],{name:Ce,namespaceURI:xt,value:_n}=ot,Xt=Me(Ce),ei=_n;let St=Ce==="value"?ei:JP(ei);if(ie.attrName=Xt,ie.attrValue=St,ie.keepAttr=!0,ie.forceKeepAttr=void 0,tt(ce.uponSanitizeAttribute,N,ie),St=ie.attrValue,bo&&(Xt==="id"||Xt==="name")&&(Bn(Ce,N),St=ln+St),dt&&Bt(/((--!?|])>)|<\/(style|title|textarea)/i,St)){Bn(Ce,N);continue}if(Xt==="attributename"&&wd(St,"href")){Bn(Ce,N);continue}if(ie.forceKeepAttr)continue;if(!ie.keepAttr){Bn(Ce,N);continue}if(!sn&&Bt(/\/>/i,St)){Bn(Ce,N);continue}an&&su([_e,ye,Ie],ms=>{St=la(St,ms," ")});const ps=Me(N.nodeName);if(!ar(ps,Xt,St)){Bn(Ce,N);continue}if(G&&typeof C=="object"&&typeof C.getAttributeType=="function"&&!xt)switch(C.getAttributeType(ps,Xt)){case"TrustedHTML":{St=G.createHTML(St);break}case"TrustedScriptURL":{St=G.createScriptURL(St);break}}if(St!==ei)try{xt?N.setAttributeNS(xt,Ce,St):N.setAttribute(Ce,St),Tn(N)?$t(N):y0(e.removed)}catch{Bn(Ce,N)}}tt(ce.afterSanitizeAttributes,N,null)},Pa=function le(N){let $=null;const ie=hs(N);for(tt(ce.beforeSanitizeShadowDOM,N,null);$=ie.nextNode();)tt(ce.uponSanitizeShadowNode,$,null),fi($),La($),$.content instanceof l&&le($.content);tt(ce.afterSanitizeShadowDOM,N,null)};return e.sanitize=function(le){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=null,ie=null,qe=null,ot=null;if(xo=!le,xo&&(le="<!-->"),typeof le!="string"&&!gt(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw ua("dirty is not a string, aborting")}else throw ua("toString is not a function");if(!e.isSupported)return le;if(bt||Vn(N),e.removed=[],typeof le=="string"&&(Zn=!1),Zn){if(le.nodeName){const _n=Me(le.nodeName);if(!I[_n]||pe[_n])throw ua("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof p)$=ds("<!---->"),ie=$.ownerDocument.importNode(le,!0),ie.nodeType===fa.element&&ie.nodeName==="BODY"||ie.nodeName==="HTML"?$=ie:$.appendChild(ie);else{if(!Kt&&!an&&!wt&&le.indexOf("<")===-1)return G&&lt?G.createHTML(le):le;if($=ds(le),!$)return Kt?null:lt?W:""}$&&ui&&$t($.firstChild);const Ce=hs(Zn?le:$);for(;qe=Ce.nextNode();)fi(qe),La(qe),qe.content instanceof l&&Pa(qe.content);if(Zn)return le;if(Kt){if(Pn)for(ot=ne.call($.ownerDocument);$.firstChild;)ot.appendChild($.firstChild);else ot=$;return(X.shadowroot||X.shadowrootmode)&&(ot=he.call(r,ot,!0)),ot}let xt=wt?$.outerHTML:$.innerHTML;return wt&&I["!doctype"]&&$.ownerDocument&&$.ownerDocument.doctype&&$.ownerDocument.doctype.name&&Bt(JE,$.ownerDocument.doctype.name)&&(xt="<!DOCTYPE "+$.ownerDocument.doctype.name+`>
`+xt),an&&su([_e,ye,Ie],_n=>{xt=la(xt,_n," ")}),G&&lt?G.createHTML(xt):xt},e.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vn(le),bt=!0},e.clearConfig=function(){It=null,bt=!1},e.isValidAttribute=function(le,N,$){It||Vn({});const ie=Me(le),qe=Me(N);return ar(ie,qe,$)},e.addHook=function(le,N){typeof N=="function"&&aa(ce[le],N)},e.removeHook=function(le,N){if(N!==void 0){const $=qP(ce[le],N);return $===-1?void 0:FP(ce[le],$,1)[0]}return y0(ce[le])},e.removeHooks=function(le){ce[le]=[]},e.removeAllHooks=function(){ce=A0()},e}var $E=KE();const a2=new Set(["href","xlink:href"]);let C0=!1;const l2=()=>{C0||($E.addHook("uponSanitizeAttribute",(t,e)=>{const i=e.attrName.toLowerCase(),r=(e.attrValue||"").trim(),a=r.toLowerCase();if(i.startsWith("on")){e.keepAttr=!1;return}if((i==="fill"||i==="stroke")&&a==="none"){e.keepAttr=!0,e.forceKeepAttr=!0;return}if(a2.has(i)){const l=r.startsWith("#"),f=a.startsWith("data:image/");!l&&!f?e.keepAttr=!1:(e.keepAttr=!0,e.forceKeepAttr=!0);return}i==="style"&&(a.includes("javascript:")||a.includes("expression(")?e.keepAttr=!1:(e.keepAttr=!0,e.forceKeepAttr=!0))}),C0=!0)},jo=t=>t?(l2(),$E.sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},ADD_TAGS:["style","use","animate","animateTransform","animateMotion"],ADD_ATTR:["href","xlink:href","pointer-events"],FORBID_TAGS:["script","iframe","object","embed","foreignObject"],ALLOW_UNKNOWN_PROTOCOLS:!1})):"";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=t=>{const e=c2(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:f,...p},g)=>j.createElement("svg",{ref:g,...f2,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:XE("lucide",a),...!l&&!d2(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,v])=>j.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const i=j.forwardRef(({className:r,...a},l)=>j.createElement(h2,{ref:l,iconNode:e,className:XE(`lucide-${u2(w0(t))}`,`lucide-${t}`,r),...a}));return i.displayName=w0(t),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],m2=rt("calculator",p2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],y2=rt("circle-alert",g2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fh=rt("circle-user-round",v2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_2=rt("code",T2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Yh=rt("coins",E2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],A2=rt("copy",S2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WE=rt("download",C2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],b2=rt("eraser",w2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],R2=rt("external-link",I2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x2=rt("eye",N2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],QE=rt("key",M2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],b0=rt("loader-circle",D2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],U2=rt("log-in",k2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZE=rt("log-out",L2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],O2=rt("message-square",P2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],H2=rt("pen-tool",G2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B2=rt("plus",V2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],q2=rt("shopping-cart",z2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y2=rt("square-check-big",F2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],K2=rt("square",J2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jE=rt("trash-2",$2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eS=rt("triangle-alert",X2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Da=rt("x",W2),Q2=({onClick:t})=>{const[e,i]=j.useState(OE()??0),[r,a]=j.useState(!1),l=j.useRef(null);return j.useEffect(()=>{const f=Bh(p=>{i(p),a(!0),l.current!==null&&window.clearTimeout(l.current),l.current=window.setTimeout(()=>{a(!1),l.current=null},600)});return()=>{f(),l.current!==null&&(window.clearTimeout(l.current),l.current=null)}},[]),A.jsxs("button",{onClick:t,className:`flex items-center gap-1.5 px-3 py-1.5 sketchy-border-thin bg-accent/10 hover:bg-accent/20 transition-all text-foreground font-hand text-base ${r?"scale-110":"scale-100"}`,title:"GIF Credits balance - Click to buy more",style:{transition:"transform 0.3s ease"},children:[A.jsx(Yh,{size:16,className:"text-accent"}),A.jsx("span",{className:"font-sketch text-lg",children:zh(e,{decimals:2})})]})},Z2=({onOpenApiKeyModal:t,isTokenMode:e,onOpenPurchaseModal:i,canManageAccount:r,onOpenAccountModal:a})=>A.jsxs("header",{className:"mb-12 flex flex-col md:flex-row items-center justify-between gap-4 animate-sketch-in",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("svg",{width:"42",height:"42",viewBox:"0 0 36 36",fill:"none",className:"text-foreground animate-wobble",children:[A.jsx("path",{d:"M26 4a4.24 4.24 0 0 1 6 6L11.25 30.75 3 33l2.25-8.25L26 4z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M22 8l6 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),A.jsxs("div",{children:[A.jsx("h1",{className:"font-sketch text-4xl md:text-5xl text-foreground tracking-tight leading-none",children:"Sketch AI"}),A.jsx("div",{className:"font-hand text-muted-foreground text-lg ml-1",children:"Infinite Refinement Loop"})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[e&&A.jsx(Q2,{onClick:i}),r&&A.jsx("button",{onClick:a,className:"p-2 text-muted-foreground hover:text-foreground transition-colors hover:bg-muted/30 rounded-lg",title:"Manage Account","aria-label":"Manage Account",children:A.jsx(Fh,{size:20})}),A.jsx("button",{onClick:t,className:"p-2 text-muted-foreground hover:text-foreground transition-colors hover:bg-muted/30 rounded-lg",title:"Settings","aria-label":"Settings",children:A.jsx(QE,{size:20})}),A.jsx("div",{className:"hidden md:block",children:A.jsx("svg",{width:"100",height:"20",viewBox:"0 0 100 20",children:A.jsx("path",{d:"M0 10 Q25 0 50 10 T100 10",stroke:"currentColor",strokeWidth:"1",fill:"none",className:"text-muted-foreground/30"})})})]})]}),tS=j.forwardRef(({svgCode:t},e)=>{const i=j.useRef(null),r=j.useMemo(()=>jo(t),[t]);return j.useImperativeHandle(e,()=>({captureImage:async()=>{if(!i.current)return"";const a=i.current.querySelector("svg");if(!a)return"";const l=a.cloneNode(!0);l.setAttribute("width","800"),l.setAttribute("height","800");const f=new XMLSerializer().serializeToString(l),p=document.createElement("canvas"),g=p.getContext("2d"),m=800,v=800;p.width=m,p.height=v;const T=new Image,_=new Blob([f],{type:"image/svg+xml;charset=utf-8"}),C=URL.createObjectURL(_);return new Promise((b,M)=>{T.onload=()=>{if(g){g.fillStyle="#ffffff",g.fillRect(0,0,m,v);const R=Math.min(m/T.width,v/T.height),k=m/2-T.width/2*R,z=v/2-T.height/2*R;g.drawImage(T,k,z,T.width*R,T.height*R),URL.revokeObjectURL(C),b(p.toDataURL("image/png"))}else M("No context")},T.onerror=R=>{URL.revokeObjectURL(C),M(R)},T.src=C})}})),A.jsxs("div",{ref:i,className:"w-full h-full flex items-center justify-center bg-white overflow-hidden relative min-h-[300px]",children:[A.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-50 mix-blend-multiply",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`}}),A.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#999 1px, transparent 1px), linear-gradient(90deg, #999 1px, transparent 1px)",backgroundSize:"20px 20px"}}),r?A.jsx("div",{className:"w-full h-full flex items-center justify-center p-8 z-10 [&>svg]:w-auto [&>svg]:h-auto [&>svg]:max-w-full [&>svg]:max-h-full [&>svg]:drop-shadow-sm",dangerouslySetInnerHTML:{__html:r}}):A.jsxs("div",{className:"text-muted-foreground/30 flex flex-col items-center z-10",children:[A.jsx("span",{className:"font-sketch text-4xl mb-2",children:"Empty Page"}),A.jsx("p",{className:"font-hand text-lg",children:"Waiting for ink..."})]})]})});tS.displayName="SVGCanvas";const j2=({phase:t,prompt:e,setPrompt:i,onStart:r,onStop:a,autoRefineEnabled:l,onAutoRefineChange:f,stopAfterCurrentResult:p,svgCode:g,canvasRef:m,critique:v,thoughts:T,isThinking:_,plan:C,iteration:b,streamedSvgCode:M})=>{const R=t===Ke.IDLE||t===Ke.STOPPED,k=j.useRef(null);j.useEffect(()=>{k.current&&(k.current.scrollTop=k.current.scrollHeight)},[v,C,t,b,M]);const z=t===Ke.GENERATING?"Drafting shapes...":t===Ke.RENDERING?"Stepping back to look...":t===Ke.REFINING?"Adding details...":t===Ke.EVALUATING?"Reviewing the sketch...":t===Ke.PLANNING?"Planning composition...":null,q=G=>{G.key==="Enter"&&(G.ctrlKey||G.metaKey)&&R&&e.trim()&&r()};return A.jsx("div",{className:"mb-12 animate-sketch-in",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"font-sketch text-2xl text-foreground",children:"01. Sketchpad"}),!R&&A.jsxs("span",{className:"font-hand text-accent text-sm animate-pulse uppercase tracking-widest",children:["Creating... ",t]})]}),A.jsx("div",{className:"relative",children:R?A.jsx("div",{className:"torn-paper bg-card p-1 shadow-md",children:A.jsxs("div",{className:"notebook-lines min-h-[350px] relative bg-paper",children:[A.jsx("textarea",{value:e,onChange:G=>i(G.target.value),onKeyDown:q,placeholder:"Describe what you'd like me to sketch...",className:"w-full h-full min-h-[350px] bg-transparent px-6 py-4 font-hand text-xl text-foreground placeholder:text-muted-foreground/50 resize-none focus:outline-none leading-[32px]"}),A.jsx("div",{className:"absolute -right-4 -bottom-4 text-muted-foreground/30 transform rotate-12",children:A.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:A.jsx("path",{d:"M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})})]})}):A.jsxs("div",{className:"sketchy-border bg-white p-2 relative shadow-lg min-h-[400px] flex flex-col",children:[A.jsxs("div",{className:"absolute -top-3 -left-3 bg-accent text-white px-3 py-1 font-architect text-sm transform -rotate-6 shadow-sm z-20",children:["Iteration #",b]}),A.jsx("div",{className:"flex-1 border border-dashed border-muted rounded-lg overflow-hidden relative",children:A.jsx(tS,{ref:m,svgCode:g})})]})}),A.jsx("div",{className:"flex justify-center mt-2",children:R?A.jsx("button",{onClick:r,disabled:!e.trim(),className:"group relative px-8 py-3 font-sketch text-2xl sketchy-border cursor-pointer transition-all duration-300 bg-primary text-primary-foreground hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:-rotate-1",children:A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(H2,{size:20,className:"group-hover:rotate-12 transition-transform"}),"Start Sketching"]})}):A.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[A.jsx("button",{onClick:a,className:"group relative px-6 py-3 font-sketch text-xl sketchy-border cursor-pointer transition-all duration-300 bg-white text-destructive border-destructive hover:bg-destructive/5 hover:shadow-lg hover:rotate-1",children:A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(b2,{size:20,className:"group-hover:wobble"}),"Stop Now"]})}),A.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 sketchy-border-thin bg-card font-hand text-sm",children:[A.jsx("input",{type:"checkbox",checked:l,onChange:G=>f(G.target.checked)}),"Auto refinement loop"]})]}),p&&A.jsx("div",{className:"font-hand text-xs text-muted-foreground",children:"Auto loop disabled. This run will stop after the current result finishes."})]})})]}),A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsx("h3",{className:"font-sketch text-2xl text-foreground mb-4",children:"02. Artist Notes"}),A.jsxs("div",{className:"flex-1 bg-secondary/50 sketchy-border-thin p-4 relative min-h-[300px] max-h-[600px] flex flex-col",children:[A.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-8 flex flex-col gap-4 py-4 pointer-events-none",children:[...Array(10)].map((G,W)=>A.jsx("div",{className:"w-4 h-4 rounded-full bg-background border border-muted-foreground/30 shadow-inner"},W))}),A.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto pl-10 pr-2 font-hand text-lg leading-relaxed custom-scrollbar space-y-4",children:[R&&!v&&!C&&A.jsxs("div",{className:"text-muted-foreground italic opacity-70",children:["Ready to start...",A.jsx("br",{}),"Waiting for your idea..."]}),C&&A.jsxs("div",{className:"animate-fade-in relative",children:[A.jsx("span",{className:"text-accent font-bold block mb-1 underline decoration-wavy decoration-muted-foreground/30",children:"Plan:"}),A.jsx("p",{className:"text-foreground/80",children:C})]}),v&&A.jsxs("div",{className:"animate-fade-in pt-4 border-t border-dashed border-muted-foreground/20",children:[A.jsx("span",{className:"text-accent font-bold block mb-1 underline decoration-wavy decoration-muted-foreground/30",children:"Critique:"}),A.jsx("div",{className:"text-foreground/80 whitespace-pre-wrap",children:v})]}),z&&A.jsxs("div",{className:"text-muted-foreground italic animate-fade-in",children:[A.jsx("div",{children:z}),T.length>0&&A.jsx("div",{className:"mt-1 whitespace-pre-wrap not-italic text-foreground/70 text-base leading-snug",children:T.map((G,W)=>A.jsx("p",{className:W>0?"opacity-80":"",children:G},`${W}-${G.slice(0,24)}`))}),_&&T.length===0&&A.jsx("div",{className:"mt-1 not-italic text-foreground/50 text-base",children:"Thinking..."}),(t===Ke.GENERATING||t===Ke.REFINING)&&M&&A.jsxs("div",{className:"mt-3 not-italic",children:[A.jsx("div",{className:"text-accent/80 font-bold mb-1",children:"SVG stream:"}),A.jsx("pre",{className:"max-h-48 overflow-y-auto bg-background/60 border border-border/50 rounded p-2 text-xs leading-snug whitespace-pre-wrap break-all text-foreground/80",children:M})]})]})]})]})]})]})})},eO=({versions:t,onSelect:e,selectedIds:i,onToggleSelect:r,onDelete:a,viewingId:l})=>{const f=(g,m)=>{g.stopPropagation();const v=new Blob([m.svgCode],{type:"image/svg+xml"}),T=URL.createObjectURL(v),_=document.createElement("a");_.href=T,_.download=`iteration-${m.iteration}.svg`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(T)},p=()=>{window.confirm(`Scrap ${i.size} sketches?`)&&a(Array.from(i))};return A.jsxs("div",{className:"pb-20 animate-fade-in",children:[A.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8 items-center justify-between",children:[A.jsx("h3",{className:"font-sketch text-3xl text-foreground",children:"03. Gallery Wall"}),i.size>0&&A.jsxs("button",{onClick:p,className:"sketchy-border-thin px-4 py-2 text-destructive hover:bg-destructive/10 font-hand text-lg transition-all flex items-center gap-2",children:[A.jsx(jE,{size:18}),"Scrap Selected (",i.size,")"]})]}),t.length===0?A.jsxs("div",{className:"py-20 border-2 border-dashed border-muted rounded-lg text-center bg-secondary/20",children:[A.jsx("div",{className:"font-sketch text-3xl text-muted-foreground opacity-50",children:"Empty Canvas"}),A.jsx("div",{className:"font-hand text-muted-foreground mt-2",children:"Start sketching to fill this wall!"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((g,m)=>{const v=i.has(g.id),T=(m%2===0?1:-1)*(.5+Math.random()*1.5);return A.jsxs("div",{onClick:()=>e(g),className:"relative group cursor-pointer transition-transform duration-300 hover:z-10 hover:scale-105",style:{transform:`rotate(${T}deg)`},children:[A.jsx("div",{className:"tape-effect"}),A.jsxs("div",{className:`bg-card p-3 pb-8 shadow-md hover:shadow-xl transition-all relative border border-border
                                    ${v?"ring-2 ring-accent":""}
                                `,style:{borderRadius:"2px"},children:[A.jsx("div",{onClick:_=>{_.stopPropagation(),r(g.id)},className:"absolute top-2 right-2 z-20 text-muted-foreground hover:text-accent transition-colors bg-white/80 rounded p-1",children:v?A.jsx(Y2,{size:20,className:"text-accent"}):A.jsx(K2,{size:20})}),A.jsxs("div",{className:"aspect-square bg-white border border-muted/20 overflow-hidden relative group-hover:border-muted/40 transition-colors",children:[A.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#000 1px, transparent 1px)",backgroundSize:"10px 10px"}}),g.thumbnail?A.jsx("img",{src:g.thumbnail,className:"w-full h-full object-contain p-4",alt:`v${g.iteration}`}):A.jsx("div",{dangerouslySetInnerHTML:{__html:jo(g.svgCode)},className:"w-full h-full flex items-center justify-center p-4 [&>svg]:w-auto [&>svg]:h-auto [&>svg]:max-w-full [&>svg]:max-h-full"}),A.jsxs("div",{className:"absolute inset-0 bg-primary/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[1px]",children:[A.jsx("button",{onClick:_=>{_.stopPropagation(),e(g)},className:"p-2 bg-white rounded-full text-foreground shadow-sm hover:scale-110 transition-transform",title:"View",children:A.jsx(x2,{size:18})}),A.jsx("button",{onClick:_=>f(_,g),className:"p-2 bg-white rounded-full text-foreground shadow-sm hover:scale-110 transition-transform",title:"Download",children:A.jsx(WE,{size:18})})]})]}),A.jsx("div",{className:"mt-3 px-1",children:A.jsxs("div",{className:"flex justify-between items-end",children:[A.jsxs("span",{className:"font-sketch text-xl text-foreground truncate",children:["Iteration #",g.iteration]}),A.jsx("span",{className:"font-hand text-xs text-muted-foreground",children:new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})]})]},g.id)})})]})},tO=({version:t,onClose:e})=>{if(!t)return null;const i=()=>{navigator.clipboard.writeText(t.svgCode)},r=()=>{const a=new Blob([t.svgCode],{type:"image/svg+xml"}),l=URL.createObjectURL(a),f=document.createElement("a");f.href=l,f.download=`iteration-${t.iteration}.svg`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(l)};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm animate-fade-in",onClick:e,children:A.jsxs("div",{className:"bg-card sketchy-border w-full max-w-6xl max-h-[90vh] flex flex-col overflow-y-auto lg:overflow-hidden shadow-2xl relative",onClick:a=>a.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-20 p-2 bg-muted/20 hover:bg-muted/50 rounded-full transition-colors text-foreground",children:A.jsx(Da,{size:24})}),A.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[A.jsxs("div",{className:"flex-1 bg-white p-10 flex items-center justify-center relative min-h-[400px]",children:[A.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),A.jsx("div",{className:"w-full h-full relative z-10 flex items-center justify-center p-4 [&>svg]:w-auto [&>svg]:h-auto [&>svg]:max-w-full [&>svg]:max-h-full [&>svg]:drop-shadow-lg",dangerouslySetInnerHTML:{__html:jo(t.svgCode)}})]}),A.jsxs("div",{className:"w-full lg:w-[450px] bg-paper-dark border-t lg:border-t-0 lg:border-l border-border flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-border border-dashed",children:[A.jsxs("h2",{className:"font-sketch text-4xl text-foreground",children:["Iteration #",t.iteration]}),A.jsx("p",{className:"font-hand text-muted-foreground mt-1",children:new Date(t.timestamp).toLocaleString()})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[t.critique&&A.jsxs("div",{children:[A.jsxs("h3",{className:"font-sketch text-2xl text-accent mb-2 flex items-center gap-2",children:[A.jsx(O2,{size:20})," Critique"]}),A.jsx("div",{className:"font-hand text-lg leading-relaxed text-foreground/80 bg-white/50 p-4 rounded-lg border border-border max-h-[200px] overflow-y-auto custom-scrollbar",children:t.critique})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-sketch text-2xl text-foreground mb-2",children:"Code Snippet"}),A.jsxs("div",{className:"bg-background border border-border rounded p-3 relative group",children:[A.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-1 bg-muted/50 rounded hover:bg-muted text-foreground transition-colors",title:"Copy",children:A.jsx(A2,{size:14})}),A.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto p-1 h-[150px] custom-scrollbar",children:t.svgCode})]})]})]}),g1()&&A.jsx("div",{className:"p-6 border-t border-border bg-background/50",children:A.jsxs("button",{onClick:r,className:"w-full py-3 sketchy-border-thin font-sketch text-xl hover:bg-accent hover:text-white hover:border-accent transition-all flex items-center justify-center gap-2",children:[A.jsx(WE,{size:20})," Save to Disk"]})})]})]})]})})},nO=({onAdd:t,onClear:e})=>{const[i,r]=j.useState(""),a=()=>{if(!i.trim())return;let f=i;const p=/```(?:xml|svg|html|jsx|tsx|javascript|typescript)?\s*([\s\S]*?)\s*```/i,g=f.match(p);g&&g[1]&&(f=g[1].trim()),f=f.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');const m=/<svg[\s\S]*?>/i,v=f.match(m);if(v){const T=v.index,_=v[0];if(_.trim().endsWith("/>"))f=_;else{const C=f.substring(T),b=/<\/\s*svg>/i,M=C.match(b);M?f=C.substring(0,M.index+M[0].length):f=C}}f=f.replace(/export\s+default\s+function\s*[\w]*\s*\([\s\S]*?\)\s*\{/gi,"").replace(/export\s+default\s+\([\s\S]*?\)\s*=>\s*\(?/gi,"").replace(/const\s+[\w]+\s*=\s*\([\s\S]*?\)\s*=>\s*\(?/gi,"").replace(/^[\s\S]*?=>\s*\(\s*/,"").replace(/^[\s\S]*?return\s*\(\s*/,"").replace(/\{\s*\.\.\.\s*props\s*\}/gi,"").replace(/\{\/\*[\s\S]*?\*\/\}/g,"").replace(/\sclassName=/g," class=").replace(/\shtmlFor=/g," for="),t(f.trim()),r("")},l=f=>{(f.ctrlKey||f.metaKey)&&f.key==="Enter"&&a()};return A.jsxs("div",{className:"mb-16",children:[A.jsx("h3",{className:"font-sketch text-2xl text-foreground mb-4",children:"04. Manual Input"}),A.jsxs("div",{className:"bg-secondary/30 p-6 sketchy-border-thin relative",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground font-hand",children:[A.jsx(_2,{size:16}),A.jsx("span",{children:"Paste raw SVG code here to add to gallery"})]}),A.jsx("textarea",{value:i,onChange:f=>r(f.target.value),onKeyDown:l,placeholder:"<svg>...</svg>",className:"w-full h-32 bg-background border border-muted p-4 font-mono text-xs focus:outline-none focus:border-accent transition-colors rounded resize-y mb-4"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("button",{onClick:a,disabled:!i.trim(),className:"px-6 py-2 bg-foreground text-background font-hand font-bold rounded shadow hover:bg-foreground/90 disabled:opacity-50 transition-colors flex items-center gap-2",children:[A.jsx(B2,{size:16})," Add to Collection"]}),A.jsxs("button",{onClick:()=>{r(""),e()},className:"px-6 py-2 text-muted-foreground font-hand hover:text-foreground transition-colors flex items-center gap-2",children:[A.jsx(Da,{size:16})," Clear"]})]})]})]})},iO=()=>A.jsx("svg",{className:"absolute w-0 h-0","aria-hidden":"true",style:{position:"absolute",width:0,height:0,overflow:"hidden"},children:A.jsxs("defs",{children:[A.jsxs("filter",{id:"sketchy",x:"-5%",y:"-5%",width:"110%",height:"110%",children:[A.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"2"}),A.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"2",xChannelSelector:"R",yChannelSelector:"G"})]}),A.jsxs("filter",{id:"pencil-texture",children:[A.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.8",numOctaves:"4",result:"noise"}),A.jsx("feComposite",{in:"SourceGraphic",in2:"noise",operator:"in"})]})]})}),oO=({isOpen:t,onClose:e,onKeySaved:i,hasApiKey:r,isTokenMode:a,isAuthenticated:l,isSigningIn:f,onModeChange:p,onOpenPurchase:g,onSignIn:m,onSignOut:v,onOpenAccount:T})=>{const[_,C]=j.useState(""),[b,M]=j.useState(null),[R,k]=j.useState(!1),[z,q]=j.useState(!1);if(j.useEffect(()=>{t||(M(null),C(""),k(!1),q(!1))},[t]),!t)return null;const G=async()=>{M(null),k(!0);try{await _1(_),i(),C(""),e()}catch(F){F instanceof er?M(F.message):M("Failed to save API key.")}finally{k(!1)}},W=async()=>{M(null);try{await m()}catch(F){M((F==null?void 0:F.message)||"Sign in failed.")}},V=async()=>{M(null),q(!0);try{await v()}catch(F){M((F==null?void 0:F.message)||"Sign out failed.")}finally{q(!1)}};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-4 bg-background/60 backdrop-blur-sm animate-fade-in",onClick:F=>{F.target===F.currentTarget&&e()},role:"dialog","aria-modal":"true","aria-labelledby":"settings-modal-title",children:A.jsxs("div",{className:"bg-card sketchy-border w-full max-w-lg p-6 relative shadow-2xl animate-sketch-in mt-4",onClick:F=>F.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-muted/20 hover:bg-muted/50 rounded-full transition-colors text-foreground","aria-label":"Close",children:A.jsx(Da,{size:20})}),A.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[A.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:A.jsx(QE,{className:"text-accent",size:24})}),A.jsx("h2",{id:"settings-modal-title",className:"font-sketch text-3xl text-foreground",children:"Settings"})]}),A.jsxs("div",{className:"mb-5",children:[A.jsx("p",{className:"font-hand text-sm text-muted-foreground mb-2",children:"Generation mode"}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx("button",{onClick:()=>p("tokens"),className:`py-2.5 sketchy-border-thin font-hand text-sm transition-all ${a?"bg-accent text-white":"hover:bg-muted/30"}`,children:"Cloud Credits"}),A.jsx("button",{onClick:()=>p("apikey"),className:`py-2.5 sketchy-border-thin font-hand text-sm transition-all ${a?"hover:bg-muted/30":"bg-accent text-white"}`,children:"API Key"})]})]}),a?A.jsx("div",{className:"space-y-3",children:l?A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"font-hand text-xs text-muted-foreground",children:"Per-generation previews show whole-number credits, while the ledger and balance use fractional credits."}),A.jsxs("button",{onClick:g,className:"w-full py-2.5 sketchy-border-thin font-hand text-base bg-accent text-white hover:bg-accent/90 transition-all flex items-center justify-center gap-2",children:[A.jsx(Yh,{size:16}),"Buy GIF Credits"]}),A.jsxs("button",{onClick:T,className:"w-full py-2.5 sketchy-border-thin font-hand text-base hover:bg-muted/30 transition-all flex items-center justify-center gap-2",children:[A.jsx(Fh,{size:16}),"Manage Account"]}),A.jsxs("button",{onClick:V,disabled:z,className:"w-full py-2.5 sketchy-border-thin font-hand text-base hover:bg-muted/30 transition-all flex items-center justify-center gap-2",children:[A.jsx(ZE,{size:16}),z?"Signing out...":"Sign out"]})]}):A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"font-hand text-sm text-foreground/80",children:"Sign in with Google to use paid cloud generation and buy GIF credits. Billing settles from actual token usage with fractional precision."}),A.jsxs("button",{onClick:W,disabled:f,className:"w-full py-2.5 sketchy-border-thin font-hand text-base bg-accent text-white hover:bg-accent/90 disabled:bg-muted disabled:text-muted-foreground transition-all flex items-center justify-center gap-2",children:[A.jsx(U2,{size:16}),f?"Signing in...":"Sign in with Google"]})]})}):A.jsxs("div",{className:"space-y-3",children:[A.jsx("p",{className:"font-hand text-sm text-foreground/80",children:"Use your own Gemini API key to generate without consuming GIF credits."}),A.jsx("input",{type:"password",value:_,onChange:F=>{C(F.target.value),M(null)},placeholder:r?"API key saved. Enter new key to replace.":"AIza...",className:"w-full px-3 py-2 font-hand text-base bg-background border border-border rounded focus:border-accent focus:outline-none",autoFocus:!0}),A.jsx("button",{onClick:G,disabled:!_.trim()||R,className:"w-full py-2.5 sketchy-border-thin font-hand text-base bg-accent text-white hover:bg-accent/90 disabled:bg-muted disabled:text-muted-foreground transition-all",children:R?"Saving...":r?"Replace API Key":"Save API Key"}),r&&A.jsx("p",{className:"font-hand text-xs text-muted-foreground",children:"An API key is already saved on this device."})]}),b&&A.jsxs("div",{className:"mt-4 flex items-start gap-2 bg-destructive/10 border border-destructive/30 rounded-lg p-3",children:[A.jsx(y2,{className:"text-destructive mt-0.5",size:18}),A.jsx("p",{className:"font-hand text-sm text-destructive/90",children:b})]})]})})},rO=({estimate:t,balance:e,isTokenMode:i,isLoading:r,autoRefineEnabled:a,onAutoRefineChange:l,onConfirm:f,onCancel:p,onBuyTokens:g})=>{if(!t&&!r)return null;const m=Vh,{formatTokens:v,formatCredits:T}=AP,_=Math.max(0,(t==null?void 0:t.estimatedGifCredits)||0),C=Math.max(0,(t==null?void 0:t.estimatedRawGifCredits)||_),b=Math.max(1,Math.ceil((t==null?void 0:t.estimatedDisplayGifCredits)??_)),M=Math.max(0,b-_),R=!i||GE(b,e+m);return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/60 backdrop-blur-sm animate-fade-in",onClick:k=>{k.target===k.currentTarget&&p()},role:"dialog","aria-modal":"true","aria-labelledby":"token-estimate-title",children:A.jsxs("div",{className:"bg-card sketchy-border w-full max-w-md p-6 relative shadow-2xl animate-sketch-in",onClick:k=>k.stopPropagation(),children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[A.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:A.jsx(m2,{className:"text-accent",size:24})}),A.jsx("h2",{id:"token-estimate-title",className:"font-sketch text-2xl text-foreground",children:"Generation Cost"})]}),r?A.jsx("div",{className:"text-center py-6",children:A.jsx("p",{className:"font-hand text-lg text-muted-foreground animate-pulse",children:"Estimating cost..."})}):t?A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-2",children:[A.jsxs("div",{className:"flex justify-between font-hand text-base",children:[A.jsx("span",{className:"text-muted-foreground",children:"Input tokens (approx.)"}),A.jsx("span",{className:"text-foreground",children:v(t.estimatedInputTokens)})]}),A.jsxs("div",{className:"flex justify-between font-hand text-base",children:[A.jsx("span",{className:"text-muted-foreground",children:"Output tokens (approx.)"}),A.jsx("span",{className:"text-foreground",children:v(t.estimatedOutputTokens)})]}),A.jsxs("div",{className:"flex justify-between font-hand text-base",children:[A.jsx("span",{className:"text-muted-foreground",children:"Estimated GIF credits (shown as whole number)"}),A.jsx("span",{className:"text-foreground",children:T(b,{whole:!0})})]}),A.jsxs("div",{className:"border-t border-border pt-2 flex justify-between font-sketch text-xl",children:[A.jsx("span",{children:"Total tokens per cycle"}),A.jsx("span",{className:"text-accent",children:v(t.estimatedTotalTokens)})]})]}),i&&A.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 space-y-1.5",children:[A.jsx("p",{className:"font-hand text-sm text-foreground/90",children:"Billing policy: charges are settled with fractional precision and shown as whole numbers in per-generation previews."}),A.jsxs("p",{className:"font-hand text-xs text-muted-foreground",children:["Cost-only estimate: ",C.toFixed(2)," credits. Billed estimate: ",_.toFixed(2),". Displayed estimate: ",T(b,{whole:!0}),".",M>0?` Rounded up by ${M.toFixed(2)}.`:""]}),A.jsx("p",{className:"font-hand text-xs text-muted-foreground",children:"A provisional reserve is taken before billed phases. Final settlement uses actual input/output/thinking token usage from the model response."})]}),A.jsx("p",{className:"font-hand text-sm text-muted-foreground",children:"You will generate one GIF result first. Auto refinement is optional and can continue generating more results."}),A.jsxs("label",{className:"flex items-center gap-2 p-3 bg-muted/20 rounded-lg font-hand text-sm text-foreground",children:[A.jsx("input",{type:"checkbox",checked:a,onChange:k=>l(k.target.checked)}),"Enable auto refinement loop (off by default)"]}),i&&A.jsxs("div",{className:"bg-accent/5 border border-accent/20 rounded-lg p-3",children:[A.jsxs("div",{className:"flex justify-between font-hand text-base",children:[A.jsx("span",{children:"Your GIF credits"}),A.jsx("span",{className:`font-sketch text-lg ${R?"text-foreground":"text-destructive"}`,children:T(e)})]}),!R&&A.jsxs("div",{className:"flex items-center gap-2 mt-2 text-destructive",children:[A.jsx(eS,{size:14}),A.jsx("span",{className:"font-hand text-sm",children:"Insufficient GIF credits for this run (final settlement may exceed the shown estimate)"})]})]}),!i&&A.jsx("p",{className:"font-hand text-xs text-muted-foreground text-center",children:"Using your API key - no GIF credits needed."})]}):null,A.jsx("div",{className:"flex gap-3 mt-5",children:i&&!R?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:g,className:"flex-1 py-2.5 sketchy-border-thin font-sketch text-lg bg-accent text-white hover:bg-accent/90 transition-all",children:"Buy GIF Credits"}),A.jsx("button",{onClick:p,className:"px-4 py-2.5 sketchy-border-thin font-hand text-base text-muted-foreground hover:text-foreground transition-all",children:"Cancel"})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:f,disabled:r,className:"flex-1 py-2.5 sketchy-border-thin font-sketch text-lg bg-accent text-white hover:bg-accent/90 disabled:bg-muted disabled:text-muted-foreground transition-all",children:r?"Estimating...":"Start Generating"}),A.jsx("button",{onClick:p,className:"px-4 py-2.5 sketchy-border-thin font-hand text-base text-muted-foreground hover:text-foreground transition-all",children:"Cancel"})]})})]})})},sO=300*1e3;let da=null,lu=0;const aO=({isOpen:t,onClose:e,onPurchaseComplete:i})=>{const[r,a]=j.useState([]),[l,f]=j.useState(!0),[p,g]=j.useState(null),[m,v]=j.useState(null),[T,_]=j.useState(null),C=j.useRef(null);j.useEffect(()=>{if(t){b();return}C.current!==null&&(window.clearTimeout(C.current),C.current=null)},[t]),j.useEffect(()=>()=>{C.current!==null&&(window.clearTimeout(C.current),C.current=null)},[]);const b=async()=>{f(!0),v(null);const R=Date.now();if(da&&R-lu<sO){a(da),f(!1);return}try{const k=await LP();k.length>0?(da=k,lu=Date.now()):(da=null,lu=0),a(k)}catch{da=null,lu=0,v("Failed to load products. Please try again.")}finally{f(!1)}},M=async R=>{if(!tr()){v("In-app purchases are only available in the Android app.");return}g(R),v(null),_(null);try{const k=qE();if(!k)throw new Error("Please sign in to purchase GIF credits.");const z=await PP(R,k.uid),q=await PE(z.purchaseToken,R);await Wo();const G=Ea[R];if(q.alreadyCredited)_("This purchase was already credited to your account.");else{const W=q.creditsGranted??(G==null?void 0:G.credits)??0;_(`Added ${zh(W)} GIF credits to your balance!`)}C.current!==null&&window.clearTimeout(C.current),C.current=window.setTimeout(()=>{C.current=null,i()},1500)}catch(k){const z=(k==null?void 0:k.code)||(k==null?void 0:k.errorCode),q=z==="USER_CANCELLED"||z==="BILLING_1"||z===1,G=String((k==null?void 0:k.message)||""),W=G.toLowerCase().includes("cancelled")||G.toLowerCase().includes("canceled");v(q||W?null:k.message||"Purchase failed. Please try again.")}finally{g(null)}};return t?A.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center p-0 md:p-4 bg-background/60 backdrop-blur-sm animate-fade-in",onClick:R=>{R.target===R.currentTarget&&e()},children:A.jsxs("div",{className:"bg-card w-full md:max-w-lg md:sketchy-border rounded-t-3xl md:rounded-none p-6 md:p-8 relative shadow-2xl animate-sketch-in max-h-[85vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-muted/20 hover:bg-muted/50 rounded-full transition-colors text-foreground","aria-label":"Close",children:A.jsx(Da,{size:20})}),A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[A.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:A.jsx(q2,{className:"text-accent",size:28})}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-sketch text-3xl text-foreground",children:"Get GIF Credits"}),A.jsx("p",{className:"font-hand text-sm text-muted-foreground",children:"Fractional credit settlement with whole-number estimate display"})]})]}),l?A.jsxs("div",{className:"flex items-center justify-center py-12",children:[A.jsx(b0,{className:"animate-spin text-accent",size:32}),A.jsx("span",{className:"ml-3 font-hand text-lg text-muted-foreground",children:"Loading products..."})]}):A.jsx("div",{className:"space-y-3",children:r.map(R=>{const k=Ea[R.productId],z=p===R.productId;return A.jsxs("button",{onClick:()=>M(R.productId),disabled:p!==null,className:`w-full p-4 sketchy-border-thin flex items-center gap-4 text-left transition-all
                    ${z?"bg-accent/20 scale-[0.98]":"hover:bg-accent/10"}
                    ${p!==null&&!z?"opacity-50":""}
                  `,children:[A.jsx("div",{className:"p-2 bg-accent/10 rounded-lg flex-shrink-0",children:A.jsx(Yh,{className:"text-accent",size:24})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("h3",{className:"font-sketch text-lg text-foreground",children:(k==null?void 0:k.label)||R.title}),A.jsxs("p",{className:"font-hand text-sm text-muted-foreground",children:[(k==null?void 0:k.credits)||0," GIF credits"]})]}),A.jsx("div",{className:"flex-shrink-0 text-right",children:z?A.jsx(b0,{className:"animate-spin text-accent",size:20}):A.jsx("span",{className:"font-sketch text-xl text-accent",children:R.price!=="N/A"?R.price:"--"})})]},R.productId)})}),m&&A.jsx("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/30 rounded-lg",children:A.jsx("p",{className:"font-hand text-sm text-destructive/90",children:m})}),T&&A.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:A.jsx("p",{className:"font-hand text-sm text-green-700",children:T})}),A.jsx("div",{className:"mt-4 p-3 bg-muted/20 rounded-lg",children:A.jsx("p",{className:"font-hand text-xs text-muted-foreground",children:"Charges are settled with fractional precision from actual token usage. Per-generation previews are shown as whole numbers for readability."})}),!tr()&&A.jsx("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg",children:A.jsx("p",{className:"font-hand text-xs text-muted-foreground text-center",children:"GIF credit purchases are available in the Android app via Google Play."})})]})}):null},lO=({isOpen:t,isAuthenticated:e,isDeleting:i,privacyPolicyUrl:r,supportEmail:a,onClose:l,onSignOut:f,onDeleteAccount:p})=>{const[g,m]=j.useState(""),[v,T]=j.useState(null),[_,C]=j.useState(!1);if(j.useEffect(()=>{t||(m(""),T(null),C(!1))},[t]),!t)return null;const b=async()=>{T(null),C(!0);try{await f(),l()}catch(R){T((R==null?void 0:R.message)||"Sign out failed. Please try again.")}finally{C(!1)}},M=async()=>{if(g.trim().toUpperCase()==="DELETE"){T(null);try{await p(),l()}catch(R){T((R==null?void 0:R.message)||"Account deletion failed. Please try again.")}}};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center p-0 md:p-4 bg-background/60 backdrop-blur-sm animate-fade-in",onClick:R=>{R.target===R.currentTarget&&l()},role:"dialog","aria-modal":"true","aria-labelledby":"account-modal-title",children:A.jsxs("div",{className:"bg-card w-full md:max-w-lg md:sketchy-border rounded-t-3xl md:rounded-none p-6 md:p-8 relative shadow-2xl animate-sketch-in max-h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[A.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 bg-muted/20 hover:bg-muted/50 rounded-full transition-colors text-foreground","aria-label":"Close account settings",children:A.jsx(Da,{size:20})}),A.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[A.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:A.jsx(Fh,{className:"text-accent",size:28})}),A.jsxs("div",{children:[A.jsx("h2",{id:"account-modal-title",className:"font-sketch text-3xl text-foreground",children:"Account"}),A.jsx("p",{className:"font-hand text-sm text-muted-foreground",children:"Manage sign-in and personal data"})]})]}),e?A.jsxs("div",{className:"space-y-4",children:[A.jsxs("button",{onClick:b,disabled:_||i,className:"w-full p-3 sketchy-border-thin hover:bg-muted/30 transition-all flex items-center justify-center gap-2 font-hand text-base",children:[A.jsx(ZE,{size:16}),_?"Signing out...":"Sign out"]}),A.jsxs("div",{className:"border border-destructive/25 bg-destructive/5 rounded-lg p-4 space-y-3",children:[A.jsxs("div",{className:"flex items-start gap-2 text-destructive",children:[A.jsx(eS,{size:16,className:"mt-0.5"}),A.jsx("div",{className:"font-hand text-sm",children:"Delete your account and all GIF credit data from this app backend. This action cannot be undone."})]}),A.jsxs("p",{className:"font-hand text-xs text-muted-foreground",children:["Type ",A.jsx("strong",{children:"DELETE"})," to confirm:"]}),A.jsx("input",{type:"text",value:g,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded font-mono text-sm focus:outline-none focus:border-accent",placeholder:"DELETE",autoComplete:"off"}),A.jsxs("button",{onClick:M,disabled:i||g.trim().toUpperCase()!=="DELETE",className:"w-full p-3 sketchy-border-thin bg-destructive text-white hover:bg-destructive/90 disabled:bg-muted disabled:text-muted-foreground transition-all flex items-center justify-center gap-2 font-hand text-base",children:[A.jsx(jE,{size:16}),i?"Deleting account...":"Delete account"]})]})]}):A.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:A.jsx("p",{className:"font-hand text-sm text-muted-foreground",children:"You are not signed in."})}),A.jsx("div",{className:"mt-6 space-y-3",children:A.jsxs("div",{className:"p-3 bg-muted/20 rounded-lg space-y-2",children:[A.jsx("p",{className:"font-hand text-sm text-foreground/80",children:"Your prompts and generated images are processed by cloud services in credit mode."}),r?A.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 font-hand text-sm text-accent underline",children:["Privacy policy ",A.jsx(R2,{size:12})]}):A.jsx("p",{className:"font-hand text-xs text-destructive/80",children:"Privacy policy URL is not configured yet."}),a&&A.jsxs("p",{className:"font-hand text-xs text-muted-foreground",children:["Support: ",a]})]})}),v&&A.jsx("div",{className:"mt-4 p-3 bg-destructive/10 border border-destructive/30 rounded-lg",role:"alert","aria-live":"assertive",children:A.jsx("p",{className:"font-hand text-sm text-destructive/90",children:v})})]})})},uO=()=>{const[t,e]=j.useState(""),[i,r]=j.useState({phase:Ke.IDLE,currentIteration:0,lastCritique:null,lastThoughts:[],plan:null,error:null}),[a,l]=j.useState([]),[f,p]=j.useState(""),[g,m]=j.useState(null),[v,T]=j.useState(!1),[_,C]=j.useState(!1),[b,M]=j.useState(!1),[R,k]=j.useState(0),[z,q]=j.useState(!1),[G,W]=j.useState(!1),[V,F]=j.useState(!1),[ne,Q]=j.useState(!1),[he,ce]=j.useState(!1),[_e,ye]=j.useState(null),[Ie,Fe]=j.useState(!1),[H,Z]=j.useState(!1),[oe,we]=j.useState(!1),[Le,I]=j.useState(!1),[J,X]=j.useState(""),[re,se]=j.useState(new Set),pe=j.useRef(!1),Re=j.useRef(null),Be=j.useRef(""),ze=j.useRef(""),Gt=j.useRef(""),rn=j.useRef(""),sn=j.useRef(0),an=j.useRef(Ke.IDLE),dt=j.useRef(null),wt=j.useRef(!1),bt=j.useRef(!1),ui=j.useRef(""),Kt=j.useRef(!1),Pn=j.useCallback(async te=>{if(dt.current===te)return;dt.current=te;let Ae=!1;try{const fe=await OP();if(fe.length===0)return;for(const He of fe)try{await PE(He.purchaseToken,He.productId)}catch(Me){console.error("Pending purchase reconciliation failed for one item:",Me)}await Wo().then(k),Ae=!0}catch(fe){console.error("Failed to reconcile pending purchases:",fe)}finally{!Ae&&dt.current===te&&(dt.current=null)}},[]);j.useEffect(()=>{wt.current=oe},[oe]),j.useEffect(()=>{bt.current=Le},[Le]),j.useEffect(()=>{(async()=>{try{const mt=await xC();l(mt)}catch(mt){console.error("Failed to load history",mt)}const He=await kP().catch(mt=>(console.error("Redirect sign-in completion failed:",mt),null));await T1();const Me=Yd();T(!!Me);const It=nr();M(It);const ut=He||qE();(!Me&&!It||It&&!ut)&&C(!0)})();const Ae=UP(He=>{q(!!He),He&&nr()?(Wo().then(k).catch(console.error),Pn(He.uid).catch(console.error)):He||(dt.current=null)}),fe=Bh(k);return()=>{Ae(),fe()}},[Pn]),j.useEffect(()=>{if(g){const te=a.find(Ae=>Ae.id===g.id);te&&te.critique!==g.critique&&m(te)}},[a,g]);const lt=(te,Ae)=>{an.current=te,r(fe=>({...fe,phase:te,...Ae}))},gn=j.useCallback(()=>{ui.current="",Kt.current=!1,X("")},[]),bo=j.useCallback(te=>{te&&(ui.current+=te,!Kt.current&&(Kt.current=!0,requestAnimationFrame(()=>{Kt.current=!1,X(ui.current)})))},[]),ln=j.useCallback(()=>{pe.current=!1,an.current=Ke.STOPPED,lt(Ke.STOPPED),bt.current=!1,I(!1)},[lt]),Et=j.useCallback(te=>{we(te),wt.current=te,!te&&pe.current?(bt.current=!0,I(!0)):te&&(bt.current=!1,I(!1))},[]),Zn=async(te,Ae,fe,He,Me)=>{const It=jo(Ae),ut={id:te,timestamp:Date.now(),svgCode:It,critique:fe,iteration:He,prompt:ze.current,thumbnail:Me};await zy(ut),l(mt=>{const Vn=mt.findIndex(vn=>vn.id===te);if(Vn>=0){const vn=[...mt];return vn[Vn]=ut,vn}return[ut,...mt]})},On=async te=>{const Ae=jo(te),fe={id:Xl(),timestamp:Date.now(),svgCode:Ae,critique:"Manually added via input.",iteration:a.length+1,prompt:"Manual Entry",thumbnail:void 0};await zy(fe),l(He=>[fe,...He])},Ht=te=>{se(Ae=>{const fe=new Set(Ae);return fe.has(te)?fe.delete(te):fe.add(te),fe})},jn=async te=>{for(const Ae of te)await MC(Ae);l(Ae=>Ae.filter(fe=>!te.includes(fe.id))),se(new Set),g&&te.includes(g.id)&&m(null)},ci=async()=>{var Ae;if(!pe.current)return;const te=fe=>{const He=fe.trim();He&&r(Me=>Me.lastThoughts[0]===He?Me:{...Me,lastThoughts:[He,...Me.lastThoughts].slice(0,2)})};try{if(!Be.current){gn(),lt(Ke.PLANNING,{error:null,lastThoughts:[]});const ut=await IP(ze.current,te,rn.current);if(!pe.current)return;gn(),lt(Ke.GENERATING,{lastThoughts:[]});const mt=await RP(ut.text,te,rn.current,bo),Vn=jo(mt.text);if(Be.current=Vn,p(Vn),Gt.current=Xl(),sn.current=1,r(vn=>({...vn,currentIteration:1,plan:ut.text})),!wt.current||bt.current){bt.current=!1,I(!1),ln();return}setTimeout(ci,1500);return}lt(Ke.RENDERING,{error:null,lastThoughts:[]}),await new Promise(ut=>setTimeout(ut,200));const fe=await((Ae=Re.current)==null?void 0:Ae.captureImage());if(!fe){console.warn("Capture failed, retrying..."),setTimeout(ci,1e3);return}if(await Zn(Gt.current,Be.current,void 0,sn.current,fe),!pe.current)return;lt(Ke.EVALUATING,{lastThoughts:[]});const He=await NP(fe,ze.current,sn.current,te,rn.current);if(r(ut=>({...ut,lastCritique:He.text})),await Zn(Gt.current,Be.current,He.text,sn.current,fe),!pe.current)return;gn(),lt(Ke.REFINING,{lastThoughts:[]});const Me=await xP(Be.current,He.text,ze.current,te,rn.current,bo),It=jo(Me.text);if(Be.current=It,p(It),Gt.current=Xl(),sn.current+=1,r(ut=>({...ut,currentIteration:ut.currentIteration+1})),!wt.current||bt.current){bt.current=!1,I(!1),ln();return}setTimeout(ci,2e3)}catch(fe){if(console.error("Loop Error",fe),fe instanceof er){ln(),C(!0),lt(Ke.STOPPED,{error:fe.message});return}const He=String((fe==null?void 0:fe.message)||"");if((fe==null?void 0:fe.code)==="functions/resource-exhausted"||/insufficient gif credits/i.test(He)){ln(),W(!0),lt(Ke.STOPPED,{error:"Insufficient GIF credits. Charges are settled with fractional precision and can exceed the shown whole-number estimate."});return}if((fe==null?void 0:fe.code)==="functions/failed-precondition"){ln(),lt(Ke.STOPPED,{error:(fe==null?void 0:fe.message)||"Generation state became invalid. Start a new run."});return}pe.current?(ln(),lt(Ke.STOPPED,{error:`Generation stopped: ${fe.message||"Unknown error"}. Start again to continue.`})):lt(Ke.STOPPED,{error:fe.message})}},Io=async()=>{const te=t.trim();if(!te)return;const Ae=Yd();if(!b&&!Ae){C(!0);return}if(b&&!z){C(!0);return}Z(!0),Fe(!0),ye(null),we(!1),wt.current=!1,I(!1),bt.current=!1,gn();try{const fe=await MP(te);ye(fe)}catch(fe){console.error("Failed to estimate tokens:",fe),ye({estimatedInputTokens:0,estimatedOutputTokens:0,estimatedTotalTokens:0,estimatedGifCredits:1,estimatedRawGifCredits:1,estimatedDisplayGifCredits:1,billingDisplayWholeCredits:!0,billingRoundedToWholeCredits:!0})}finally{Fe(!1)}},Ro=()=>{const te=t.trim();te&&(Z(!1),ye(null),e(te),ze.current=te,pe.current=!0,wt.current=oe,bt.current=!1,I(!1),Be.current="",p(""),gn(),Gt.current="",rn.current=Xl(),sn.current=0,an.current=Ke.IDLE,r({phase:Ke.PLANNING,currentIteration:0,lastCritique:null,lastThoughts:[],plan:null,error:null}),ci())},No=()=>{Z(!1),ye(null),Fe(!1)},yn=()=>{T(!0),bP()},ht=te=>{const Ae=te==="tokens";v1(te),M(Ae),Ae&&z&&Wo().then(k).catch(console.error)},pt=()=>{C(!0)},it=()=>{F(!0)},xo=async()=>{ce(!0);try{await DP(),await Wo().then(k).catch(console.error)}catch(te){if(te instanceof zE)return;throw console.error("Sign in failed:",te),te}finally{ce(!1)}},zi=async()=>{ln(),await p0(),dt.current=null,k(0),q(!1)},cs=async()=>{Q(!0),ln();try{try{await _P()}catch(te){throw console.error("Account deletion failed:",te),new Error((te==null?void 0:te.message)||"Account deletion failed. Please try again.")}try{await p0()}catch(te){console.error("Sign out after account deletion failed:",te),window.alert((te==null?void 0:te.message)||"Account deleted, but sign out failed.")}try{await DC()}catch(te){console.error("Local history cleanup after account deletion failed:",te),window.alert((te==null?void 0:te.message)||"Account deleted, but local history cleanup failed.")}dt.current=null,k(0),l([]),m(null),q(!1)}finally{Q(!1)}},Gn=()=>{W(!1),Wo().then(k).catch(console.error)},Hn=i.phase!==Ke.IDLE&&i.phase!==Ke.STOPPED&&i.phase!==Ke.RENDERING;return A.jsxs("div",{className:"min-h-screen p-4 md:p-10 overflow-x-hidden relative",children:[A.jsx(iO,{}),A.jsx("div",{className:"absolute top-4 left-4 text-muted-foreground/10 hidden md:block pointer-events-none",children:A.jsx("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:A.jsx("path",{d:"M5 5 Q30 10 55 5 Q50 30 55 55 Q30 50 5 55 Q10 30 5 5",stroke:"currentColor",strokeWidth:"1",fill:"none"})})}),A.jsx("div",{className:"absolute bottom-4 right-4 text-muted-foreground/10 hidden md:block pointer-events-none",children:A.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 50 50",children:[A.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"3 4"}),A.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"currentColor",opacity:"0.3"})]})}),A.jsxs("div",{className:"max-w-[1200px] mx-auto relative z-10",children:[A.jsx(Z2,{onOpenApiKeyModal:pt,isTokenMode:b,onOpenPurchaseModal:()=>W(!0),canManageAccount:z,onOpenAccountModal:it}),A.jsx(j2,{phase:i.phase,prompt:t,setPrompt:e,onStart:Io,onStop:ln,autoRefineEnabled:oe,onAutoRefineChange:Et,stopAfterCurrentResult:Le,svgCode:f,canvasRef:Re,critique:i.lastCritique,thoughts:i.lastThoughts,isThinking:Hn,plan:i.plan,iteration:i.currentIteration,streamedSvgCode:J}),i.error&&pe.current&&A.jsx("div",{className:"mb-6 p-4 bg-yellow-50/50 border border-yellow-200 text-yellow-700 text-sm font-hand sketchy-border-thin animate-pulse",children:i.error}),A.jsx(nO,{onAdd:On,onClear:()=>{}}),A.jsx(eO,{versions:a,viewingId:(g==null?void 0:g.id)||null,onSelect:m,selectedIds:re,onToggleSelect:Ht,onDelete:jn}),A.jsxs("footer",{className:"mt-16 text-center",children:[A.jsx("p",{className:"font-hand text-sm text-muted-foreground/40",children:"~ made with pencil shavings & pixels ~"}),A.jsxs("div",{className:"mt-2 space-x-3",children:[vu&&A.jsx("a",{href:vu,target:"_blank",rel:"noopener noreferrer",className:"font-hand text-xs text-accent underline hover:text-accent/80",children:"Privacy policy"}),ru&&A.jsx("a",{href:`mailto:${ru}`,className:"font-hand text-xs text-muted-foreground hover:text-foreground",children:ru})]})]})]}),A.jsx(tO,{version:g,onClose:()=>m(null)}),A.jsx(oO,{isOpen:_,onClose:()=>C(!1),onKeySaved:yn,hasApiKey:v,isTokenMode:b,isAuthenticated:z,isSigningIn:he,onModeChange:ht,onOpenPurchase:()=>W(!0),onSignIn:xo,onSignOut:zi,onOpenAccount:it}),H&&A.jsx(rO,{estimate:_e,balance:R,isTokenMode:b,isLoading:Ie,autoRefineEnabled:oe,onAutoRefineChange:we,onConfirm:Ro,onCancel:No,onBuyTokens:()=>{if(No(),!z){C(!0);return}W(!0)}}),A.jsx(aO,{isOpen:G,onClose:()=>W(!1),onPurchaseComplete:Gn}),A.jsx(lO,{isOpen:V,isAuthenticated:z,isDeleting:ne,privacyPolicyUrl:vu,supportEmail:ru,onClose:()=>F(!1),onSignOut:zi,onDeleteAccount:cs})]})},nS=document.getElementById("root");if(!nS)throw new Error("Could not find root element to mount to");const cO=SC.createRoot(nS);cO.render(A.jsx(pC.StrictMode,{children:A.jsx(uO,{})}));export{Qr as C,RT as K,fO as S,gh as W,pd as a,IT as b};
